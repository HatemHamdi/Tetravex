/*!CK:4145586936!*//*1428508045,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["CWs6o"]); }

__d("XProfileInfoEntityCreationController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/profile\/info\/create_eduwork\/",{});},null);
__d("XProfileInfoEntityCreationDialogController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/profile\/info\/create_eduwork\/dialog\/",{section:{type:"Int"},__asyncDialog:{type:"Int"}});},null);
__d("XProfileInfoEntitySuggestionController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/profile\/info\/create_eduwork\/suggestion\/",{});},null);
__d("FBXEntityCreation",["Arbiter","AsyncDialog","AsyncRequest","Typeahead","Button","CSS","DOM","DOMQuery","Event","Input","Map","Parent","SimpleXUIDialog","XProfileInfoEntityCreationController","XProfileInfoEntityCreationDialogController","XProfileInfoEntitySuggestionController","csx","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){b.__markCompiled&&b.__markCompiled();var z='address',aa='hub_name',ba='is_junk',ca='location_id',da='section',ea='zip',fa='city_id',ga='hub_id',ha="_5m-f",ia="_14b3",ja="_3pw9",ka="_5m-g",la="_449g",ma="._5m-f",na="._5n0j",oa="._22uv",pa="._14b4",qa="._bcb",ra="._449h",sa="._684",ta="._5m-h",ua="._52dg",va={createDialogBox:function(wa,xa,ya){xa.getView().subscribe('select',function(za,ab){if(ab.selected.uid==='0'&&(ab.selected.is_fallback_hub||ab.selected.is_fallback_hub===(void 0)))va.createDialogBoxWithHandler(ab.query,wa,xa,ya,function(){xa.getCore().unselect();xa.getCore().setValue('');},function(bb,cb){xa.getCore().setValue(bb);xa.getCore().setHiddenValue(cb);});});},createDialogBoxReact:function(wa,xa,ya,za,ab,bb){if(!(xa instanceof j))va.createDialogBoxWithHandler(za,wa,xa,ya,ab,bb);},createDialogBoxWithHandler:function(wa,xa,ya,za,ab,bb){var cb=u.getURIBuilder().setInt('section',xa).getURI(),db=xa in za?za[xa]:null;h.send(new i(cb),function(eb){va.initDialogBox(eb,xa,wa.trim());va.initEventListeners(eb,xa);va.initArbiterListeners(eb,xa,bb);va.initSubmit(eb,xa,ya,db,bb);eb.subscribe('cancel',ab);});},initDialogBox:function(wa,xa,ya){p.setValue(n.find(wa.getInnerContent(),oa),ya);va.initJunkCheckbox(wa,xa);va.loadSuggestion(wa,xa,ya,'');},initJunkCheckbox:function(wa,xa){var ya=wa.getInnerContent(),za=va.getJunkCheckbox(ya);if(za===null)return;var ab=n.find(ya,ta),bb=n.scry(ya,qa).filter(function(db){return !l.hasClass(db,la);}),cb=o.listen(za,'change',function(){if(za.checked){l.hide(ab);bb.forEach(function(fb){return l.hide(fb);});}else{bb.forEach(function(fb){return l.show(fb);});var db=va.getHubName(ya),eb=va.getLocationID(ya);va.loadSuggestion(wa,xa,db,eb);}});wa.subscribe('hide',function(){cb.remove();});},initEventListeners:function(wa,xa){var ya=wa.getInnerContent(),za=[],ab=new q([[z,'entered_address'],[ea,'entered_zip']]),bb={};bb[z]='';bb[aa]=va.getHubName(ya);bb[ea]='';n.scry(ya,pa+' input').forEach(function(cb){var db=cb.getAttribute('name');if(db===aa){za.push(o.listen(cb,'blur',function(){var eb=p.getValue(cb).trim(),fb=va.getLocationID(ya);if(bb[aa]===eb)return;bb[aa]=eb;va.loadSuggestion(wa,xa,eb,fb);}));}else if(ab.has(db))za.push(o.listen(cb,'blur',function(){var eb=p.getValue(cb).trim();if(bb[db]===eb)return;bb[db]=eb;g.inform('SessionLogger/selected',{sessionType:xa.toString(),eventName:ab.get(db),eventValue:eb});}));});wa.subscribe('hide',function(){za.forEach(function(cb){return cb.remove();});});},initArbiterListeners:function(wa,xa,ya){var za=wa.getInnerContent(),ab={};ab[ca]=va.getLocationID(za);var bb=[g.subscribe('SessionLogger/selected',function(cb,db){if(db.sessionType===xa.toString()&&db.eventName==='location_id'){var eb=va.getHubName(za);if(ab[ca]===db.eventValue)return;ab[ca]=db.eventValue;va.loadSuggestion(wa,xa,eb,db.eventValue);}}),g.subscribe('EntityCreation/selected',function(cb,db){if(db.section===xa&&db.eventName==='selected_didyoumean'){var eb=db.hubID;ya(db.hubName,eb);g.inform('SessionLogger/selected',{sessionType:xa.toString(),eventName:'selected_didyoumean',eventValue:eb.toString()});wa.hide();}}),g.subscribe('ProfileInfoExperienceTypeahead/cleared',function(cb,db){if(db.sessionType===xa.toString()&&db.eventName==='location_cleared'){var eb=va.getHubName(za);if(ab[ca]==='')return;ab[ca]='';va.loadSuggestion(wa,xa,eb,'');}})];wa.subscribe('hide',function(){bb.forEach(function(cb){return g.unsubscribe(cb);});});},initSubmit:function(wa,xa,ya,za,ab){wa.subscribe('confirm',function(){var bb=wa.getInnerContent(),cb=va.getHubName(bb),db='',eb='',fb='',gb=false,hb=n.find(bb,na+' button'),ib=[hb,n.find(bb,na+' a')];Array.prototype.push.apply(ib,n.scry(bb,ma));va.setButtonState(ib,false);n.scry(bb,pa+' input').forEach(function(nb){var ob=nb.getAttribute('name');if(ob===ca){db=p.getValue(nb);}else if(ob===z){eb=p.getValue(nb).trim();}else if(ob===ea)fb=p.getValue(nb).trim();});var jb=va.getJunkCheckbox(bb);if(jb!==null)gb=jb.checked;var kb=va.isInputError(xa,db,cb,gb,za);if(kb){va.setButtonState(ib,true);return;}var lb=t.getURIBuilder().getURI(),mb={};mb[ba]=gb;mb[aa]=cb;mb[ca]=db;mb[da]=xa;mb[z]=eb;mb[ea]=fb;new i().setURI(lb).setMethod('POST').setData(mb).setHandler(function(nb){var ob=nb.payload;if(ob!==null){if(gb)g.inform('SessionLogger/selected',{sessionType:xa.toString(),eventName:'selected_junk',eventValue:ob.toString()});g.inform('SessionLogger/selected',{sessionType:xa.toString(),eventName:'entity_created',eventValue:ob.toString()});var pb=null,qb=null;if(ya instanceof j){qb=r.byClass(ya.getElement(),ia);var rb=n.scry(qb,'input.hiddenInput');for(ub=0;ub<rb.length;++ub){vb=rb[ub];var sb=vb.getAttribute('name');if(sb===ca||sb===fa){if(!gb)p.setValue(vb,gb?'':db);pb=vb;break;}}}else{qb=r.byClass(ya.getTextFieldDOM(),ia);pb=n.find(qb,"._1_kt");}var tb=n.scry(qb,'li.hidden_elem input');for(var ub=0;ub<tb.length;++ub){var vb=tb[ub];if(vb.getAttribute('name')===ba){p.setValue(vb,gb?'1':'0');break;}}l.hide(r.byClass(pb,ja));ab(cb,ob);wa.hide();}else{va.showCreationErrorMessage(xa,za);va.setButtonState(ib,true);}}).setErrorHandler(function(){va.showCreationErrorMessage(xa,za);va.setButtonState(ib,true);}).send();});},showCreationErrorMessage:function(wa,xa){var ya=va.getErrorDialogTitle(wa,xa);if(xa===null||ya===null)return;s.show(y._("Un probl\u00e8me est survenu et le lieu n\u2019a pas \u00e9t\u00e9 cr\u00e9\u00e9. Veuillez r\u00e9essayer."),ya);},isInputError:function(wa,xa,ya,za,ab){if(ya&&xa)return false;var bb=va.getErrorDialogTitle(wa,ab);if(ab==null||bb===null)return true;var cb=y._("Vous devez saisir un nom avant de pouvoir cr\u00e9er ce lieu.");if(za){if(!ya){s.show(cb,bb);return true;}return false;}if(!(ya||xa)){s.show(y._("Vous devez saisir un nom et une ville avant de pouvoir cr\u00e9er ce lieu."),bb);}else if(!xa){s.show(y._("Vous devez saisir une ville avant de pouvoir cr\u00e9er ce lieu."),bb);}else s.show(cb,bb);return true;},loadSuggestion:function(wa,xa,ya,za){var ab=wa.getInnerContent(),bb=va.getJunkCheckbox(ab);if(bb!==null&&bb.checked)return;var cb=n.find(ab,ta),db=n.find(ab,sa);l.hide(cb);l.show(db);var eb=v.getURIBuilder().getURI(),fb={};fb[aa]=ya?ya:null;fb[ca]=za?za:null;fb[da]=xa;new i(eb).setMethod('POST').setData(fb).setRelativeTo(cb).setHandler(function(gb){l.hide(db);if(!gb.payload){m.empty(n.find(ab,ua));}else if(bb===null||!bb.checked)l.show(cb);}).send();},showDidYouMeanList:function(wa,xa){o.listen(wa,'click',function(ya){var za=ya.getTarget();if(l.hasClass(za,ha)){var ab=null,bb=null,cb=n.scry(r.byClass(za,ka),'input');cb.forEach(function(db){var eb=db.getAttribute('name');if(eb===ga){ab=p.getValue(db);}else if(eb===aa)bb=p.getValue(db);});if(ab!==null&&bb!==null)g.inform('EntityCreation/selected',{eventName:'selected_didyoumean',hubID:ab,hubName:bb,section:xa});}});},setButtonState:function(wa,xa){wa.forEach(function(ya){return k.setEnabled(ya,xa);});},getErrorDialogTitle:function(wa,xa){switch(wa){case 2002:return y._("Lieu de travail non cr\u00e9\u00e9");case 2003:return y._("\u00c9cole non cr\u00e9\u00e9e");case 2004:return y._("Universit\u00e9 non cr\u00e9\u00e9e");default:return y._("Lieu non cr\u00e9\u00e9");}},getJunkCheckbox:function(wa){var xa=n.scry(wa,ra+' input');return xa.length===1?xa[0]:null;},getHubName:function(wa){return p.getValue(n.find(wa,oa)).trim();},getLocationID:function(wa){var xa=n.scry(wa,pa+' input');for(var ya=0;ya<xa.length;++ya){var za=xa[ya];if(za.getAttribute('name')===ca)return p.getValue(za).trim();}return '';}};e.exports=va;},null);
__d("FBXEntityCreationReactWrapper",["FBXEntityCreation"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j){"use strict";this.$FBXEntityCreationReactWrapper0=i;this.$FBXEntityCreationReactWrapper1=j;}h.prototype.createDialogBox=function(i,j,k,l){"use strict";g.createDialogBoxReact(this.$FBXEntityCreationReactWrapper0,i,this.$FBXEntityCreationReactWrapper1,j,k,l);};e.exports=h;},null);
__d("FreeformSearchSource",["AbstractSearchSource","RegexMatchSearchSource","SearchableEntry"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();for(var j in g)if(g.hasOwnProperty(j))l[j]=g[j];var k=g===null?null:g.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=g;function l(m,n){"use strict";this.$FreeformSearchSource0=m;this.$FreeformSearchSource1=new h('\\S+');this.$FreeformSearchSource2=n;}l.prototype.bootstrapImpl=function(m){"use strict";this.$FreeformSearchSource0.bootstrapImpl(m);};l.prototype.searchImpl=function(m,n,o){"use strict";this.$FreeformSearchSource1.searchImpl(m,function(p,q){var r=[];if(p.length===1){r=[new i({uniqueID:p[0].getUniqueID(),title:this.$FreeformSearchSource2(p[0].getTitle().trim())})];n(r,m);}this.$FreeformSearchSource0.searchImpl(m,function(s,t){if(s.length>0)n(s.concat(r),t);},o);}.bind(this),o);};e.exports=l;},null);
__d("EntityTypeaheadWithFreeformEntryView.react",["React","TypeaheadViewPropTypes","XUITypeaheadViewContainer.react","XUITypeaheadViewItem.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g.createClass({displayName:"EntityTypeaheadWithFreeformEntryView",propTypes:h,getDefaultProps:function(){return {role:'listbox'};},_renderItem:function(m){var n=m===this.props.highlightedEntry;return (g.createElement(j,{className:m.getUniqueID()===this.props.queryString?"_1tj2 _1tj3":null,entry:m,highlighted:n,key:m.getUniqueID(),onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onSelect:this.props.onSelect}));},render:function(){return (g.createElement(i,{id:this.props.ariaOwneeID,role:this.props.role},this.props.entries.map(this._renderItem)));}});e.exports=l;},null);
__d("EntityTypeaheadWithFreeformEntry.react",["FBXEntityCreationReactWrapper","FreeformSearchSource","React","SearchableEntry","EntityTypeaheadWithFreeformEntryView.react","XUITypeahead.react","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=i,o=n.PropTypes,p='0',q=i.createClass({displayName:"EntityTypeaheadWithFreeformEntry",propTypes:Object.assign({fallbackHandler:o.instanceOf(g),fallbackPhoto:o.string,showFallback:o.bool},l.propTypes),getDefaultProps:function(){return {showFallback:false};},getInitialState:function(){return {searchSource:this.props.showFallback?new h(this.props.searchSource,function(r){return m._("Cr\u00e9er {entityName}",[m.param("entityName",r)]);}):this.props.searchSource};},_modifyOnSelectAttempt:function(r){if(r.getUniqueID()===this.props.queryString){var s=this.props.queryString.trim();r=new j({title:s,uniqueID:p,photo:this.props.fallbackPhoto?this.props.fallbackPhoto:null});if(this.props.onSelectAttempt)this.props.onSelectAttempt(r);if(this.props.fallbackHandler)this.props.fallbackHandler.createDialogBox(this,s,function(){if(this.props.onClear)this.props.onClear();}.bind(this),function(t,u){if(this.props.onSelectAttempt)this.props.onSelectAttempt(new j({title:t,uniqueID:u,photo:this.props.fallbackPhoto?this.props.fallbackPhoto:null}));}.bind(this));}else if(this.props.onSelectAttempt)this.props.onSelectAttempt(r);},render:function(){return (i.createElement(l,i.__spread({},this.props,{onSelectAttempt:this._modifyOnSelectAttempt,presenter:{ViewRenderer:k,useLayer:true},searchSource:this.state.searchSource,ref:"typeahead"})));},getTextFieldDOM:function(){return this.refs.typeahead.getTextFieldDOM();},focusInput:function(){this.refs.typeahead.focusInput();},blurInput:function(){this.refs.typeahead.blurInput();},hideView:function(){this.refs.typeahead.hideView();}});e.exports=q;},null);
__d("OrderedMap",["Object.assign","invariant"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i='key:';function j(q,r){var s={};for(var t=0;t<q.length;t++){var u=q[t],v=r(u);l(v);var w=i+v;h(!(w in s));s[w]=u;}return s;}function k(q,r){this._normalizedObj=q;this._computedPositions=null;this.length=r;}function l(q){h(q!==''&&(typeof q==='string'||typeof q==='number'));}function m(q,r,s){h(typeof q==='number'&&typeof r==='number'&&r>=0&&q>=0&&q+r<=s);}function n(q,r){h(q&&q.constructor===Object&&(!r||r.constructor===Object));var s={},t=0,u;for(u in q)if(q.hasOwnProperty(u)){s[u]=q[u];t++;}for(u in r)if(r.hasOwnProperty(u)){if(!(u in s))t++;s[u]=r[u];}return new k(s,t);}var o={has:function(q){l(q);var r=i+q;return r in this._normalizedObj;},get:function(q){l(q);var r=i+q;return this.has(q)?this._normalizedObj[r]:(void 0);},merge:function(q){h(q instanceof k);return n(this._normalizedObj,q._normalizedObj);},map:function(q,r){return this.mapRange(q,0,this.length,r);},mapRange:function(q,r,s,t){var u=this._normalizedObj,v={},w=0;m(r,s,this.length);var x=r+s-1;for(var y in u)if(u.hasOwnProperty(y)){if(w>=r){if(w>x)break;var z=u[y];v[y]=q.call(t,z,y.substr(i.length),w);}w++;}return new k(v,s);},filter:function(q,r){return this.filterRange(q,0,this.length,r);},filterRange:function(q,r,s,t){var u={},v=0;this.forEachRange(function(w,x,y){if(q.call(t,w,x,y)){var z=i+x;u[z]=w;v++;}},r,s);return new k(u,v);},forEach:function(q,r){this.forEachRange(q,0,this.length,r);},forEachRange:function(q,r,s,t){m(r,s,this.length);var u=this._normalizedObj,v=0,w=r+s-1;for(var x in u)if(u.hasOwnProperty(x)){if(v>=r){if(v>w)break;var y=u[x];q.call(t,y,x.substr(i.length),v);}v++;}},mapKeyRange:function(q,r,s,t){var u=this.indexOfKey(r),v=this.indexOfKey(s);h(u!==(void 0)&&v!==(void 0));h(v>=u);return this.mapRange(q,u,(v-u)+1,t);},forEachKeyRange:function(q,r,s,t){var u=this.indexOfKey(r),v=this.indexOfKey(s);h(u!==(void 0)&&v!==(void 0));h(v>=u);this.forEachRange(q,u,(v-u)+1,t);},keyAtIndex:function(q){var r=this._getOrComputePositions(),s=r.keyByIndex[q];return s?s.substr(i.length):(void 0);},keyAfter:function(q){return this.nthKeyAfter(q,1);},keyBefore:function(q){return this.nthKeyBefore(q,1);},nthKeyAfter:function(q,r){var s=this.indexOfKey(q);h(s!==(void 0));return this.keyAtIndex(s+r);},nthKeyBefore:function(q,r){return this.nthKeyAfter(q,-r);},indexOfKey:function(q){l(q);var r=i+q,s=this._getOrComputePositions(),t=s.indexByKey[r];return t===(void 0)?(void 0):t;},toArray:function(){var q=[],r=this._normalizedObj;for(var s in r)if(r.hasOwnProperty(s))q.push(r[s]);return q;},_getOrComputePositions:function(){var q=this._computedPositions;if(!q)this._computePositions();return this._computedPositions;},_computePositions:function(){this._computedPositions={keyByIndex:{},indexByKey:{}};var q=this._computedPositions.keyByIndex,r=this._computedPositions.indexByKey,s=0,t=this._normalizedObj;for(var u in t)if(t.hasOwnProperty(u)){q[s]=u;r[u]=s;s++;}}};g(k.prototype,o);var p={from:function(q){h(q instanceof k);return n(q._normalizedObj,null);},fromArray:function(q,r){h(Array.isArray(q));h(typeof r==='function');return new k(j(q,r),q.length);}};e.exports=p;},null);
__d("requiredIfPropIsTruthy",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j){return function(k,l,m){if(!k[i])return;g(k[l]!==(void 0));j(k,l,m);};}e.exports=h;},null);
__d("ProfileChecklistMixin",["OrderedMap","React","requestAnimationFrame","requiredIfPropIsTruthy"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=h,l=k.PropTypes,m={propTypes:{baseName:l.string.isRequired,fetchOnScroll:l.bool,imageSize:l.number,multiSelect:l.bool,onChange:l.func,options:l.array,overflow:l.oneOf(['scroll','show']),pagerEndpoint:j('showPager',l.string),pagerPlaceholder:j('showPager',l.string),requireSelect:l.bool,scrollOnFetch:l.bool,showPager:l.bool},addOption:function(n,o,p,q,r,s){this.props.multiSelect||this._uncheckAllOptions();this._insertSingleOption.apply(this,[false].concat(Array.prototype.slice.call(arguments)));},replaceWithSingleOption:function(n,o,p,q,r,s){this._insertSingleOption.apply(this,[true].concat(Array.prototype.slice.call(arguments)));this._optionsWereReplaced&&this._optionsWereReplaced();},clearSelection:function(){this._uncheckAllOptions();},getSelection:function(){var n={};this.state.options.forEach(function(o,p){if(o.checked)n[p]=o;});return n;},getSelectionCount:function(){return Object.keys(this.getSelection()).length;},hasSelection:function(){return this.getSelectionCount()>0;},getInitialState:function(){return {options:g.fromArray(this.props.options,function(n){return n.id;}),showPager:this.props.showPager};},shouldComponentUpdate:function(n,o){return (this.state.options!==o.options||this.state.showPager!==o.showPager);},_getOptionNameOrFallback:function(n){var o=n.name||this.props.baseName;if(this.props.multiSelect&&!o.endsWith('[]'))o+='['+n.id+']';return o;},_changeHandler:function(event){if(this.props.requireSelect&&!event.target.checked&&this.getSelectionCount()===1)return;if(event.target.checked&&!this.props.multiSelect)this._uncheckAllOptions();this.setState({options:this.state.options.map(function(n,o){if(o===event.target.value)n.checked=event.target.checked;return n;})},function(){if(this.props.onChange)this.props.onChange(this.getSelection());}.bind(this));},_exhaustionHandler:function(){this.setState({showPager:false});},_fetchHandler:function(n){if(!n.options.length){this._exhaustionHandler();return;}this._insertOptions(g.fromArray(n.options,function(o){return o.id;}),false,function(){if(this.props.scrollOnFetch&&this.scrollOptionToTop)this.scrollOptionToTop(n.options[0].id);}.bind(this));if(this.refs.container&&this.refs.container.updateShadows)i(this.refs.container.updateShadows);},_insertSingleOption:function(n,o,p,q,r,s,t){var u=g.fromArray([{id:o,title:p,subtitle:q,image:r,checked:!!s,name:t}],function(v){return v.id;});this._insertOptions(u,n);if(this._optionWasAdded)i(function(){return this._optionWasAdded(o);}.bind(this));},_insertOptions:function(n,o,p){this.setState({options:o?n:this.state.options.merge(n)},p);},_uncheckAllOptions:function(){this.setState({options:this.state.options.map(function(n){n.checked=false;return n;})});}};e.exports=m;},null);
__d("ProfileChecklistPagerMixin",["React"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g,i=h.PropTypes,j={propTypes:{endpoint:i.string.isRequired,onExhaustion:i.func.isRequired,onFetch:i.func,placeholder:i.string.isRequired},getInitialState:function(){return {endpoint:this.props.endpoint,loading:false};},_shouldFetchMore:function(){if(this.state.loading||!this.state.endpoint)return false;this.setState({loading:true});return true;},_onFetch:function(k){this.setState({endpoint:k.endpoint,loading:false});this.props.onFetch&&this.props.onFetch(k);!k.endpoint&&this.props.onExhaustion();}};e.exports=j;},null);
__d("highlight",["Animation","Style"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j,k,l,m){new g(j).from('background',m||'#fff9d7').to('background',l||'#fff').ease(g.ease.both).duration(2000).ondone(function(){h.set(j,'background','');k&&k();}).go();}e.exports=i;},null);
__d("ShadowedScrollableArea.react",["React","Vector","cx","throttle","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=500,o=g.createClass({displayName:"ShadowedScrollableArea",propTypes:{maxHeight:m.number.isRequired},getInitialState:function(){return {showBottom:false,showTop:false};},render:function(){var p=g.createElement("div",g.__spread({},this.props,{className:k(this.props.className,"scrollable"),ref:"area",style:Object.assign({},(this.props.style||{}),{maxHeight:this.props.maxHeight})}),this.props.children),q=(("_2yy7")+(this.state.showBottom?' '+"_2yy8":'')+(this.state.showTop?' '+"_2yy9":''));return (g.createElement("div",{className:q,onScroll:this._scrollHandler},p));},componentWillUnmount:function(){this.throttled=null;},getArea:function(){return g.findDOMNode(this.refs.area);},getScrollPosition:function(){var p=g.findDOMNode(this.refs.area),q=this._getAreaDimensions().height;return {bottom:p.scrollHeight-p.scrollTop-q,top:p.scrollTop};},updateShadows:function(){if(this._hasOverflow()){var p=this.getScrollPosition();this.setState({showBottom:p.bottom!==0,showTop:p.top!==0});}else if(this.state.showBottom||this.state.showTop)this.setState({showBottom:false,showTop:false});},_getAreaDimensions:function(){var p=g.findDOMNode(this.refs.area);return {height:h.getElementDimensions(p).y,scrollHeight:p.scrollHeight};},_hasOverflow:function(){var p=this._getAreaDimensions();return p.scrollHeight>p.height;},_scrollHandler:function(event){if(!this.throttled)this.throttled=j(this.updateShadows,n,this);this.throttled();}});e.exports=o;},null);
__d("ProfileChecklistScrollMixin",["Animation","React","Style","highlight","throttle"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=400,m=100,n=300,o=250,p={componentWillUnmount:function(){this.throttled=null;},scrollToBottom:function(){this._scrollTo(this._getScrollArea().scrollHeight);},scrollOptionToTop:function(r){if(!this.state.options.has(r))return;var s=h.findDOMNode(this.refs[r]);this._scrollTo(s.offsetTop-1,null,n);},scrollToOption:function(r){if(!this.state.options.has(r))return;var s=this._getScrollArea(),t=h.findDOMNode(this.refs[r]),u=t.offsetTop+t.offsetHeight,v=s.scrollTop+s.offsetHeight,w=function(){var x=this._getBackgroundColor();x&&j(t,null,x);}.bind(this);if(t.offsetTop<s.scrollTop){this._scrollTo(t.offsetTop-1,w);}else if(u>v){this._scrollTo(u-s.offsetHeight,w);}else{w();return;}},_getScrollArea:function(){return this.refs.container.getArea();},_getBackgroundColor:function(){var r=this._getScrollArea();while(r){var s=i.get(r,'backgroundColor');if(!q(s))return s;r=r.parentElement;}return null;},_maybeFetchMoreOptions:function(){if(this.props.fetchOnScroll&&this.state.showPager&&this.refs.container.getScrollPosition().bottom<l)this.refs.pager.fetchMore();},_scrollHandler:function(){if(!this.throttled)this.throttled=k(this._maybeFetchMoreOptions,o,this);this.throttled();},_scrollTo:function(r,s,t){new g(this._getScrollArea()).to('scrollTop',r).ease(g.ease.end).duration(t||m).ondone(function(){s&&s();}).go();}};function q(r){if(!r.startsWith('rgba'))return false;var s=r.split(',');return s.length===4&&parseFloat(s[3])===0;}e.exports=p;},null);
__d("ProfileChecklistItem.react",["React","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"ProfileChecklistItem",propTypes:{context:l.oneOf(['block','inline']),paddingLeft:l.oneOf(['none','small','normal']),paddingRight:l.oneOf(['none','small','normal'])},getDefaultProps:function(){return {context:'block',paddingLeft:'normal',paddingRight:'normal'};},render:function(){i(Array.isArray(this.props.children)&&(this.props.children.length===2||this.props.children.length===3));var n,o,p;if(this.props.children.length===3){n=this.props.children[0];o=this.props.children[1];p=this.props.children[2];}else{n=null;o=this.props.children[0];p=this.props.children[1];}var q=this.props.context==='block'?'div':'span',r=null;if(n)r=g.createElement(q,{className:"_2anj _2ani"},n);var s=this.props.paddingLeft,t=this.props.paddingRight,u=(("_2anm")+(s==='none'?' '+"_2ann":'')+(s==='small'?' '+"_2ano":'')+(t==='none'?' '+"_2anp":'')+(t==='small'?' '+"_2anq":''));return (g.createElement(q,g.__spread({},this.props,{className:j(this.props.className,u)}),r,g.createElement(q,{className:(("_2ank")+(!n?' '+"_2ani":''))},o),g.createElement(q,{className:"_2anl"},p)));}});e.exports=m;},null);
__d("ProfileChecklistPager.react",["AsyncRequest","ProfileChecklistPagerMixin","React","XUIText.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=i.createClass({displayName:"ProfileChecklistPager",mixins:[h],fetchMore:function(){if(!this._shouldFetchMore())return;(new g()).setURI(this.state.endpoint).setHandler(this._fetchHandler).send();},render:function(){var m=(("_yon")+(this.state.loading?' '+"_yoo":''));return (i.createElement("div",{className:m,onClick:this._clickHandler},i.createElement(j,{size:"small",weight:"bold"},this.props.placeholder),i.createElement("div",{className:"_yop"})));},_clickHandler:function(event){this.fetchMore();},_fetchHandler:function(m){var n=m.getPayload();this._onFetch(n);}});e.exports=l;},null);
__d("ProfileChecklist.react",["ProfileChecklistMixin","ProfileChecklistScrollMixin","React","Image.react","ProfileChecklistItem.react","ProfileChecklistPager.react","ShadowedScrollableArea.react","XUIGrayText.react","cx","uniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=i,r=q.PropTypes,s=248,t=32,u=i.createClass({displayName:"ProfileChecklist",mixins:[g,h],propTypes:{titleFontShade:r.oneOf(['dark','light','medium'])},getDefaultProps:function(){return {overflow:'show',imageSize:t,titleFontShade:'medium'};},getInitialState:function(){return {instanceID:p()};},render:function(){var v=[];this.state.options.forEach(function(y,z){var aa=null;if(y.image)aa=i.createElement("span",null,i.createElement(j,{alt:y.title,height:this.props.imageSize,src:y.image,width:this.props.imageSize}));var ba=null;if(y.subtitle)ba=i.createElement(n,{className:"_2uoa",weight:"normal"},y.subtitle);var ca=(("_2uob")+(y.checked?' '+"_2uoc":'')+(y.focused?' '+"_2uod":'')),da=null;if(y.iconSrc&&y.iconExplanation)da=i.createElement(j,{"aria-label":y.iconExplanation,className:"_3nbs","data-hover":"tooltip","data-tooltip-position":"above",src:y.iconSrc});var ea=[this.state.instanceID,z].join('_');v.push(i.createElement("label",{className:ca,htmlFor:ea,key:z,ref:z},i.createElement(k,{context:"inline",paddingLeft:this.props.paddingLeft,paddingRight:this.props.paddingRight},aa,i.createElement("span",null,i.createElement(n,{className:"_2uoe",shade:this.props.titleFontShade,size:"small",weight:"bold"},y.title,da),ba),i.createElement("span",{className:"_2uof"},i.createElement("span",{className:"_2uog"}),i.createElement("input",{checked:y.checked,className:"_2uoh",id:ea,name:this._getOptionNameOrFallback(y),onBlur:this._blurHandler,onChange:this._changeHandler,onFocus:this._focusHandler,type:"checkbox",value:z})))));},this);var w=null;if(this.state.showPager)w=i.createElement(l,{endpoint:this.props.pagerEndpoint,onExhaustion:this._exhaustionHandler,onFetch:this._fetchHandler,placeholder:this.props.pagerPlaceholder,ref:"pager"});var x=i.createElement("fieldset",{className:"_2uoi"},v,w);if(this.props.overflow==='scroll')return (i.createElement(m,{maxHeight:s,onScroll:this._scrollHandler,ref:"container"},x));return x;},_blurHandler:function(event){this.setState({options:this.state.options.map(function(v,w){if(w===event.target.value)v.focused=false;return v;})});},_focusHandler:function(event){this.setState({options:this.state.options.map(function(v,w){v.focused=w===event.target.value;return v;})});}});e.exports=u;},null);
__d("SearchSourceWithMetrics",["AbstractSearchSource"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(k,l){"use strict";this.searchSource=k;this.reporter=l;}j.prototype.searchImpl=function(k,l,m){"use strict";this.reporter.reportQueryBegin(k);var n=Date.now();this.searchSource.search(k,function(o,p){this.reporter.reportQueryComplete(Date.now()-n,0);l(o,p);}.bind(this),m);};j.prototype.bootstrapImpl=function(k){"use strict";this.reporter.reportBootstrapBegin();return this.searchSource.bootstrap(function(){this.searchSource.getBootstrappedEntries(function(l){this.reporter.reportBootstrapComplete(l.map(function(m){return m.getType();}));k();}.bind(this));}.bind(this));};e.exports=j;},null);
__d("TypeaheadMetricCounter",["copyProperties"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(){"use strict";this.reset();}h.prototype.reset=function(){"use strict";this.stats={};this.avgStats={};};h.prototype.recordStat=function(i,j){"use strict";this.stats[i]=j;};h.prototype.recordCountStat=function(i){"use strict";var j=this.stats[i];this.stats[i]=j?j+1:1;};h.prototype.recordAvgStat=function(i,j){"use strict";if(this.avgStats[i]){this.avgStats[i][0]+=j;this.avgStats[i][1]+=1;}else this.avgStats[i]=[j,1];};h.prototype.hasStats=function(){"use strict";return !!Object.keys(this.stats).length;};h.prototype.getStats=function(){"use strict";var i=g({},this.stats);for(var j in this.avgStats){var k=this.avgStats[j];i[j]=k[0]/k[1];}return i;};e.exports=h;},null);
__d("TypeaheadMetricReporter",["AsyncRequest","QueriesHistory","TypeaheadMetricCounter","mixInEventEmitter","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l='/ajax/typeahead/record_basic_metrics.php',m=1000;function n(o){"use strict";this.counter=new i();this.extraData=o;this.bootstrapped=null;this.bootstrapBegin=null;this.queriesHistory=new h(m);this.lastQuery=null;this.$TypeaheadMetricReporter0();}n.prototype.sessionStart=function(){"use strict";this.sessionActive=true;};n.prototype.sessionEnd=function(){"use strict";if(this.sessionActive){this.$TypeaheadMetricReporter1();this.$TypeaheadMetricReporter0();this.sessionActive=false;}};n.prototype.reportSelect=function(o,p,q,r,s){"use strict";s=s==null?this.lastQuery:s;this.counter.recordStat('selected_id',o||'SELECT_NULL');this.counter.recordStat('selected_type',p);this.counter.recordStat('selected_position',q);this.counter.recordStat('selected_with_mouse',r?1:0);this.counter.recordStat('selected_query',s);};n.prototype.reportBootstrapBegin=function(){"use strict";this.bootstrapBegin=Date.now();};n.prototype.reportBootstrapDirty=function(){"use strict";this.bootstrapped=false;};n.prototype.reportBootstrapComplete=function(o){"use strict";this.counter.recordAvgStat('bootstrap_latency',Date.now()-this.bootstrapBegin);var p={};o.forEach(function(q){p[q]=(p[q]||0)+1;});this.counter.recordStat('bootstrap_response_types',p);this.bootstrapped=true;};n.prototype.reportQueryBegin=function(o){"use strict";this.counter.recordStat('query',o);this.counter.recordCountStat('num_queries');this.queriesHistory.add(o);if(this.lastNotBackspacedQuery.indexOf(o)!==0)this.lastNotBackspacedQuery=o;this.lastQuery=o;};n.prototype.reportQueryComplete=function(o,p){"use strict";this.counter.recordAvgStat('avg_query_latency',o);if(typeof p!='undefined')this.counter.recordStat('filtered_count',p);};n.prototype.reportResults=function(o){"use strict";this.results=o;};n.prototype.$TypeaheadMetricReporter0=function(){"use strict";this.sid=Math.floor(Date.now()*Math.random());this.lastNotBackspacedQuery='';this.queriesHistory.reset();this.results=null;this.counter.reset();this.emit('reset',{sid:this.sid});};n.prototype.$TypeaheadMetricReporter2=function(){"use strict";var o={};for(var p in this.extraData){var q=this.extraData[p];o[p]=typeof q==='function'?q():q;}return o;};n.prototype.$TypeaheadMetricReporter1=function(){"use strict";if(this.counter.hasStats()){if(this.results)this.counter.recordStat('candidate_results',JSON.stringify(this.results));if(this.sid)this.counter.recordStat('sid',this.sid);if(this.lastNotBackspacedQuery)this.counter.recordStat('last_not_backspaced_query',this.lastNotBackspacedQuery);this.counter.recordStat('queries_history',JSON.stringify(this.queriesHistory.getQueries()));if(this.bootstrapped)this.counter.recordStat('bootstrapped',1);var o=k(this.counter.getStats(),this.$TypeaheadMetricReporter2());new g().setURI(l).setMethod('POST').setData({stats:o}).send();this.emit('submitted',o);}};j(n,{reset:true,submitted:true});e.exports=n;},null);
__d("ProfileMaskedTypeahead.react",["AbstractSearchSource","Arbiter","React","SearchableEntry","SearchSourceWithMetrics","TypeaheadMetricReporter","EntityTypeaheadWithFreeformEntry.react","cx","joinClasses","requiredIfPropIsTruthy"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=i,r=q.PropTypes,s=i.createClass({displayName:"ProfileMaskedTypeahead",propTypes:{fallbackPhoto:r.string,initialEntry:r.instanceOf(j),initialQuery:r.string,loggerData:p('useLogger',r.object),metricsData:p('useMetrics',r.object),queryName:r.string,requireSelection:r.bool,searchSource:r.instanceOf(g).isRequired,selectionName:r.string,useMetrics:r.bool,useLogger:r.bool,showFallback:r.bool},getDefaultProps:function(){return {clearable:true,showFallback:false,highlightOnSelect:true,initialEntry:null,initialQuery:'',queryName:'query',requireSelection:false,selectionName:'selected_id'};},componentDidUpdate:function(){var t=this.refs.typeahead.getTextFieldDOM(),u=t.scrollWidth>t.clientWidth;if(this.state.useMask!==u)this.setState({useMask:u});},getInitialState:function(){var t={queryString:this.props.initialQuery,selectedEntry:this.props.initialEntry,useMask:false},u=this.props.searchSource;if(this.props.useMetrics){var v=new l(this.props.metricsData);u=new k(u,v);t.metricReporter=v;}t.searchSource=u;return t;},focusInput:function(){this.refs.typeahead.focusInput();},render:function(){var t=this.state.selectedEntry,u=this.state.queryString,v=null;if(this.state.useMask)v=i.createElement("div",{className:"_4ejq"});var w=null,x=null;if(t){w=i.createElement("input",{name:this.props.selectionName,type:"hidden",value:t.getUniqueID()});}else if(u)x=i.createElement("input",{name:this.props.queryName,type:"hidden",value:u});if(t&&t.getUniqueID()==='0')x=i.createElement("input",{name:this.props.queryName,type:"hidden",value:t.getTitle()});var y=o(this.props.className,(("_4ejr")+(this.props.clearable?' '+"_4ejs":'')+(this.props.highlightOnSelect?' '+"_4ejt":'')+(!!t?' '+"_4eju":'')+(this.props.tallInput?' '+"_4ejv":'')));return (i.createElement("div",{className:y},i.createElement(m,i.__spread({},this.props,{className:"_4ejw",onBlur:this._blurHandler,onChange:this._changeHandler,onClear:this.clearSelection,onFocus:this._focusHandler,onSelectAttempt:this._selectHandler,onTypeaheadVisibilityChanged:this._typeaheadVisibilityChangeHandler,queryString:t?t.getTitle():u,ref:"typeahead",searchSource:this.state.searchSource,selectedEntry:this.state.selectedEntry})),v,x,w));},focusInput:function(){this.refs.typeahead.focusInput();},setSelectedEntry:function(t){this._selectHandler(t);},clearSelection:function(){this.setState({queryString:'',selectedEntry:null});if(this.props.onClear)this.props.onClear();},getSelectedEntry:function(){return this.state.selectedEntry;},getQueryString:function(){return this.state.queryString;},_blurHandler:function(){if(this.props.requireSelection&&!this.state.selectedEntry)this.clearSelection();if(this.props.useMetrics)this.state.metricReporter.sessionEnd();if(this.props.onBlur)setTimeout(this.props.onBlur,0);},_changeHandler:function(event){this.setState({queryString:event.target.value,selectedEntry:null});this.props.onChange&&this.props.onChange(event);},_focusHandler:function(){if(this.props.useMetrics)this.state.metricReporter.sessionStart();},_logTypeaheadData:function(t,u){var v=/[\w]+_id/g.exec(this.props.loggerData.selectionname);if(v&&v.length){h.inform('SessionLogger/selected',{sessionType:this.props.loggerData.flowtype.toString(),eventName:v[0].toString(),eventValue:t.toString()});if(u)h.inform('SessionLogger/selected',{sessionType:this.props.loggerData.flowtype.toString(),eventName:'selected_bootstrap',eventValue:t.toString()});}},_selectHandler:function(t,event){if(this.props.useMetrics){this.state.metricReporter.reportSelect(t.getUniqueID(),t.getType(),t.getOrder(),!!event&&event.button>=0,this.state.queryString);this.state.metricReporter.sessionEnd();}if(this.props.useLogger)this._logTypeaheadData(t.getUniqueID(),!this.state.queryString);this.setState({selectedEntry:t});this.props.onSelectAttempt&&this.props.onSelectAttempt(t);},_typeaheadVisibilityChangeHandler:function(t,u){if(this.props.useMetrics){var v=u.filter(function(w){return !isNaN(w.getUniqueID());});this.state.metricReporter.reportResults(v.map(function(w){return w.getUniqueID();}));}}});e.exports=s;},null);
__d("ProfileTypeaheadContainer.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"ProfileTypeaheadContainer",render:function(){return (g.createElement("div",{className:"_1ceo"},this.props.children));}});e.exports=i;},null);
__d("ProfileTypeaheadChecklist.react",["React","ProfileChecklist.react","ProfileMaskedTypeahead.react","ProfileTypeaheadContainer.react","XUITypeahead.react"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=g.createClass({displayName:"ProfileTypeaheadChecklist",propTypes:{excludedEntries:m.object,onChange:m.func,placeholder:m.string.isRequired,requireSelection:m.bool,searchSource:m.object.isRequired,typeaheadName:m.string,queryName:function(o,p,q){if(!o.multiSelect&&!o[p])return new Error(("Must supply a query name to "+q+" for ")+("single-selection mode."));}},getDefaultProps:function(){return {overflow:'scroll'};},getInitialState:function(){return {queryString:''};},render:function(){var o={onSelectAttempt:this._selectHandler,placeholder:this.props.placeholder,searchSource:this.props.searchSource},p=null;if(this.props.multiSelect){p=g.createElement(k,g.__spread({},o,{excludedEntries:this.props.excludedEntries,onBlur:this._typeaheadBlurHandler,onChange:this._typeaheadChangeHandler,queryString:this.state.queryString,ref:"typeahead"}));}else p=g.createElement(i,g.__spread({},o,{queryName:this.props.queryName,ref:"typeahead",requireSelection:this.props.requireSelection,selectionName:this.props.typeaheadName}));return (g.createElement("div",{className:this.props.className},g.createElement(h,g.__spread({},this.props,{onChange:this._checklistChangeHandler,ref:"checklist"})),g.createElement(j,null,p)));},clearSelection:function(){return this.refs.checklist.clearSelection();},getSelection:function(){return this.refs.checklist.getSelection();},_checklistChangeHandler:function(o){this.props.multiSelect||this.refs.typeahead.clearSelection();this.props.onChange&&this.props.onChange(o);},_selectHandler:function(o){if(!o)return;if(!this.props.multiSelect){this.refs.checklist.clearSelection();return;}this.refs.checklist.addOption(o.getUniqueID(),o.getTitle(),o.getSubtitle(),o.getPhoto(),true,this.props.typeaheadName);this.setState({queryString:''});setTimeout(function(){this.refs.checklist.scrollToOption(o.getUniqueID());}.bind(this),0);},_typeaheadBlurHandler:function(){this.props.requireSelection&&this.setState({queryString:''});},_typeaheadChangeHandler:function(event){this.setState({queryString:event.target.value});}});e.exports=n;},null);
__d("ProfileQuestionsTypeaheadChecklist.react",["Arbiter","ProfileTypeaheadChecklist.react","React"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j='402159529891743',k=i.createClass({displayName:"ProfileQuestionsTypeaheadChecklist",render:function(){return (i.createElement(h,i.__spread({},this.props,{onChange:this._onChange})));},_onChange:function(l){var m=l[j];g.inform('no-valid-answer-select',{selected:m&&m.checked});}});e.exports=k;},null);