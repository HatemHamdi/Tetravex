/*!CK:1413731392!*//*1428524928,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["mdkFg"]); }

__d("AdminSignatureConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={SETTING_ATTACH_TO_POST:"shouldAttachToPost",SETTING_ATTACH_TO_COMMENT:"shouldAttachToComment",SETTING_ATTACH_TO_MESSAGE:"shouldAttachToMessage",SETTING_EVER_PROMPTED:"everPromptedUser",SETTING_SIGNATURE_TEXT:"signature",FIELD_PAGE_ID:"pageID",FIELD_SIGNATURE_OPTION_FIELD:"signatureOption",FIELD_SIGNATURE_OPTION_VALUE_FIELD:"signatureOptionValue",FIELD_SIGNATURE_TEXT_FIELD:"signatureText",EVENT_ADMIN_SIGNATURE_PROMPTED:"AdminSignature\/prompted",EVENT_ADMIN_SIGNATURE_SETTING_CHANGED:"AdminSignatureSetting\/changed"};},null);
__d("ApiPageFields",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ABOUT:"about",ACCESS_TOKEN:"access_token",ADMIN_SETTINGS:"admin_settings",ADMINS:"admins",AFFILIATION:"affiliation",AGENCIES:"agencies",ALBUMS:"albums",APP_ID:"app_id",APP_LINKS:"app_links",ARTISTS_WE_LIKE:"artists_we_like",ATTIRE:"attire",AWARDS:"awards",BAND_INTERESTS:"band_interests",BAND_MEMBERS:"band_members",BEST_PAGE:"best_page",BIO:"bio",BIRTHDAY:"birthday",BLOCKED:"blocked",BOOKING_AGENT:"booking_agent",BUILT:"built",BUSINESS:"business",BUSINESSPROJECTS:"businessprojects",BUSINESSSETTINGLOGS:"businesssettinglogs",CAN_POST:"can_post",CATEGORY:"category",CATEGORY_LIST:"category_list",CHECKINS:"checkins",COMMERCE_MERCHANT_SETTINGS:"commerce_merchant_settings",COMPANY_OVERVIEW:"company_overview",CONTACT_ADDRESS:"contact_address",CONTEXT:"context",CONVERSATIONS:"conversations",COUNTRY_PAGE_LIKES:"country_page_likes",COVER:"cover",CULINARY_TEAM:"culinary_team",CURRENT_LOCATION:"current_location",DESCRIPTION:"description",DESCRIPTION_HTML:"description_html",DIRECTED_BY:"directed_by",DRAFT_POSTS:"draft_posts",EMAILS:"emails",ENGAGEMENT:"engagement",EVENTS:"events",FEATURES:"features",FEED:"feed",FOOD_STYLES:"food_styles",FOUNDED:"founded",GENERAL_INFO:"general_info",GENERAL_MANAGER:"general_manager",GENRE:"genre",GLOBAL_BRAND_CHILDREN:"global_brand_children",GLOBAL_BRAND_PAGE_NAME:"global_brand_page_name",GLOBAL_BRAND_PARENT_PAGE:"global_brand_parent_page",GLOBAL_BRAND_ROOT_ID:"global_brand_root_id",HAS_ADDED_APP:"has_added_app",HOMETOWN:"hometown",HOURS:"hours",ID:"id",IMPRESSUM:"impressum",INFLUENCES:"influences",INSIGHTS:"insights",IS_COMMUNITY_PAGE:"is_community_page",IS_PERMANENTLY_CLOSED:"is_permanently_closed",IS_PUBLISHED:"is_published",IS_UNCLAIMED:"is_unclaimed",IS_VERIFIED:"is_verified",KEYWORDS:"keywords",LIKES:"likes",LINK:"link",LINKS:"links",LOCATION:"location",LOCATIONS:"locations",MEMBERS:"members",MILESTONES:"milestones",MISSION:"mission",MPG:"mpg",NAME:"name",NAME_WITH_LOCATION_DESCRIPTOR:"name_with_location_descriptor",NETWORK:"network",NEW_LIKE_COUNT:"new_like_count",NOTES:"notes",NOTIFICATIONS:"notifications",OFFER_ELIGIBLE:"offer_eligible",OFFERS:"offers",PARENT_PAGE:"parent_page",PARKING:"parking",PAYMENT_OPTIONS:"payment_options",PERSONAL_INFO:"personal_info",PERSONAL_INTERESTS:"personal_interests",PHARMA_SAFETY_INFO:"pharma_safety_info",PHONE:"phone",PHOTOS:"photos",PICTURE:"picture",PLOT_OUTLINE:"plot_outline",POSTS:"posts",PRESS_CONTACT:"press_contact",PRICE_RANGE:"price_range",PRODUCED_BY:"produced_by",PRODUCT_PUBLISHERS:"product_publishers",PRODUCTS:"products",PROMOTABLE_POSTS:"promotable_posts",PROMOTION_ELIGIBLE:"promotion_eligible",PROMOTION_INELIGIBLE_REASON:"promotion_ineligible_reason",PUBLIC_TRANSIT:"public_transit",QUESTIONS:"questions",RATINGS:"ratings",RECORD_LABEL:"record_label",RELEASE_DATE:"release_date",RESTAURANT_SERVICES:"restaurant_services",RESTAURANT_SPECIALTIES:"restaurant_specialties",ROLES:"roles",RTB_DYNAMIC_POSTS:"rtb_dynamic_posts",SCHEDULE:"schedule",SCHEDULED_POSTS:"scheduled_posts",SCREENNAMES:"screennames",SCREENPLAY_BY:"screenplay_by",SEASON:"season",SETTINGS:"settings",STARRING:"starring",STATUSES:"statuses",STORE_NUMBER:"store_number",STUDIO:"studio",SUBSCRIBED_APPS:"subscribed_apps",TABS:"tabs",TAGGED:"tagged",TALKING_ABOUT_COUNT:"talking_about_count",THREADS:"threads",TOPIC:"topic",UNREAD_MESSAGE_COUNT:"unread_message_count",UNREAD_NOTIF_COUNT:"unread_notif_count",UNSEEN_MESSAGE_COUNT:"unseen_message_count",USERNAME:"username",USERPERMISSIONS:"userpermissions",VIDEO_COLLECTION:"video_collection",VIDEOS:"videos",VOIP_INFO:"voip_info",WEBSITE:"website",WERE_HERE_COUNT:"were_here_count",WRITTEN_BY:"written_by"};},null);
__d("ComposedBlockType",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={UNSTYLED:0,PARAGRAPH:1,UNORDERED_LIST_ITEM:2,ORDERED_LIST_ITEM:3,BLOCKQUOTE:4,HEADER_ONE:5,HEADER_TWO:6,CODE:7,MEDIA:8,PULLQUOTE:9};},null);
__d("ComposedEntityMutability",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2};},null);
__d("ComposedEntityType",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={MENTION:0,LINK:1,IMAGE:2,VIDEO:3,EMOTICON:4,TOKEN:5,HASHTAG:6,IMPLICIT_LINK:7};},null);
__d("ComposedInlineStyle",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={NONE:0,BOLD:1,ITALIC:2,UNDERLINE:4,CODE:8,STRIKETHROUGH:16,SUBSCRIPT:32,SUPERSCRIPT:64};},null);
__d("PageAdminTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={MANAGER:"MANAGER",CONTENT_CREATOR:"CONTENT_CREATOR",MODERATOR:"MODERATOR",ADVERTISER:"ADVERTISER",INSIGHTS_ANALYST:"INSIGHTS_ANALYST"};},null);
__d("PagesPrivateReplyConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={Status:{REPLYABLE:"replyable",ALREADY_REPLIED:"already_replied",RECIPIENT_FILTER:"recipient_filter",EXPIRED:"expired",NOT_USER_CREATED:"not_user_created"},Type:{COMMENT_PAGE_POST:"comment_page_post",COMMENT_WALL_POST:"comment_wall_post",COMMENT_REVIEW:"comment_review",REVIEW:"review",WALL_POST:"wall_post"}};},null);
__d("UFITranslationConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={BING_PAGE_URL:"http:\/\/bing.com\/translator",BING_TRANSLATOR_APP:"bing",FB_TRANSLATOR_APP:"fb"};},null);
__d("ContextualBlind",["Event","Animation","Arbiter","DOM","Rect","Vector","$","cx","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=0,q=1,r=.8,s=500;function t(){"use strict";}t.prototype.$ContextualBlind0=function(){"use strict";this.$ContextualBlind1&&i.unsubscribe(this.$ContextualBlind1);this.$ContextualBlind1=null;this.$ContextualBlind2=[];this.$ContextualBlind3&&this.$ContextualBlind3.remove();this.$ContextualBlind3=null;this.$ContextualBlind4&&j.remove(this.$ContextualBlind4);this.$ContextualBlind5=false;};t.prototype.show=function(u,v,w,x,y,z,aa,ba){"use strict";if(aa==null)aa=r;ba=ba||p;this.hide();var ca=(ba===p)?"_2xgb":"_2xgc";for(var da=0;da<4;da++)this.$ContextualBlind2.push(j.create('div',{className:ca,style:'opacity:'+aa}));j.appendContent(document.body,this.$ContextualBlind2);if(z!==false){ca=(ba===p)?"_2xgd":"_2xge";this.$ContextualBlind4=j.create('div',{className:ca});j.appendContent(document.body,this.$ContextualBlind4);}var ea=o(this.updatePosition,this,u,v,w,x,y);ea();this.$ContextualBlind1=i.subscribe('reflow',ea);this.$ContextualBlind3=g.listen(window,'resize',ea);this.$ContextualBlind5=true;};t.prototype.fadeIn=function(u,v,w,x,y,z,aa,ba){"use strict";ba=ba||s;if(aa==null)aa=r;this.show(u,v,w,x,y,z,aa,p);if(this.$ContextualBlind5)return;for(var ca=0;ca<this.$ContextualBlind2.length;ca++){var da=this.$ContextualBlind2[ca];new h(da).duration(ba).from('opacity',0).to('opacity',aa).go();}};t.prototype.hide=function(){"use strict";this.$ContextualBlind2&&this.$ContextualBlind2.forEach(j.remove);this.$ContextualBlind0();};t.prototype.fadeOut=function(){"use strict";for(var u=0;u<this.$ContextualBlind2.length;u++){var v=this.$ContextualBlind2[u];new h(v).duration(s).from('opacity',r).to('opacity',0).ondone(j.remove.bind(null,v)).go();}this.$ContextualBlind0();};t.prototype.$ContextualBlind6=function(u,v){"use strict";v.getPositionVector().setElementPosition(u);v.getDimensionVector().setElementDimensions(u);};t.prototype.updatePosition=function(u,v,w,x,y){"use strict";var z=l.getDocumentDimensions().y,aa=k.getElementBounds(m(u));aa=new k(aa.t-(v||0),aa.r+(w||0),aa.b+(x||0),aa.l-(y||0),aa.domain);var ba=document,ca=(ba&&ba.documentElement&&ba.documentElement.scrollWidth)||(ba&&ba.body&&ba.body.scrollWidth)||0;this.$ContextualBlind6(this.$ContextualBlind2[0],new k(0,ca,aa.t,0,'document'));this.$ContextualBlind6(this.$ContextualBlind2[1],new k(aa.t,ca,aa.b,aa.r,'document'));this.$ContextualBlind6(this.$ContextualBlind2[2],new k(aa.b,ca,z,0,'document'));this.$ContextualBlind6(this.$ContextualBlind2[3],new k(aa.t,aa.l,aa.b,0,'document'));if(this.$ContextualBlind4)this.$ContextualBlind6(this.$ContextualBlind4,aa);};t.STYLE_LIGHT=p;t.STYLE_DARK=q;e.exports=t;},null);
__d("ContextualLayerBlind",["ContextualBlind","cx","CSS"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={isModal:false,opacity:.3,paddingTop:8,paddingRight:8,paddingBottom:8,paddingLeft:8,style:g.STYLE_DARK};function k(l,m){"use strict";m=Object.assign({},j,m);this.$ContextualLayerBlind0=m.isModal;this.$ContextualLayerBlind1=l;this.$ContextualLayerBlind2=m.opacity;this.$ContextualLayerBlind3=m.paddingTop;this.$ContextualLayerBlind4=m.paddingRight;this.$ContextualLayerBlind5=m.paddingBottom;this.$ContextualLayerBlind6=m.paddingLeft;this.$ContextualLayerBlind7=m.style;}k.prototype.enable=function(){"use strict";this.$ContextualLayerBlind8=[this.$ContextualLayerBlind1.subscribe(['show','reposition'],this.$ContextualLayerBlind9.bind(this)),this.$ContextualLayerBlind1.subscribe('hide',this.$ContextualLayerBlinda.bind(this))];i.addClass(this.$ContextualLayerBlind1.getRoot(),"_4746");this.$ContextualLayerBlindb=new g();};k.prototype.disable=function(){"use strict";this.$ContextualLayerBlinda();i.removeClass(this.$ContextualLayerBlind1.getRoot(),"_4746");while(this.$ContextualLayerBlind8.length)this.$ContextualLayerBlind8.pop().unsubscribe();this.$ContextualLayerBlind8=null;this.$ContextualLayerBlindb=null;};k.prototype.$ContextualLayerBlind9=function(){"use strict";if(this.$ContextualLayerBlind1.isShown()){var l=this.$ContextualLayerBlind1.getContext();this.$ContextualLayerBlindb.show(l,this.$ContextualLayerBlind3,this.$ContextualLayerBlind4,this.$ContextualLayerBlind5,this.$ContextualLayerBlind6,this.$ContextualLayerBlind0,this.$ContextualLayerBlind2,this.$ContextualLayerBlind7);}};k.prototype.$ContextualLayerBlinda=function(){"use strict";this.$ContextualLayerBlindb.hide();};e.exports=k;},null);
__d("AdsAssetSectionType",["keyMirrorRecursive"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g({BOOKMARKED:'',OWNED:'',SEARCH:'',UNOWNED:''});e.exports=h;},null);
__d("AdsLoadState",["keyMirrorRecursive"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g({DELETING:'',ERROR:'',LOADED:'',LOADING:'',NOT_LOADED:'',PENDING_WRITE:''});e.exports=h;},null);
__d("AdsGenericFilterOperator",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g({IN_RANGE:null,CONTAIN:null,EQUAL:null,GREATER_THAN:null,IN:null,NOT_IN_RANGE:null,NOT_CONTAIN:null,NOT_IN:null,NOT_EQUAL:null,LESS_THAN:null});e.exports=h;},null);
__d("AdsGenericFilterFieldType",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g({NUMBER:null,CURRENCY:null,NUMBER_RANGE:null,NUMBER_SET:null,STRING:null,STRING_SET:null,DATE_RANGE:null});e.exports=h;},null);
__d("LegacyImmutableObject",["Object.assign","invariant","isNode","mergeHelpers"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=j.checkMergeObjectArgs,l=j.isTerminal,m;function n(p){h(p instanceof m);}m=function p(q){g(this,q);};m.set=function(p,q){n(p);var r=new m(p);g(r,q);return r;};m.setField=function(p,q,r){var s={};s[q]=r;return m.set(p,s);};m.setDeep=function(p,q){n(p);return o(p,q);};function o(p,q){k(p,q);var r={},s=Object.keys(p);for(var t=0;t<s.length;t++){var u=s[t];if(!q.hasOwnProperty(u)){r[u]=p[u];}else if(l(p[u])||l(q[u])){r[u]=q[u];}else r[u]=o(p[u],q[u]);}var v=Object.keys(q);for(t=0;t<v.length;t++){var w=v[t];if(p.hasOwnProperty(w))continue;r[w]=q[w];}return (p instanceof m||q instanceof m)?new m(r):r;}e.exports=m;},null);
__d("AdsGenericFilter",["AdsGenericFilterOperator","AdsGenericFilterFieldType","LegacyImmutableObject","getObjectValues","invariant"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=j(g),m={},n='\u00A0';for(var o in i)if(i.hasOwnProperty(o))q[o]=i[o];var p=i===null?null:i.prototype;q.prototype=Object.create(p);q.prototype.constructor=q;q.__superConstructor__=i;function q(r,s,t){"use strict";var u=t,v=t&&Array.isArray(t);if(t==null||(typeof t==='number'&&isNaN(t)))throw new Error('invalid filter value');if(v&&t.length>1){t=t.slice(0);t.sort();}m.field=r;m.operator=s;m.value=u;m.key=r.toString()+n+s+n+(v?t.join(n):t);i.call(this,m);}q.prototype.toString=function(){"use strict";return this.key;};q.prototype.toAPI=function(){"use strict";return this.isComplete()?{field:this.field.name,operator:this.operator,value:this.value}:null;};q.prototype.isComplete=function(){"use strict";switch(this.operator){case g.IN:case g.NOT_IN:return true;default:return this.value!=='';}};e.exports=q;},null);
__d("AdsGenericFilterField",["AdsGenericFilterFieldType","LegacyImmutableObject","getObjectValues","invariant"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={},l=i(g);for(var m in h)if(h.hasOwnProperty(m))o[m]=h[m];var n=h===null?null:h.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=h;function o(p,q,r){"use strict";k.name=p;k.type=q;if(r){k.level=r;k.key=p+'-'+q+'-'+r;}else k.key=p+'-'+q;h.call(this,k);}o.prototype.toString=function(){"use strict";return this.key;};e.exports=o;},null);
__d("AdsGenericFilterSet",["LegacyImmutableObject"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={},i=[],j=';';for(var k in g)if(g.hasOwnProperty(k))m[k]=g[k];var l=g===null?null:g.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=g;function m(n){"use strict";var o,p=[];switch(n.length){case 0:throw Error('AdsGenericFilterSet contains no filter');case 1:p.push(n[0]);o=n[0].key;break;default:var q={};i.length=0;n.forEach(function(r){var s=r.key;if(!(s in q)){p.push(r);q[s]=true;i.push(s);}});i.sort();o=i.join(j);}h.values=p;h.key='('+o+')';g.call(this,h);}m.prototype.toString=function(){"use strict";return this.key;};m.prototype.toAPI=function(){"use strict";var n=this.values,o=[];for(var p=0;p<n.length;p++){var q=n[p].toAPI();if(q!==null)o.push(q);}return o;};m.prototype.getCompleteFilters=function(){"use strict";var n=this.values.filter(function(o){return o.isComplete();});return n.length?new this.constructor(n):(void 0);};e.exports=m;},null);
__d("TextInputFilter.brands",["AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterOperator","Keys","React"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=k,m=l.PropTypes,n=200,o=k.createClass({displayName:"TextInputFilter",propTypes:{onChange:m.func.isRequired,value:m.string,placeholder:m.string,filterField:m.instanceOf(h).isRequired,hasCustomValue:m.bool,changeDebounceMS:m.number},getDefaultProps:function(){return {hasCustomValue:false,changeDebounceMS:n};},getInitialState:function(){return {filter:null,value:this.props.value||""};},componentWillReceiveProps:function(p){if(this.props.hasCustomValue&&p.value!==this.state.value)this.setState({value:p.value});},render:function(){return (k.createElement("input",{className:this.props.className,value:this.state.value,onChange:this._onKeywordInputChange,onKeyPress:this._onKeywordInputEnter,placeholder:this.props.placeholder}));},_changeDebounceTimer:null,_onKeywordInputChange:function(p){var q=p.target.value;this.setState({value:q});if(!q){this.setState({filter:null},this._announceFilterChange);}else{var r=new g(this.props.filterField,i.CONTAIN,q);this.setState({filter:r},this._announceFilterChange);}},_onKeywordInputEnter:function(p){if(p.charCode===j.RETURN)this._announceFilterChangeImmediately();},_announceFilterChangeImmediately:function(){clearInterval(this._changeDebounceTimer);this.props.onChange(this.state.filter);},_announceFilterChange:function(){if(this._changeDebounceTimer)clearInterval(this._changeDebounceTimer);this._changeDebounceTimer=setTimeout(this._announceFilterChangeImmediately,this.props.changeDebounceMS);}});e.exports=o;},null);
__d("AdsFilterWidgets.react",["AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterOperator","AdsGenericFilterSet","AdsGenericFilterSetUtil","Layout.react","React","TextInputFilter.brands","XUISelector.react","XUIText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=l.Column,t=l.FillColumn,u=m,v=u.PropTypes,w=m.createClass({displayName:"FilterWidgets",propTypes:{selectorOptions:v.array,initialSelectorValue:v.string,onSelectorChange:v.func,hasSelector:v.bool.isRequired,onTextChange:v.func,placeholder:v.string,value:v.string,onFilterSetChange:v.func,textFilterField:v.instanceOf(h),selectorFilterField:v.instanceOf(h),showMagnifyingGlass:v.bool},getDefaultProps:function(){return {placeholder:r._("Rechercher"),showMagnifyingGlass:true};},getInitialState:function(){return {filterText:'',selectorValue:this.props.initialSelectorValue,filterSet:null};},componentWillReceiveProps:function(x){if(x.value!==undefined&&x.value!==this.state.filterText)this.setState({filterText:x.value});},render:function(){var x=this.props.onFilterSetChange?(m.createElement(n,{className:"_5r_g _1f9c",onChange:this._onTextFilterChange,filterField:this.props.textFilterField})):(m.createElement("input",{className:"_5r_g _1f9c",value:this.state.filterText,onChange:this._onTextChange,placeholder:this.props.placeholder}));if(this.props.hasSelector){return (m.createElement(l,m.__spread({},this.props),m.createElement(t,null,x),m.createElement(s,{className:"_3-9a"},m.createElement(p,{weight:"bold",size:"small",className:"_3-90"},r._("Filtrer par\u00a0:")),m.createElement(o,{size:"large",className:"_5r_h",onChange:this._onSelectorChange,maxheight:300,initialValue:this.props.initialSelectorValue},this.props.selectorOptions))));}else return (m.createElement("div",{className:this.props.className},x));},_onTextChange:function(event){var x=event.target.value;this.setState({filterText:x});this.props.onTextChange(x);},_onSelectorChange:function(x){if(!this.props.onFilterSetChange){this.setState({selectorValue:x.value});this.props.onSelectorChange(x.value);}else{var y=new g(this.props.selectorFilterField,i.EQUAL,x.value);if(y){this._addFilter(y);}else this._removeFilter(this.props.selectorFilterField);}},_onTextFilterChange:function(x){if(x){this._addFilter(x);}else this._removeFilter(this.props.textFilterField);},_addFilter:function(x){var y;if(this.state.filterSet){y=k.mergeByField(this.state.filterSet,new j([x]));}else y=new j([x]);this.setState({filterSet:y},this._announceFilterSetChange);},_removeFilter:function(x){var y=k.excludeFiltersByField(this.state.filterSet,x);this.setState({filterSet:y},this._announceFilterSetChange);},_announceFilterSetChange:function(){this.props.onFilterSetChange(this.state.filterSet);}});e.exports=w;},null);
__d("generatePaths",["ImmutableObject","invariant"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';function i(k){return Object.prototype.toString.call(k)==='[object Object]';}function j(k){var l={};k.forEach(function(m){var n=m,o=n.pathKeys,p=n.expandsTo,q=[],r=l;o.forEach(function(s){h(r.hasOwnProperty(s));q=r[s];if(!i(r[s]))r[s]={};r=r[s];});h(Array.isArray(q));Object.keys(p).forEach(function(s){r[s]=[].concat(q,[p[s]]);});h(!r.hasOwnProperty('path'));r.path=q;});return new g(l);}e.exports=j;},null);
__d("ApiPagePaths",["ApiPageFields","generatePaths"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i={DATA:'data'},j=[{pathKeys:[],expandsTo:g},{pathKeys:['PICTURE'],expandsTo:i},{pathKeys:['PICTURE','DATA'],expandsTo:{URL:'url'}},{pathKeys:['USERPERMISSIONS'],expandsTo:i},{pathKeys:['BUSINESSPROJECTS'],expandsTo:i}],k=h(j);e.exports=k;},null);
__d("getByPath",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';function g(h,i,j){var k=h;for(var l=0;l<i.length;l++){var m=i[l];if(k&&k.hasOwnProperty(m)){k=k[m];}else return j;}return k;}e.exports=g;},null);
__d("ads-page-utils",["ApiPagePaths","PageAdminTypes","PowerEditorConfig","Set","getByPath"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=new j([h.MANAGER,h.CONTENT_CREATOR]),m=new j([h.MANAGER,h.CONTENT_CREATOR,h.MODERATOR,h.ADVERTISER]),n={getPageUIName:function(o){return (k(o,g.GLOBAL_BRAND_PAGE_NAME)||k(o,g.NAME)||k(o,g.ID));},canCreateAdsForPage:function(o){return n._hasPermission(o,m);},canCreatePostsForPage:function(o){return n._hasPermission(o,l);},_hasPermission:function(o,p){if(i.empl_show_all_pages)return true;var q=k(o,g.USERPERMISSIONS.DATA,[]);return q.some(function(r){return p.has(r.role);});}};f.PageUtils=n;},null);
__d("dotAccess",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i,j){var k=i.split('.');do{var l=k.shift();h=h[l]||j&&(h[l]={});}while(k.length&&h);return h;}e.exports=g;},null);
__d("AdsPageAssetSelector.react",["AdsAssetSectionType","AdsAssetSelector.react","AdsLoadState","ApiPagePaths","BusinessAssetGrouping.brands","Image.react","ImageBlock.react","React","Set","Tooltip","areEqual","cx","dotAccess","fbt","getByPath","ix","ads-page-utils"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();'use strict';var w=b('ads-page-utils').PageUtils,x=n,y=x.PropTypes,z=(t._("Pages qui ne vous appartiennent pas (Employ\u00e9s uniquement)")),aa=n.createClass({displayName:"AdsPageAssetSelector",propTypes:{bookmarkedPages:y.array.isRequired,compactLayout:y.bool,listItemHoverStyle:y.oneOf(["dark-blue","light-gray"]),maxListHeight:y.number,pages:y.array.isRequired,searchedPages:y.array.isRequired,searchBarVisible:y.bool.isRequired,searchState:y.oneOf(Object.keys(i)).isRequired,searchQuery:y.string,selectedPageID:y.string,selectedBusinessID:y.string,selectedSectionType:y.string,showBookmarks:y.bool,showBottomBorder:y.bool,showNonBizGroupTitle:y.bool,showPageCount:y.bool,showSectionPageCount:y.bool,showPageIDs:y.bool,unownedPages:y.array.isRequired,onPageSelected:y.func.isRequired,onPageRemoved:y.func.isRequired,onPageBookmarked:y.func.isRequired,onSearch:y.func.isRequired},getDefaultProps:function(){return {compactLayout:false,listItemHoverStyle:"dark-blue",showBookmarks:true,showNonBizGroupTitle:false,showPageCount:true,showSectionPageCount:true,showPageIDs:false};},getInitialState:function(){return {filteredPages:this.props.pages};},componentWillReceiveProps:function(ca){var da=new o();if(!q(this.props.bookmarkedPages,ca.bookmarkedPages)){var ea=new o(this.props.bookmarkedPages.map(function(fa){return fa.id;}));ca.bookmarkedPages.forEach(function(fa){if(!ea.has(fa.id))da.add(fa.id);});this.setState({recentlyBookmarkedPageIDs:da});}this.setState({filteredPages:ca.pages.filter(function(fa){return this._filterPage(ca.searchQuery,fa);}.bind(this))});},render:function(){var ca=this._getAssetSections(),da=null;if(this.props.showPageCount)da=(n.createElement("div",{className:"_2z3f"},t._({"PAGE":"{page count} PAGE","PAGES":"{page count} PAGES"},[t.param("page count",this.state.filteredPages.length),t['enum'](this.state.filteredPages.length===1?"PAGE":"PAGES",{PAGE:"PAGE",PAGES:"PAGES"})])));return (n.createElement(h,{assetSections:ca,bookmarkedAssets:this.props.bookmarkedPages,compactLayout:this.props.compactLayout,listTitle:da,maxListHeight:this.props.maxListHeight,renderAsset:this._renderAsset,searchBarPlaceholder:t._("Rechercher des Pages"),searchBarVisible:this.props.searchBarVisible,searchedAssets:this.props.searchedPages,searchQuery:this.props.searchQuery,searchState:this.props.searchState,showBottomBorder:this.props.showBottomBorder,showNonBizGroupTitle:this.props.showNonBizGroupTitle,showSectionAssetCount:this.props.showSectionPageCount,unownedAssets:this._getUnownedPages(),unownedAssetsHeader:z,onSearch:this.props.onSearch}));},_getBusinessID:function(ca){return ca.business?ca.business.id||ca.business:k.NULL_BIZ_ID;},_filterPage:function(ca,da){var ea=w.getPageUIName(da),fa=u(da,j.ID);return (!ca||(ea&&ea.toLowerCase().contains(ca.toLowerCase()))||(fa&&fa.contains(ca)));},_getPageIconURL:function(ca){return (s(ca,'picture.data.url')||v('images/ads/common/icon_page.png').uri);},_renderAsset:function(ca,da,ea){if(!da)da=this._getBusinessID(ca);var fa=(this.props.selectedPageID===ca.id&&this.props.selectedSectionType===ea&&this.props.selectedBusinessID===da)||(this.props.selectedPageID===ca.id&&!this.props.selectedBusinessID&&da===k.NULL_BIZ_ID),ga=this.props.bookmarkedPages.some(function(ja){return ja.id===ca.id;}),ha=w.getPageUIName(ca),ia=!!(ea===g.BOOKMARKED&&this.state&&this.state.recentlyBookmarkedPageIDs&&this.state.recentlyBookmarkedPageIDs.has(ca.id));return (n.createElement(ba,{businessID:da,compactLayout:this.props.compactLayout,hoverStyle:this.props.listItemHoverStyle,imageSrc:this._getPageIconURL(ca),isBookmarked:ga,isRecentlyBookmarked:ia,isSelected:fa,key:ca.id+':'+da,name:ha,pageID:ca.id,sectionType:ea,showPageID:this.props.showPageIDs,showBookmark:this.props.showBookmarks,onPageBookmarked:this.props.onPageBookmarked,onPageSelected:this.props.onPageSelected,onPageRemoved:this.props.onPageRemoved}));},_getAssetSections:function(){var ca=k.groupAssets(this.state.filteredPages,function(ea){return this._getBusinessID(ea);}.bind(this),function(ea){return ea.userpermissions?ea.userpermissions.data:[];},function(ea){return ea.businessprojects?ea.businessprojects.data:[];},function(ea){return ea.name.toLowerCase();},null,k.DEFAULT_NON_BIZ_NAME),da=[];ca.groupedAssets.forEach(function(ea){if(ea.assets.length>0)da.push({name:ea.name,assets:ea.assets,businessID:ea.bizID});ea.projects.forEach(function(fa){if(fa.assets.length>0)da.push({name:fa.name,assets:fa.assets,businessID:ea.bizID});});});return da;},_getUnownedPages:function(){return this.props.unownedPages.filter(function(ca){return this._filterPage(this.props.searchQuery,ca);}.bind(this));}}),ba=n.createClass({displayName:"PageSelectorItem",propTypes:{businessID:y.string,compactLayout:y.bool.isRequired,hoverStyle:y.oneOf(["dark-blue","light-gray"]),imageSrc:y.string.isRequired,isBookmarked:y.bool.isRequired,isSelected:y.bool.isRequired,isRecentlyBookmarked:y.bool.isRequired,name:y.string.isRequired,pageID:y.string.isRequired,sectionType:y.oneOf(Object.keys(g)).isRequired,showBookmark:y.bool.isRequired,showPageID:y.bool.isRequired,onPageSelected:y.func.isRequired,onPageRemoved:y.func.isRequired,onPageBookmarked:y.func.isRequired},getDefaultProps:function(){return {hoverStyle:"dark-blue"};},render:function(){var ca=(this.props.sectionType===g.BOOKMARKED||this.props.sectionType===g.UNOWNED),da=(!this.props.isBookmarked&&this.props.sectionType===g.OWNED&&this.props.showBookmark),ea=null;if(ca){ea=(n.createElement("div",n.__spread({className:"_1wcw"},p.propsFor(t._("Retirer la Page de cette liste")),{onClick:this._onRemoveClick,"data-tooltip-position":"right"})));}else if(da){ea=(n.createElement("div",n.__spread({className:"_50a_"},p.propsFor(t._("Ajouter cette Page \u00e0 mes favoris")),{onClick:this._onBookmarkClick,"data-tooltip-position":"right"})));}else if(this.props.isSelected)ea=(n.createElement("div",{className:"_55fc"}));var fa=null;if(this.props.showPageID)fa=(n.createElement("div",{className:"_4c70"},this.props.pageID));return (n.createElement(m,{className:((!this.props.compactLayout?"_2sl3":'')+(this.props.compactLayout?' '+"_5dsl":'')+(this.props.hoverStyle==="dark-blue"?' '+"_alf":'')+(this.props.hoverStyle==="light-gray"?' '+"_2z3h":'')+(this.props.isSelected?' '+"_2246":'')+(this.props.isRecentlyBookmarked?' '+"_50b0":'')),onClick:this._onClick},n.createElement(l,{className:"_4-rj",width:30,height:30,src:this.props.imageSrc}),n.createElement("div",{className:"_1wcv"},n.createElement("div",{className:(("_2sl4")+(!this.props.showPageID?' '+"_4c71":''))},this.props.name),fa,ea)));},_onClick:function(){this.props.onPageSelected(this.props.pageID,this.props.businessID,this.props.sectionType);},_onRemoveClick:function(event){event.preventDefault();event.stopPropagation();this.props.onPageRemoved(this.props.pageID,this.props.sectionType);},_onBookmarkClick:function(event){event.preventDefault();event.stopPropagation();this.props.onPageBookmarked(this.props.pageID);}});e.exports=aa;},null);
__d("PageVoiceDropdownSelector.react",["AdsAssetSectionType","AdsLoadState","AdsPageAssetSelector.react","Image.react","ImageBlock.react","LayerHideOnBlur","React","ReactLayeredComponentMixin","XUIContextualDialog.react","XUIPopoverButton.react","underscore.ads","cx","emptyFunction","fbt","invariant","isEmpty","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();'use strict';var x=m,y=x.PropTypes,z=300,aa=12,ba=m.createClass({displayName:"PageVoiceDropdownSelector",propTypes:{covered:y.bool,permissions:y.object,pages:y.object.isRequired,selectedActorID:y.string,showBusinessPages:y.bool,suppressed:y.bool.isRequired,user:y.object.isRequired,onChange:y.func.isRequired,onClick:y.func.isRequired},mixins:[n],getDefaultProps:function(){return {searchBarVisible:false,showBusinessPages:true,covered:true};},getInitialState:function(){var ca="";if(this.props.pages[this.props.selectedActorID]&&this.props.pages[this.props.selectedActorID].businessID)ca=""+this.props.pages[this.props.selectedActorID].businessID;return {dialogShown:false,textDisplay:this._getActorName(this.props.selectedActorID),selectedActorID:this.props.selectedActorID,selectedBusinessID:ca,searchQuery:""};},renderLayers:function(){return {contextualDialog:m.createElement(o,{contextRef:"open-menu-button",ref:"selector-dialog",shown:this.state.dialogShown,position:"below",alignment:"right",behaviors:{LayerHideOnBlur:l},onToggle:this._onToggle},this._renderLayerContent())};},render:function(){return (m.createElement(p,{className:"_4z8-",haschevron:!this.props.covered,image:m.createElement(j,{width:16,height:16,src:this.props.covered?w('images/pages/voice/flag.png'):this._getSelectedImageSource()}),ref:"open-menu-button",suppressed:this.props.suppressed,type:"button",onClick:this._onToggleDialogClick}));},_renderLayerContent:function(){if(q.isEmpty(this.props.user))return null;var ca=this._getPageSelectorPages(),da=null;if(this.props.selectedActorID===this.props.user.id)da=(m.createElement("div",{className:"_55fc"}));return m.createElement("div",{className:(("_21wq")+(' '+"_70b"))},m.createElement(k,{className:(("_5dsl")+(' '+"_alf")+(this.props.selectedActorID===this.props.user.id?' '+"_2246":'')+(' '+"_alg")),onClick:function(){this.setState({selectedActorID:this.props.user.id,selectedSectionType:""},this._updateSelectedPage);}.bind(this)},m.createElement(j,{className:"_4-rj",width:30,height:30,src:this.props.user.thumbSrc}),m.createElement("div",{className:"_1wcv"},m.createElement("div",{className:(("_2sl4")+(' '+"_4c71"))},this.props.user.name," ",m.createElement("span",{className:"_uyb"},t._("(vous)")),da))),m.createElement(i,{bookmarkedPages:[],compactLayout:true,listItemHoverStyle:"dark-blue",maxListHeight:z,pages:ca,searchedPages:[],searchQuery:this.state.searchQuery,searchState:h.NOT_LOADED,selectedPageID:this.props.selectedActorID,selectedBusinessID:this.state.selectedBusinessID,selectedSectionType:g.OWNED,showBookmarks:false,showBottomBorder:false,showNonBizGroupTitle:true,showPageCount:false,showSectionPageCount:true,unownedPages:[],onPageSelected:this._onPageSelected,onPageRemoved:function(){},onPageBookmarked:function(){},onSearch:this._onSearch,searchBarVisible:ca.length>=aa}));},_onPageSelected:function(ca,da,ea){this.setState({selectedActorID:ca},this._updateSelectedPage);},_onSearch:function(ca){this.setState({searchQuery:ca});},_onToggleDialogClick:function(){this.setState({dialogShown:!this.state.dialogShown},this.props.onClick);},_onToggle:function(ca){setTimeout(this.setState.bind(this,{dialogShown:ca},s),0);},_getSelectedImageSource:function(){var ca=this.state.selectedActorID;if(!ca)return "";if(ca===this.props.user.id){if(!this.props.user.thumbSrc)return "";return this.props.user.thumbSrc;}else{if(!this.props.pages[ca].thumbSrc)return "";return this.props.pages[ca].thumbSrc;}},_getPageSelectorPages:function(){var ca=q.map(this.props.pages,function(da,ea){var fa={id:ea,name:da.name,picture:{data:{url:da.thumbSrc}},userpermissions:{data:[{}]},sectionType:g.OWNED};if(da.businessID){if(!this.props.showBusinessPages)return {};fa.userpermissions.data[0]={business:{name:da.businessName,id:da.businessID}};}return fa;},this).filter(function(da){return !v(da);});u(ca[0].id===this.props.user.id);return ca.slice(1);},_getActorName:function(ca){if(ca===this.props.user.id){return this.props.user.name;}else return this.props.pages[ca].name;},_updateSelectedPage:function(){var ca=this.state.selectedActorID;if(!ca)return;this.setState({dialogShown:false,searchQuery:""});if(ca===this.props.user.id){this.setState({textDisplay:this.props.user.name});this.props.onChange({label:this.props.user.name,value:this.props.user.id});}else{this.setState({textDisplay:this.props.pages[ca].name});this.props.onChange({label:this.props.pages[ca].name,value:ca});}}});e.exports=ba;},null);
__d("XUIMenuSeparator.react",["MenuSeparator.react"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g;e.exports=h;},null);
__d("ActorSelector.react",["BizSiteIdentifier.brands","ContextualLayerBlind","CurrentUser","DOMScroll","Event","Image.react","LayerFadeOnHide","LayerFadeOnShow","PageTransitions","PageVoiceDropdownSelector.react","React","ReactLayeredComponentMixin","ShortProfiles","Tooltip","XUIContextualDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIMenuSeparator.react","XUISelector.react","XUISpinner.react","underscore.ads","cx","ix","fbt","tidyEvent","BrandsAppConfig"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){b.__markCompiled&&b.__markCompiled();var ga=z.Option,ha=b('BrandsAppConfig').gk,ia=q,ja=ia.PropTypes,ka=32,la=195,ma=500,na=175,oa=16,pa=q.createClass({displayName:"ActorSelector",mixins:[r],propTypes:{actorIDs:ja.array.isRequired,actorPermissions:ja.object,covered:ja.bool,loading:ja.bool,nuxBody:ja.node,nuxEnabledCovered:ja.bool,nuxEnabledUncovered:ja.bool,nuxHoverContext:ja.object,onChange:ja.func.isRequired,onCompleteNux:ja.func,selectedActorID:ja.string,settingsURI:ja.string,showName:ja.bool,showNameMaxWidth:ja.number,suppressed:ja.bool,tooltipConstructor:ja.func,tooltipConstructorCovered:ja.func},getDefaultProps:function(){return {suppressed:true};},getInitialState:function(){return {actorData:{},clicked:false,nuxShown:false};},componentWillMount:function(){this._fetchActorData();},render:function(){var qa=ha.business_identity_page_voice_selector;if(!this.props.selectedActorID||!this.state.actorData[this.props.selectedActorID])return q.createElement("div",null);var ra=this._renderSelectorOptions();if(ra.length<1)return q.createElement("div",null);if(qa){return this._renderNewComponent();}else return this._renderOldComponent(ra);},_renderOldComponent:function(qa){var ra=this._isCovered();return (q.createElement("span",{className:"_6vh"},q.createElement(aa,{className:((!this.props.loading?"hidden_elem":'')+(!this.props.suppressed?' '+"_3-8_":''))}),q.createElement(z,{haschevron:!ra,className:"_6vi",disabled:this.props.loading,maxheight:la,maxwidth:ra?oa:this.props.showName?this.props.showNameMaxWidth:ka,onChange:this.props.onChange,onClick:this._onClickSelector,ref:"selector",suppressed:this.props.suppressed,value:this.props.selectedActorID},qa)));},_renderNewComponent:function(){return (q.createElement("span",null,q.createElement(aa,{className:((!this.props.loading?"hidden_elem":'')+(' '+"_3-8_"))}),q.createElement(p,{ref:"selector",covered:this._isCovered(),permissions:this.props.actorPermissions,pages:this.state.actorData,onChange:this.props.onChange,onClick:this._onClickSelector,selectedActorID:this.props.selectedActorID,searchBarVisible:true,showBusinessPages:g.isBizSite(),showName:this.props.showName,showNameMaxWidth:this.props.showNameMaxWidth,suppressed:this.props.suppressed,user:ba.values(this.state.actorData)[0]})));},renderLayers:function(){if(!this.refs.selector)return null;var qa=null;if(this.props.settingsURI)qa=q.createElement("a",{onClick:this._onClickSettings,style:{verticalAlign:'middle'}},ea._("Param\u00e8tres d\u2019attribution des publications"));if(this.state.nuxShown)j.ensureVisible(q.findDOMNode(this.refs.selector),null,na);return {nux:q.createElement(u,{alignment:"right",behaviors:{ContextualLayerBlind:h,LayerFadeOnHide:m,LayerFadeOnShow:n},hasActionableContext:true,contextRef:"selector",position:"below",shown:this.state.nuxShown,width:u.WIDTH.NORMAL},q.createElement(v,null,this.props.nuxBody),q.createElement(w,{leftContent:qa},q.createElement(x,{action:"button",use:"confirm",onClick:this._onCompleteNux})))};},_renderSelectorOptions:function(){var qa=[],ra=[];this.props.actorIDs.map(function(wa){if(this._isBusinessManagedActor(wa)){ra.push(wa);}else qa.push(wa);}.bind(this));var sa=qa.map(this._renderActorOption);if(ra&&ra.length>0){var ta=[],ua=(q.createElement(l,{src:da('/images/bizsite/busmgr_bookmark_icon_16px.png'),alt:""})),va=this._groupActorIDsByBusinessID(ra);ba.map(va,function(wa,xa){ta.push(q.createElement(y,{key:'separator_'+xa}));var ya=ba.values(va[xa])[0],za=ya?this.state.actorData[ya].businessName:xa;ta.push(q.createElement(ga,{disabled:true,icon:ua,key:'option_'+xa},za));ba.map(wa,function(ab){ta.push(this._renderActorOption(ab));}.bind(this));}.bind(this));}sa=sa.concat(ta);return sa;},_renderActorOption:function(qa){var ra=this._isCovered(),sa=this.state.actorData[qa];if(!sa)return;var ta=!!sa.businessID,ua=q.createElement(l,{className:"_6vg",height:oa,src:ra&&i.getID()===qa?da('images/pages/voice/flag.png'):sa.thumbSrc,width:oa,alt:""});return (q.createElement(ga,{className:((ta?"plm":'')),icon:ua,key:'actor_'+qa,value:qa},sa.name));},componentDidMount:function(){this._setTooltip();if(this._canShowNux())if(this.props.nuxHoverContext){var qa=fa(k.listen(this.props.nuxHoverContext,'mouseenter',function(){var ra=setTimeout(function(){qa.remove();if(this._canShowNux())this.setState({nuxShown:true});}.bind(this),ma),sa=fa(k.listen(this.props.nuxHoverContext,'mouseleave',function(){clearTimeout(ra);sa.remove();}));}.bind(this)));}else this.setState({nuxShown:true});},componentDidUpdate:function(qa){if(this.props.actorIDs.toString()!==qa.actorIDs.toString())this._fetchActorData();this._setTooltip();},_canShowNux:function(){return (this.props.nuxEnabledCovered&&this._isCovered())||(this.props.nuxEnabledUncovered&&!this._isCovered());},_fetchActorData:function(){s.getMulti(this.props.actorIDs,function(qa){this.setState({actorData:qa});}.bind(this));},_isCovered:function(){return (this.props.coverEnabled&&!this.state.clicked&&i.getID()===this.props.selectedActorID);},_onClickSelector:function(){this.setState({clicked:true});if(this.state.nuxShown)this._onCompleteNux();},_onClickSettings:function(){this._onCompleteNux();o.go(this.props.settingsURI);},_onCompleteNux:function(){this.setState({nuxShown:false});if(this.props.onCompleteNux)this.props.onCompleteNux({isCovered:this._isCovered()});},_setTooltip:function(){if(!this.refs.selector)return;var qa=this.state.actorData[this.props.selectedActorID];if(!qa)return;var ra=this._isCovered()&&this.props.tooltipConstructorCovered?this.props.tooltipConstructorCovered:this.props.tooltipConstructor;if(!ra)return;t.set(q.findDOMNode(this.refs.selector),ra(qa.name),'above','right');},_isBusinessManagedActor:function(qa){return (this.state.actorData[qa]&&this.state.actorData[qa].businessID);},_groupActorIDsByBusinessID:function(qa){var ra={};ba.forEach(qa,function(sa,ta){var ua=this.state.actorData[ta]?this.state.actorData[ta].businessID:null;if(ua){if(!sa[ua])sa[ua]={};sa[ua][ta]=ta;}}.bind(this,ra));return ra;}});e.exports=pa;},null);
__d("ClickPointIdentifiersDEPRECATED",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={types:{TIMELINE_SEE_LIKERS:'timeline:seelikes'},getUserActionID:function(h){return '{"ua_id":"'+h+'"}';}};e.exports=g;},null);
__d("NumberFormat",["NumberFormatConfig"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=/(\d{3})(?=\d)/g;function i(l){return (''+l).split('').reverse().join('');}function j(l,m){if(Math.abs(l).toString().length<g.minDigitsForThousandsSeparator)return l.toString();var n=i(l);return i(n.replace(h,'$1'+m));}var k={formatIntegerWithDelimiter:j,formatInteger:function(l){return j(l,g.numberDelimiter);}};e.exports=k;},null);
__d("UFIBlingItem.react",["React","NumberFormat","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=g.createClass({displayName:"UFIBlingItem",propTypes:{contextArgs:m.object.isRequired,count:m.number.isRequired,countreduced:m.string,allowText:m.bool,className:m.string,iconClassName:m.string,itemKey:m.string},render:function(){var o=k(this.props.className,this.props.iconClassName,"UFIBlingBoxSprite"),p=h.formatIntegerWithDelimiter(this.props.count,this.props.contextArgs.numberdelimiter||','),q=p,r=this.props.contextArgs.ufiexperiments||{};if(this.props.allowText||r.showRevisedUFI)switch(this.props.itemKey){case 'like':if(r.showRevisedUFI)q=j._({"Like":"{count} mention J\u2019aime","Likes":"{count} mentions J\u2019aime"},[j.param("count",r.truncateNumbers?this.props.countreduced:q),j['enum'](this.props.count===1?'Like':'Likes',{Like:"Like",Likes:"Likes"})]);break;case 'comment':if(r.showRevisedUFI)q=j._({"Comment":"{count} commentaire","Comments":"{count} commentaires"},[j.param("count",r.truncateNumbers?this.props.countreduced:q),j['enum'](this.props.count===1?'Comment':'Comments',{Comment:"Comment",Comments:"Comments"})]);break;case 'reshare':if(this.props.contextArgs.reshareedu||r.showRevisedUFI)q=j._({"Share":"{count} partage","Shares":"{count} partages"},[j.param("count",r.truncateNumbers?this.props.countreduced:q),j['enum'](this.props.count===1?'Share':'Shares',{Share:"Share",Shares:"Shares"})]);break;}var s=null;if(!r.showRevisedUFI)s=g.createElement("i",{className:o});return (g.createElement("span",null,s,g.createElement("span",{className:(("UFIBlingBoxText")+(r.showRevisedUFI?' '+"UFIBlingBoxTextRevised":''))},q)));}});e.exports=n;},null);
__d("UFIBlingBox.react",["React","UFIBlingItem.react","UFIConstants","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=g.createClass({displayName:"UFIBlingBox",propTypes:{contextArgs:m.object.isRequired,'data-ft':m.string,comments:m.number,commentsreduced:m.string,likes:m.number,likesreduced:m.string,nfb:m.number,onClick:m.func,permalink:m.string,reshares:m.number,resharesreduced:m.string},render:function(){var o=[],p='';if(this.props.likes){o.push(g.createElement(h,{className:((o.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.likes,countreduced:this.props.likesreduced,iconClassName:"UFIBlingBoxLikeIcon",itemKey:"like",key:"like"}));p+=(this.props.likes==1)?k._("1 J\u2019aime"):k._({"*":"{count} J\u2019aime"},[k.param("count",this.props.likes,[0])]);p+=' ';}if(this.props.comments){o.push(g.createElement(h,{className:((o.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.comments,countreduced:this.props.commentsreduced,iconClassName:"UFIBlingBoxCommentIcon",itemKey:"comment",key:"comment"}));p+=(this.props.comments==1)?k._("1 commentaire"):k._({"*":"{count} commentaires"},[k.param("count",this.props.comments,[0])]);p+=' ';}if(this.props.reshares){o.push(g.createElement(h,{className:((o.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.reshares,countreduced:this.props.resharesreduced,iconClassName:"UFIBlingBoxReshareIcon",itemKey:"reshare",key:"reshare"}));p+=(this.props.reshares==1)?k._("1 partage"):k._({"*":"{count} partages"},[k.param("count",this.props.reshares,[0])]);}var q=this.props.onClick,r='ignore';if(this.props.comments>i.defaultPageSize){q=null;r=null;}var s=this.props.contextArgs.ufiexperiments||{},t=g.createElement("a",{className:(("UFIBlingBox")+(' '+"uiBlingBox")+(' '+"feedbackBling")+(s.showRevisedUFI?' '+"UFIBlingBoxRevised":'')),href:this.props.permalink,"data-ft":this.props['data-ft'],"aria-label":p,onClick:q,rel:r},o);return t;}});e.exports=n;},null);
__d("UFICommentLink.react",["Image.react","React","TrackingNodes","emptyFunction","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h,n=m.PropTypes,o=h.createClass({displayName:"UFICommentLink",propTypes:{ufiExperiments:n.object,onClick:n.func},getDefaultProps:function(){return {ufiExperiments:{},onClick:j};},render:function(){var p=this.props.ufiExperiments,q=k._("Commenter"),r=k._("Commenter"),s='{ "tn": "'+i.encodeTN(i.types.COMMENT_LINK)+'", "type": 24 }',t=null;if(p.showRevisedUFI)t=h.createElement(g,{className:"UFICommentLinkIcon",src:l('/images/ufi/fbfeed/comment_gray.png')});return (h.createElement("a",{className:"comment_link",href:"#",role:"button",title:r,onClick:this.props.onClick,"data-ft":s},t,q));}});e.exports=o;},null);
__d("UFIInstanceState",["UFICentralUpdates"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={};function i(k){if(!h[k])h[k]={};}var j={getKeyForInstance:function(k,l){i(k);return h[k][l];},updateState:function(k,l,m){i(k);h[k][l]=m;g.didUpdateInstanceState(k,l);},updateStateField:function(k,l,m,n){var o=this.getKeyForInstance(k,l)||{};o[m]=n;this.updateState(k,l,o);}};e.exports=j;},null);
__d("UFILikeLink.react",["React","Image.react","TrackingNodes","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=g,n=m.PropTypes,o=g.createClass({displayName:"UFILikeLink",propTypes:{likeAction:n.bool,ufiExperiments:n.object,onClick:n.func},getDefaultProps:function(){return {ufiExperiments:{}};},onClick:function(p,q){p.preventDefault();this.props.onClick(p,q);},render:function(){var p=this.props.ufiExperiments,q=this.props.likeAction||p.showRevisedUFI?k._("J\u2019aime"):k._("Je n\u2019aime plus"),r=i.getTrackingInfo(this.props.likeAction?i.types.LIKE_LINK:i.types.UNLIKE_LINK),s=this.props.likeAction?k._("Aimer \u00e7a"):k._("Ne plus aimer"),t=null;if(p.showRevisedUFI)t=g.createElement(h,{className:"UFILikeLinkIcon",src:this.props.likeAction?l('/images/ufi/fbfeed/like_gray.png'):l('/images/ufi/fbfeed/liked.png')});return (g.createElement("a",{className:(("UFILikeLink")+(p.showRevisedUFI&&!this.props.likeAction?' '+"UFILinkBright":'')),href:"#",role:"button","aria-live":"polite",title:s,onClick:this.onClick,"data-ft":r},t,q));}});e.exports=o;},null);
__d("UFIShareLink.react",["Event","React","Image.react","TrackingNodes","ShareDialogShareProperties","XUISpinner.react","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=h,q=p.PropTypes,r=null,s=null,t=h.createClass({displayName:"UFIShareLink",propTypes:{ufiExperiments:q.object,href:q.oneOfType([q.object,q.string]).isRequired},componentDidMount:function(){r=g.listen(h.findDOMNode(this),'propsReceived',this.props.onReceiveAsyncProps);s=g.listen(h.findDOMNode(this),'click',this.props.onClick);},componentWillUnmount:function(){r.remove();s.remove();},render:function(){var u=n._("Envoyez ceci \u00e0 vos amis ou publiez-le sur votre journal."),v='{ "tn": "'+j.encodeTN(j.types.SHARE_LINK)+'", "type": 25 }',w=this.props.ufiExperiments,x=null;if(w.showRevisedUFI)x=h.createElement(i,{className:"UFIShareLinkIcon",src:o('/images/ufi/fbfeed/share_gray.png')});var y=null;if(this.props.rel==='async')y=h.createElement(l,{className:"UFIShareLinkSpinner",showOnAsync:true});return (h.createElement("a",{className:(("share_action_link")),"data-ft":v,"data-dialog-width":w.isReactShareDialog?k.WIDTH:null,"data-dialog-title":w.isReactShareDialog?k.TITLE:null,ajaxify:this.props.href,href:"#",onClick:this.props.onClick,rel:this.props.rel||"dialog",title:u},x,n._("Partager"),y));}});e.exports=t;},null);
__d("UFISubscribeLink.react",["React","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k=g.createClass({displayName:"UFISubscribeLink",propTypes:{subscribeAction:j.bool,onClick:j.func},render:function(){var l=this.props.subscribeAction?h._("Recevoir les notifications"):h._("D\u00e9sactiver les notifications"),m=this.props.subscribeAction?h._("Recevoir une notification \u00e0 chaque fois que quelqu\u2019un commente."):h._("D\u00e9sactiver les notifications lorsque quelqu\u2019un commente.");return (g.createElement("a",{className:"UFISubscribeLink",href:"#",role:"button","aria-live":"polite",title:m,onClick:this.props.onClick},l));}});e.exports=k;},null);
__d("ProfileBrowserLink",["URI"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h='/ajax/browser/dialog/',i='/browse/',j=function(l,m,n){return new g(l+m).setQueryData(n);},k={constructPageURI:function(l,m){return j(i,l,m);},constructDialogURI:function(l,m){return j(h,l,m);}};e.exports=k;},null);
__d("ProfileBrowserTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={LIKES:'likes',GROUP_MEMBERS:'group_members',GROUP_MESSAGE_VIEWERS:'group_message_viewers',MUTUAL_FRIENDS:'mutual_friends',TODO_LIST_ASSIGNEES:'todo_list_assignees',TOPIC_CONVERSATION_PARTICIPANTS:'topic_conversation_participants'};e.exports=g;},null);
__d("UFITimelineBlingBox.react",["ProfileBrowserLink","ProfileBrowserTypes","React","UFIBlingItem.react","URI","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=i,o=n.PropTypes,p=i.createClass({displayName:"UFITimelineBlingBox",propTypes:{contextArgs:o.object.isRequired,'data-ft':o.string,'data-gt':o.string,actorid:o.any,commentOnClick:o.func,comments:o.number,commentsreduced:o.string,enableShowComments:o.bool,enableShowLikes:o.bool,feedbackFBID:o.any,likes:o.number,likesreduced:o.string,reshares:o.number,resharesreduced:o.string},render:function(){var q=[];if(this.props.likes&&this.props.enableShowLikes){var r=this._getProfileBrowserURI(),s=m._("Voir qui aime \u00e7a"),t=i.createElement("a",{ajaxify:r.dialog,className:this._getItemClassName(q),"data-ft":this.props['data-ft'],"data-gt":this.props['data-gt'],"data-hover":"tooltip","data-tooltip-alignh":"right","data-tooltip-uri":this._getLikeToolTipURI(),href:r.page,key:"like",rel:"dialog",role:"button",title:s},i.createElement(j,{contextArgs:this.props.contextArgs,count:this.props.likes,countreduced:this.props.likesreduced,iconClassName:"UFIBlingBoxTimelineLikeIcon",itemKey:"like"}));q.push(t);}if(this.props.comments&&this.props.enableShowComments){var u=m._("Afficher les commentaires"),v=i.createElement("a",{"aria-label":u,className:this._getItemClassName(q),"data-ft":this.props['data-ft'],"data-hover":"tooltip","data-tooltip-alignh":"right",href:"#",key:"comment",onClick:this.props.commentOnClick},i.createElement(j,{contextArgs:this.props.contextArgs,count:this.props.comments,countreduced:this.props.commentsreduced,iconClassName:"UFIBlingBoxTimelineCommentIcon",itemKey:"comment"}));q.push(v);}if(this.props.reshares){var w=m._("Afficher les partages"),x=this._getShareViewURI(),y=i.createElement("a",{ajaxify:x.dialog,"aria-label":w,className:this._getItemClassName(q),"data-ft":this.props['data-ft'],"data-hover":"tooltip","data-tooltip-alignh":"right",href:x.page,key:"reshare",rel:"async"},i.createElement(j,{allowText:true,contextArgs:this.props.contextArgs,count:this.props.reshares,countreduced:this.props.resharesreduced,iconClassName:"UFIBlingBoxTimelineReshareIcon",itemKey:"reshare"}));q.push(y);}return (i.createElement("span",null,q));},_getItemClassName:function(q){return ((q.length>0?"mls":'')+(' '+"UFIBlingBoxTimelineItem"));},_getLikeToolTipURI:function(){if(this.props.feedbackFBID){var q=new k('/ajax/like/tooltip.php').setQueryData({comment_fbid:this.props.feedbackFBID});return q.toString();}else return null;},_getProfileBrowserURI:function(){if(this.props.feedbackFBID){var q=h.LIKES,r={id:this.props.feedbackFBID,actorid:this.props.actorid},s=g.constructDialogURI(q,r),t=g.constructPageURI(q,r),u={dialog:s.toString(),page:t.toString()};return u;}},_getShareViewURI:function(){if(this.props.feedbackFBID){var q=new k('/ajax/shares/view').setQueryData({target_fbid:this.props.feedbackFBID}),r=new k('/shares/view').setSubdomain('www').setQueryData({id:this.props.feedbackFBID}),s={dialog:q.toString(),page:r.toString()};return s;}}});e.exports=p;},null);
__d("UFICommentList",["ClientIDs","KeyedCallbackManager","UFICentralUpdates","UFIConstants","UFIFeedbackTargets","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=l({actorID:true});function n(o){this.count=0;this.deletedComments={};this.deletedCount=0;this.dataSource=new h();this.feedbackTargetID=o;this.lastRequestedOffset=0;this.lastRequestedLength=0;this.basePermalink="";this.commentPermalinks={};this.orderReversed=false;k.getFeedbackTarget(this.feedbackTargetID,function(p){this.actorID=p.actorforpost;this.basePermalink=p.permalink;this.orderReversed=p.isranked;}.bind(this));}n.prototype.addComment=function(o,p,q){var r=p&&g.isExistingClientID(p),s=this.dataSource.getAllResources(),t={};for(var u in s){var v=s[u];t[v]=u;}if(r&&p in t){t[o]=t[p];var w=t[p];this.dataSource.setResource(w,o);}else if(!t[o]){var x=this.count;this.count++;t[o]=x;this.dataSource.setResource(x,o);}if(q)this.commentPermalinks[o]=this.buildCommentPermalink(o,q,t[o]);i.didUpdateFeedback(this.feedbackTargetID);};n.prototype.addCommentIDs=function(o,p,q){var r={};for(var s=0;s<p;s++)r[o+s]=q[s]||j.unavailableCommentKey;this.dataSource.addResourcesAndExecute(r);i.didUpdateFeedback(this.feedbackTargetID);return this;};n.prototype.getComments=function(o,p,q,r){var s=[];for(var t=0;t<p;t++)s.push(o+t);var u=this.dataSource.getUnavailableResourcesFromRequest(s);if(u.length){var v=Math.min.apply(Math,u),w=Math.max.apply(Math,u),x=v,y=w-v+1;if(x<this.lastRequestedOffset||(x+y)>(this.lastRequestedOffset+this.lastRequestedLength)){this.lastRequestedOffset=x;this.lastRequestedLength=y;this.fetchComments(x,y,q);}}else this.dataSource.executeOrEnqueue(s,this.deferredCallback.bind(this,o,p,r));};n.prototype.fetchComments=function(o,p,q){};n.prototype.deferredCallback=function(o,p,q,r){};n.prototype.reset=function(){var o=this.dataSource.getAllResources();this.dataSource.reset();this.count=0;this.deletedCount=0;this.deletedComments={};this.lastRequestedOffset=0;this.lastRequestedLength=0;return o;};n.prototype.deleteComment=function(o){if(!(o in this.deletedComments)){this.deletedComments[o]=true;this.deletedCount++;}};n.prototype.updateCommentCount=function(o){this.count=o;this.deletedCount=0;return this;};n.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID;};n.prototype.getCommentCount=function(){return this.count;};n.prototype.getDeletedCount=function(){return this.deletedCount;};n.prototype.getDisplayedCommentCount=function(){return this.count-this.deletedCount;};n.prototype.getBasePermalink=function(){return this.basePermalink;};n.prototype.buildCommentPermalink=function(o,p,q){};n.prototype.getPermalinkForComment=function(o){return this.commentPermalinks[o];};n.isValidContextPropertyForReset=function(o){return o in m;};e.exports=n;},null);
__d("UFIComments",["ClientIDs","ImmutableObject","UFICentralUpdates","UFIConstants","UFIInstanceState","invariant","merge","randomInt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o={},p={};function q(fa){return fa in p?p[fa]:fa;}function r(fa,ga){fa.forEach(function(ha){var ia=ha.ftentidentifier,ja=j.UFIPayloadSourceType,ka=ha.clientid,la=false,ma=m({},ha);if(ka){delete ma.clientid;la=g.isExistingClientID(ka);if(la&&p[ka])return;}if((ga===ja.LIVE_SEND)||(ga===ja.USER_ACTION)||(ga===ja.ENDPOINT_ADD_COMMENT)||(ga===ja.ENDPOINT_EDIT_COMMENT))ma.isunseen=true;if(ga===ja.ENDPOINT_COMMENT_FETCH||ga===ja.ENDPOINT_ID_COMMENT_FETCH)ma.fromfetch=true;if(la){if(o[ka].ufiinstanceid)k.updateStateField(o[ka].ufiinstanceid,'locallycomposed',ha.id,true);ma.ufiinstanceid=o[ka].ufiinstanceid;p[ka]=ha.id;o[ha.id]=o[ka];delete o[ka];i.didUpdateComment(ka);}ea.setComment(ha.id,new h(ma));i.didUpdateComment(ha.id);i.didUpdateFeedback(ia);});}function s(fa){for(var ga=0;ga<fa.length;ga++){var ha=fa[ga];switch(ha.actiontype){case j.UFIActionType.LIKE_ACTION:if(ea.getComment(ha.entidentifier))t(ha.clientid,ha.entidentifier,ha.hasviewerliked,ha.likecount);break;case j.UFIActionType.COMMENT_LIKE:t(ha.clientid,ha.commentid,ha.viewerliked,ha.likecount);break;case j.UFIActionType.DELETE_COMMENT:x(ha);break;case j.UFIActionType.LIVE_DELETE_COMMENT:y(ha);break;case j.UFIActionType.REMOVE_PREVIEW:z(ha);break;case j.UFIActionType.COMMENT_SET_SPAM:aa(ha);break;case j.UFIActionType.CONFIRM_COMMENT_REMOVAL:ba(ha);break;case j.UFIActionType.TRANSLATE_COMMENT:v(ha);break;case j.UFIActionType.COMMENT_LIKECOUNT_UPDATE:u(ha);break;}}}function t(fa,ga,ha,ia){var ja=ea.getComment(ga);if(ja){var ka={},la=fa&&g.isExistingClientID(fa);if(!la){ka.hasviewerliked=ha;ka.likecount=ia;}ka.likeconfirmhash=n(0,1024);da(ga,ka);}}function u(fa){var ga=ea.getComment(fa.commentid);if(ga&&fa.hasviewerliked===ga.hasviewerliked){var ha={likecount:fa.likecount,likeconfirmhash:n(0,1024)};da(fa.commentid,ha);}}function v(fa){var ga=fa.commentid,ha=ea.getComment(ga);if(ha){var ia={translatedbody:fa.translatedbody,translatorapp:fa.translatorapp};da(ga,ia);}}function w(fa){var ga={reportLink:fa.reportLink,commenterIsFOF:fa.commenterIsFOF,userIsMinor:fa.userIsMinor,giveFeedbackLink:fa.giveFeedbackLink};return ga;}function x(fa){var ga=ea.getComment(fa.commentid);ca(ga,j.UFIStatus.DELETED);}function y(fa){var ga=ea.getComment(fa.commentid);if(ga&&ga.status!==j.UFIStatus.DELETED)ca(ga,j.UFIStatus.LIVE_DELETED);}function z(fa){da(fa.commentid,{attachment:null});}function aa(fa){var ga=ea.getComment(fa.commentid),ha=fa.shouldHideAsSpam?j.UFIStatus.SPAM_DISPLAY:null;ca(ga,ha);}function ba(fa){da(fa.commentid,w(fa));}function ca(fa,ga){da(fa.id,{priorstatus:fa.status,status:ga});}function da(fa,ga){var ha=ea.getComment(fa)||new h({});ea.setComment(fa,h.set(ha,ga));i.didUpdateComment(ha.id);i.didUpdateFeedback(ha.ftentidentifier);}var ea={getComment:function(fa){if(fa===j.unavailableCommentKey)return null;return o[q(fa)];},setComment:function(fa,ga){l(ga instanceof h);o[q(fa)]=ga;},resetComments:function(fa){for(var ga in fa)delete o[q(ga)];}};i.subscribe('update-comments',function(fa,ga){if(ga.comments&&ga.comments.length)r(ga.comments,ga.payloadsource);});i.subscribe('update-actions',function(fa,ga){if(ga.actions&&ga.actions.length)s(ga.actions);});e.exports=ea;},null);
__d("UFIToplevelCommentList",["ActorURI","MercuryServerDispatcher","UFICentralUpdates","UFICommentList","UFIComments","UFIConstants","UFIReplyCommentList","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o={};for(var p in j)if(j.hasOwnProperty(p))r[p]=j[p];var q=j===null?null:j.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=j;r.getCommentList=function(t,u){if(!o[t])o[t]={};if(!o[t][u]){var v=new r(t,u),w=r.getCommentListsForFeedbackTargetID(t);if(w.length)v.updateCommentCount(w[0].getCommentCount());o[t][u]=v;}return o[t][u];};r.getCommentListsForFeedbackTargetID=function(t){var u=[],v=o[t]||{};for(var w in v)u.push(v[w]);return u;};r.getCommentListForFeedbackTargetID_UNSAFE=function(t){var u=r.getCommentListsForFeedbackTargetID(t);return u.length?u[0]:null;};r.resetCommentListsForFeedbackTargetID=function(t){if(!o[t])return;var u={};for(var v in o[t]){var w=o[t][v],x=w.reset();for(var y in x){var z=x[y];u[z]=true;}}k.resetComments(u);};r.resetCommentListsWithContext=function(t,u){if(!o[t])return;var v={};for(var w in o[t]){var x=o[t][w];for(var y in u)if(this.isValidContextPropertyForReset(y))x[y]=u[y];var z=x.reset();for(var aa in z){var ba=z[aa];v[ba]=true;m.resetWithContext(t,ba,u);}}k.resetComments(v);};function r(t,u){j.call(this,t);this.orderingMode=u;}r.prototype.fetchComments=function(t,u,v){var w={ft_ent_identifier:this.feedbackTargetID,viewas:v?v.viewAs:null,source:null,offset:t,length:u,orderingmode:this.orderingMode,feed_context:v?v.feedContext:null};if(!v||!v.viewAs)w[g.PARAMETER_ACTOR]=this.actorID;h.trySend('/ajax/ufi/comment_fetch.php',w);};r.prototype.deferredCallback=function(t,u,v,w){var x={},y=t,z=t+u-1;for(var aa=0;aa<u;aa++){var ba=this.orderReversed?z-aa:y+aa,ca=k.getComment(w[ba]);if(ca)x[t+aa]=ca;}v(x);};r.prototype.getOrderingMode=function(){return this.orderingMode;};r.prototype.buildCommentPermalink=function(t,u,v){if(!this.basePermalink)return null;var w=Math.floor((this.count-v-1)/l.defaultPageSize)*l.defaultPageSize;return (n(this.basePermalink).addQueryData({comment_id:u,offset:w,total_comments:this.count}).toString());};h.registerEndpoints({'/ajax/ufi/comment_fetch.php':{mode:h.IMMEDIATE}});function s(t){var u=k.getComment(t.commentid),v=u.id,w=u.ftentidentifier,x=u.parentcommentid;if(x)return;if(t.islocal||(u.status!==l.UFIStatus.DELETED&&u.status!==l.UFIStatus.FAILED_ADD))r.getCommentListsForFeedbackTargetID(w).forEach(function(y){y.deleteComment(v);});}i.subscribe('update-actions',function(t,u){if(u.actions&&u.actions.length)for(var v=0;v<u.actions.length;v++){var w=u.actions[v];switch(w.actiontype){case l.UFIActionType.DELETE_COMMENT:s(w);break;}}});i.subscribe('update-comment-lists',function(t,u){var v=u.commentlists;if(v&&v.comments&&Object.keys(v).length)for(var w in v.comments)for(var x in v.comments[w]){var y=v.comments[w][x];r.getCommentList(w,x).addCommentIDs(y.range.offset,y.range.length,y.values);}});i.subscribe('update-comments',function(t,u){if(u.comments&&u.comments.length)u.comments.forEach(function(v){if(v.parentcommentid)return;var w=v.ftentidentifier;r.getCommentListsForFeedbackTargetID(w).forEach(function(x){x.addComment(v.id,v.clientid,v.legacyid);});});});i.subscribe('update-feedback',function(t,u){if(u.feedbacktargets&&u.feedbacktargets.length)u.feedbacktargets.forEach(function(v){var w=v.entidentifier,x=v.defaultcommentorderingmode,y={};if(x)y[x]=true;if(v.orderingmodes)v.orderingmodes.forEach(function(aa){y[aa.value]=true;});for(var z in y)r.getCommentList(w,z).updateCommentCount(v.commentcount);});});e.exports=r;},null);
__d("UFIUserActions",["ActorURI","AsyncResponse","CLoggerX","ClientIDs","ImmutableObject","Nectar","UFICentralUpdates","UFIToplevelCommentList","UFIComments","UFIConstants","UFIFeedbackTargets","MercuryServerDispatcher","collectDataAttributes","copyProperties","fbt","UnicodeBidi"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();var w={BAN:'ban',UNDO_BAN:'undo_ban'},x={changeActor:function(ka,la){q.getFeedbackTarget(ka,function(ma){n.resetCommentListsWithContext(ka,{actorID:la});var na={from_actor_id:ma.actorforpost,ft_ent_identifier:ka};na[g.PARAMETER_ACTOR]=la;r.trySend('/ajax/ufi/actor_change.php',na);});},changeCommentLike:function(ka,la,ma){var na=o.getComment(ka);if(na.hasviewerliked!=la){var oa=y(ma.target),pa=la?1:-1,qa={commentid:ka,actiontype:p.UFIActionType.COMMENT_LIKE,viewerliked:la,likecount:na.likecount+pa};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[qa]});q.getFeedbackTarget(na.ftentidentifier,function(ra){var sa={};sa[g.PARAMETER_ACTOR]=ra.actorforpost;r.trySend('/ajax/ufi/comment_like.php',t({comment_id:ka,legacy_id:na.legacyid,like_action:la,ft_ent_identifier:na.ftentidentifier,source:ma.source,client_id:j.getNewClientID()},oa,sa));});}},addComment:function(ka,la,ma,na){q.getFeedbackTarget(ka,function(oa){var pa=y(na.target),qa=j.getNewClientID();if(!oa.actorforpost)return;var ra=v.isDirectionLTR(la)?'ltr':'rtl',sa={ftentidentifier:ka,body:{text:la,dir:ra},author:oa.actorforpost,id:qa,islocal:true,ufiinstanceid:na.ufiinstanceid,likecount:0,hasviewerliked:false,parentcommentid:na.replyid,attachment:na.attachedsticker,photo_comment:na.attachedphoto,timestamp:{time:Math.floor(Date.now()/1000),text:u._("il y a quelques secondes")}},ta={actiontype:p.UFIActionType.SUBSCRIBE_ACTION,actorid:oa.actorforpost,hasviewersubscribed:true,entidentifier:ka},ua={actiontype:p.UFIActionType.ADD_COMMENT_ACTION,feedbackfbid:oa.targetfbid};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[sa],actions:[ta,ua]});var va=null;if(na.replyid)va=(o.getComment(na.replyid)).fbid;var wa=i.getCLParamsForTarget(na.target,va),xa={};xa[g.PARAMETER_ACTOR]=oa.actorforpost;r.trySend('/ajax/ufi/add_comment.php',t({ft_ent_identifier:oa.entidentifier,comment_text:ma,source:na.source,client_id:qa,reply_fbid:va,parent_comment_id:na.replyid,timeline_log_data:na.timelinelogdata,rootid:na.rootid,clp:wa,attached_sticker_fbid:na.attachedsticker?na.attachedsticker.fbid:0,attached_photo_fbid:na.attachedphoto?na.attachedphoto.fbid:0,giftoccasion:na.giftoccasion,recommendation_ids:na.recommendationIDs?na.recommendationIDs:[],facepileMentionedIDs:na.facepileMentionedIDs,feed_context:na.feedcontext},pa,xa));});},_hasCommentTextChanged:function(ka,la){return ka.body&&ka.body.text!=la;},_hasCommentPhotoChanged:function(ka,la){return ((ka||la)&&!(ka&&la))||(ka&&la&&(ka.fbid!=la.fbid));},_hasCommentStickerChanged:function(ka,la){return ((ka||la)&&!(ka&&la))||(ka&&(ka.type=="sticker")&&la&&(ka.fbid!=la.fbid));},editComment:function(ka,la,ma,na){var oa=y(na.target),pa=o.getComment(ka),qa=this._hasCommentTextChanged(pa,la)||this._hasCommentPhotoChanged(pa.photo_comment,na.attachedPhoto)||this._hasCommentStickerChanged(pa.attachment,na.attachedSticker);pa=k.set(pa,{status:p.UFIStatus.PENDING_EDIT,body:{text:la},editnux:null,attachment:na.attachedSticker,photo_comment:na.attachedPhoto});if(qa)pa=k.set(pa,{originalTimestamp:pa.timestamp.time,timestamp:{time:Math.floor(Date.now()/1000),text:u._("il y a quelques secondes")}});m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[pa]});q.getFeedbackTarget(pa.ftentidentifier,function(ra){var sa={};sa[g.PARAMETER_ACTOR]=ra.actorforpost;r.trySend('/ajax/ufi/edit_comment.php',t({ft_ent_identifier:pa.ftentidentifier,comment_text:ma,source:na.source,comment_id:pa.id,parent_comment_id:pa.parentcommentid,attached_sticker_fbid:na.attachedSticker?na.attachedSticker.fbid:0,attached_photo_fbid:na.attachedPhoto?na.attachedPhoto.fbid:0},oa,sa));});},translateComment:function(ka,la){r.trySend('/ajax/ufi/translate_comment.php',{ft_ent_identifier:ka.ftentidentifier,comment_ids:[ka.id],source:la.source});},setHideAsSpam:function(ka,la,ma){var na=y(ma.target),oa=o.getComment(ka),pa={commentid:ka,actiontype:p.UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:la};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});r.trySend('/ajax/ufi/comment_spam.php',t({comment_id:ka,spam_action:la,ft_ent_identifier:oa.ftentidentifier,source:ma.source},na));},removeComment:function(ka,la){var ma=y(la.target),na=o.getComment(ka),oa={actiontype:p.UFIActionType.DELETE_COMMENT,commentid:ka,islocal:true,oneclick:la.oneclick};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[oa]});q.getFeedbackTarget(na.ftentidentifier,function(pa){var qa={};qa[g.PARAMETER_ACTOR]=pa.actorforpost;r.trySend('/ajax/ufi/delete_comment.php',t({comment_id:na.id,comment_legacyid:na.legacyid,ft_ent_identifier:na.ftentidentifier,one_click:la.oneclick,source:la.source,client_id:j.getNewClientID(),timeline_log_data:la.timelinelogdata},ma,qa));});},banUser:function(ka,la,ma,na){var oa=ma?w.BAN:w.UNDO_BAN;r.trySend('/ajax/ufi/ban_user.php',{page_id:la,commenter_id:ka.author,action:oa,comment_id:ka.id,client_side:true});},changeLike:function(ka,la,ma){q.getFeedbackTarget(ka,function(na){var oa=y(ma.target);if(na.hasviewerliked!==la){var pa=la?1:-1,qa={actiontype:p.UFIActionType.LIKE_ACTION,actorid:na.actorforpost,hasviewerliked:la,likecount:na.likecount+pa,entidentifier:ka,likesentences:{current:na.likesentences.alternate,alternate:na.likesentences.current}};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[qa]});var ra={};ra[g.PARAMETER_ACTOR]=na.actorforpost;r.trySend('/ajax/ufi/like.php',t({like_action:la,ft_ent_identifier:ka,source:ma.source,client_id:j.getNewClientID(),rootid:ma.rootid,giftoccasion:ma.giftoccasion},oa,ra));}});},changeSubscribe:function(ka,la,ma){q.getFeedbackTarget(ka,function(na){var oa=y(ma.target);if(na.hasviewersubscribed!==la){var pa={actiontype:p.UFIActionType.SUBSCRIBE_ACTION,actorid:na.actorforpost,hasviewersubscribed:la,entidentifier:ka};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});var qa={};qa[g.PARAMETER_ACTOR]=na.actorforpost;r.trySend('/ajax/ufi/subscribe.php',t({subscribe_action:la,ft_ent_identifier:ka,source:ma.source,client_id:j.getNewClientID(),rootid:ma.rootid,comment_expand_mode:ma.commentexpandmode},oa,qa));}});},fetchSpamComments:function(ka,la,ma,na){r.trySend('/ajax/ufi/id_comment_fetch.php',{ft_ent_identifier:ka,viewas:na,comment_ids:la,parent_comment_id:ma,source:null});},removePreview:function(ka,la){var ma=y(la.target),na={commentid:ka.id,actiontype:p.UFIActionType.REMOVE_PREVIEW};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[na]});r.trySend('/ajax/ufi/remove_preview.php',t({comment_id:ka.id,ft_ent_identifier:ka.ftentidentifier,source:la.source},ma));}};function y(ka){if(!ka)return {ft:{}};var la={ft:s(ka,['ft']).ft};l.addModuleData(la,ka);return la;}function z(ka){var la=ka.request.data;h.defaultErrorHandler(ka);var ma=la.client_id||la.comment_id,na=o.getComment(ma),oa=(na.status===p.UFIStatus.PENDING_EDIT)?p.UFIStatus.FAILED_EDIT:p.UFIStatus.FAILED_ADD;na=k.setDeep(na,{status:oa,allowRetry:aa(ka),body:{mentionstext:la.comment_text,mentionsphoto:na.photo_comment}});m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[na]});}function aa(ka){var la=ka.getError();if(ka.isBlockedAction())return false;if(ka.silentError)return true;if(la===1357012||la===1357006)return false;return true;}function ba(ka){var la=ka.request.data,ma=la.comment_id,na=o.getComment(ma);na=k.set(na,{status:na.priorstatus||null,priorstatus:(void 0)});m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[na]});}function ca(ka){var la=ka.request.data,ma=la.comment_id,na=o.getComment(ma);if(la.like_action===na.hasviewerliked){var oa=na.hasviewerliked?-1:1,pa={commentid:ma,actiontype:p.UFIActionType.COMMENT_LIKE,viewerliked:!na.hasviewerliked,likecount:na.likecount+oa};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});}h.defaultErrorHandler(ka);}function da(ka){var la=ka.request.data,ma=la.ft_ent_identifier;q.getFeedbackTarget(ma,function(na){if(na.hasviewerliked===la.like_action){var oa=na.hasviewerliked?-1:1,pa={actiontype:p.UFIActionType.LIKE_ACTION,actorid:na.actorforpost,hasviewerliked:!na.hasviewerliked,likecount:na.likecount+oa,entidentifier:ma,likesentences:{current:na.likesentences.alternate,alternate:na.likesentences.current}};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});}});h.defaultErrorHandler(ka);}function ea(ka){var la=ka.request.data,ma=la.ft_ent_identifier;q.getFeedbackTarget(ma,function(na){if(na.hasviewersubscribed===la.subscribe_action){var oa={actiontype:p.UFIActionType.SUBSCRIBE_ACTION,actorid:na.actorforpost,hasviewersubscribed:!na.hasviewersubscribed,entidentifier:ma};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[oa]});}});h.defaultErrorHandler(ka);}var fa={'/ajax/ufi/actor_change.php':{mode:r.IMMEDIATE},'/ajax/ufi/comment_like.php':{mode:r.BATCH_CONDITIONAL,error_handler:ca,batch_if:ga,batch_function:ja},'/ajax/ufi/comment_spam.php':{mode:r.IMMEDIATE,error_handler:ba},'/ajax/ufi/add_comment.php':{mode:r.IMMEDIATE,error_handler:z},'/ajax/ufi/delete_comment.php':{mode:r.IMMEDIATE,error_handler:ba},'/ajax/ufi/ban_user.php':{mode:r.IMMEDIATE},'/ajax/ufi/edit_comment.php':{mode:r.IMMEDIATE,error_handler:z},'/ajax/ufi/like.php':{mode:r.BATCH_CONDITIONAL,error_handler:da,batch_if:ha,batch_function:ja},'/ajax/ufi/subscribe.php':{mode:r.BATCH_CONDITIONAL,error_handler:ea,batch_if:ia,batch_function:ja},'/ajax/ufi/id_comment_fetch.php':{mode:r.IMMEDIATE},'/ajax/ufi/remove_preview.php':{mode:r.IMMEDIATE},'/ajax/ufi/translate_comment.php':{mode:r.IMMEDIATE},'/profile/broadcast_request/async/add_composer_token/':{mode:r.IMMEDIATE}};r.registerEndpoints(fa);function ga(ka,la){return ka&&ka.ft_ent_identifier==la.ft_ent_identifier&&ka.comment_id==la.comment_id;}function ha(ka,la){return ka&&ka.ft_ent_identifier==la.ft_ent_identifier;}function ia(ka,la){return ka&&ka.ft_ent_identifier==la.ft_ent_identifier;}function ja(ka,la){return la;}e.exports=x;},null);
__d("UFIUIEvents",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g='UFIUIEvents/ufiActionAddComment',h='UFIUIEvents/ufiActionLinkLike',i='UFIUIEvents/ufiActionLinkUnlike',j={UFIActionLinkLike:h,UFIActionLinkUnlike:i,UFIActionAddComment:g};e.exports=j;},null);
__d("XPagesMessagingPrivateReplyDialogController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pages\/messaging\/private_reply\/dialog\/",{activity_id:{type:"String",required:true}});},null);
__d("UFIPrivateReplyLink.react",["ActorURI","Link.react","PagesPrivateReplyConstants","React","XUIGrayText.react","XPagesMessagingPrivateReplyDialogController","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=i.Status,o=i.Type,p=j,q=p.PropTypes,r=j.createClass({displayName:"UFIPrivateReplyLink",propTypes:{actorID:q.string.isRequired,activityID:q.string.isRequired,context:q.shape({activityType:q.string.isRequired,status:q.string.isRequired,hasReplyPermission:q.bool.isRequired,pageID:q.string.isRequired,permalink:q.string}).isRequired},render:function(){var s=this.props.context;if(s.hasReplyPermission&&this.props.actorID===s.pageID){if(s.status===n.REPLYABLE){return this._renderMessageLink();}else if(s.status===n.ALREADY_REPLIED)return this._renderSeeReplyLink();return this._renderTooltip();}if(s.status===n.ALREADY_REPLIED)return this._renderIndicator();return null;},_renderMessageLink:function(){var s=g.create(l.getURIBuilder().setString('activity_id',this.props.activityID).getURI(),this.props.context.pageID);return (j.createElement(h,{href:s,rel:"dialog"},this._getLabel()));},_renderTooltip:function(){var s;switch(this.props.context.status){case n.EXPIRED:s=m._({"comments":"You can't send a message response to comments that are older than 6 months.","reviews":"You can't send a message response to reviews that are older than 6 months.","posts":"You can't send a message response to posts that are older than 6 months."},[m['enum'](this._getActivityTypeLabel(),{comments:"comments",reviews:"reviews",posts:"posts"})]);break;case n.NOT_USER_CREATED:s=m._("Pages can't send private messages to other Pages.");break;}return (j.createElement("span",null,j.createElement(k,{shade:"light","aria-label":s,"data-hover":s?'tooltip':null},this._getLabel())));},_renderSeeReplyLink:function(){return (j.createElement(h,{href:this.props.context.permalink||'#'},m._("See Response")));},_renderIndicator:function(){return (j.createElement("span",null,j.createElement(k,{shade:"light"},m._("Page responded privately"))));},_getLabel:function(){return (m._("Message Privately"));},_getActivityTypeLabel:function(){switch(this.props.context.activityType){case o.COMMENT_PAGE_POST:case o.COMMENT_WALL_POST:case o.COMMENT_REVIEW:return 'comments';case o.REVIEW:return 'reviews';default:return 'posts';}}});e.exports=r;},null);
__d("UFIActionLinkController",["Arbiter","ClickPointIdentifiersDEPRECATED","CSS","DOM","DOMQuery","Parent","React","TrackingNodes","UFIBlingBox.react","UFICentralUpdates","UFICommentLink.react","UFIConstants","UFIFeedbackTargets","UFIInstanceState","UFILikeLink.react","UFIShareLink.react","UFISubscribeLink.react","UFITimelineBlingBox.react","UFIToplevelCommentList","UFIUserActions","UFIUIEvents","UFIPrivateReplyLink.react","URI","cx","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){b.__markCompiled&&b.__markCompiled();function fa(ha,ia,ja){if(this._root)throw new Error('UFIActionLinkController attempted to initialize when a root was'+' already present');var ka=k.scry(ha,ia)[0];if(ka){if(i.hasClass(ka,'prevent_react_replace'))return;var la=document.createElement('span');ka.parentNode.replaceChild(la,ka);la.appendChild(ka);if(typeof ja==="function")ja(la);}else var ma=g.subscribe('PhotoSnowlift.DATA_CHANGE',function(){g.unsubscribe(ma);fa(ha,ia,ja);},g.SUBSCRIBE_NEW);}var ga=function(ha,ia,ja,ka){this._id=ia.ftentidentifier;this._ftFBID=ja.targetfbid;this._source=ia.source;this._contextArgs=ia;this._ufiRoot=ha;this._ufiInstanceID=ka;this._isOnTimeline=this._isRenderingOnTimeline();if(this._isOnTimeline){this._attemptInitializeTimelineBling();}else this._attemptInitializeBling();if(ja.viewercanlike||ja.hasviewerliked)this._attemptInitializeLike();if(ja.cancomment&&this._contextArgs.reactcommentlink)this._attemptInitializeComment();if(ja.viewercansubscribetopost)this._attemptInitializeSubscribe();this._attemptInitializeShare();this._attemptInitializeMessageReply();p.subscribe('feedback-updated',function(la,ma){var na=ma.updates;if(this._id in na)this.render();}.bind(this));p.subscribe('feedback-id-changed',function(la,ma){var na=ma.updates;if(this._id in na)this._id=na[this._id];}.bind(this));};ea(ga.prototype,{_attemptInitializeBling:function(){fa(this._ufiRoot,'^form .uiBlingBox',function(ha){this._blingRoot=ha;if(this._dataReady)this._renderBling();}.bind(this));},_attemptInitializeTimelineBling:function(){if(this._root)throw new Error('UFIActionLinkController attempted to initialize when a root was'+' already present');var ha=k.scry(this._ufiRoot,'^form .fbTimelineFeedbackActions .UFIBlingBoxTimeline')[0];if(ha){var ia=k.scry(ha,'.fbTimelineFeedbackLikes')[0];this._enableShowLikes=ia?true:false;var ja=k.scry(ha,'.fbTimelineFeedbackComments')[0];this._enableShowComments=ja?true:false;}this._blingTimelineRoot=ha;if(this._dataReady)this._renderTimelineBling();},_attemptInitializeLike:function(){fa(this._ufiRoot,'^form .like_link',function(ha){this._likeRoot=ha;if(this._dataReady)this._renderLike();}.bind(this));},_attemptInitializeComment:function(){fa(this._ufiRoot,'^form .comment_link',function(ha){this._commentRoot=ha;if(this._dataReady)this._renderComment();}.bind(this));},_attemptInitializeSubscribe:function(){fa(this._ufiRoot,'^form .unsub_link',function(ha){this._subscribeRoot=ha;if(this._dataReady)this._renderSubscribe();}.bind(this));},_attemptInitializeMessageReply:function(){fa(this._ufiRoot,'^form .message_reply_action_link',function(ha){this._messageReplyRoot=ha;if(this._messageReplyRoot.previousSibling&&this._messageReplyRoot.previousSibling.nodeType===3){this._messageReplySeparator=this._messageReplyRoot.previousSibling;this._messageReplySeparatorData=this._messageReplySeparator.data;}if(this._dataReady)this._renderMessageReply();}.bind(this));},_attemptInitializeShare:function(){fa(this._ufiRoot,'^form .share_action_link',function(ha){this._shareRoot=ha;var ia=k.scry(this._shareRoot,'.share_action_link')[0];this._shareURI=ia?ia.getAttribute('href'):null;this._shareRel=ia?ia.getAttribute('rel'):null;if(this._dataReady)this._renderShare();}.bind(this));},render:function(){this._dataReady=true;if(this._isOnTimeline){this._renderTimelineBling();}else this._renderBling();this._renderLike();this._renderComment();this._renderSubscribe();this._renderShare();this._renderMessageReply();},_renderBling:function(){if(this._blingRoot)s.getFeedbackTarget(this._id,function(ha){var ia=function(event){if(this._contextArgs.blingtogglescomments){var na=l.byTag(event.target,"form");i.toggleClass(na,"collapsed_comments");i.toggleClass(na,"hidden_add_comment");}event.preventDefault();}.bind(this),ja=n.getTrackingInfo(n.types.BLINGBOX),ka=y.getCommentListForFeedbackTargetID_UNSAFE(this._id).getDisplayedCommentCount(),la=ca(ha.permalink).addQueryData({comment_tracking:ja}).toString(),ma=m.createElement(o,{likes:ha.likecount,likesreduced:ha.likecountreduced,comments:ka,commentsreduced:ha.commentcountreduced,reshares:ha.sharecount,resharesreduced:ha.sharecountreduced,nfb:ha.nfbcount,permalink:la,contextArgs:this._contextArgs,onClick:ia,"data-ft":ja});this._blingBox=m.render(ma,this._blingRoot);}.bind(this));},_renderTimelineBling:function(){if(this._blingTimelineRoot)s.getFeedbackTarget(this._id,function(ha){var ia=n.getTrackingInfo(n.types.BLINGBOX),ja=h.getUserActionID(h.types.TIMELINE_SEE_LIKERS),ka=function(event){var na=l.byTag(event.target,"form");i.removeClass(na,"collapsed_comments");var oa=k.scry(na,'a.UFIPagerLink');if(oa.length)oa[0].click();event.preventDefault();}.bind(this),la=y.getCommentListForFeedbackTargetID_UNSAFE(this._id).getDisplayedCommentCount(),ma=m.createElement(x,{comments:la,commentsreduced:ha.commentcountreduced,commentOnClick:ka,contextArgs:this._contextArgs,"data-ft":ia,"data-gt":ja,enableShowComments:this._enableShowComments,enableShowLikes:this._enableShowLikes,feedbackFBID:this._ftFBID,likes:ha.likecount,likesreduced:ha.likecountreduced,reshares:ha.sharecount,resharesreduced:ha.sharecountreduced,actorid:ha.actorid});m.render(ma,this._blingTimelineRoot);}.bind(this));},_renderLike:function(){if(this._likeRoot)s.getFeedbackTarget(this._id,function(ha){var ia=!ha.hasviewerliked,ja=function(event){var la=ia?aa.UFIActionLinkLike:aa.UFIActionLinkUnlike;g.inform(la,{ft_id:this._id,like_action:ia,target:event.target});z.changeLike(this._id,ia,{source:this._source,target:event.target,rootid:this._contextArgs.rootid,giftoccasion:this._contextArgs.giftoccasion});event.preventDefault();g.inform('inlineShare/reflow');}.bind(this),ka=m.createElement(u,{onClick:ja,likeAction:ia,ufiExperiments:this._contextArgs.ufiexperiments});this._likeLink=m.render(ka,this._likeRoot);}.bind(this));},_renderComment:function(){if(!this._commentRoot)return;var ha=function(event){this._setInlineShareActive(false);}.bind(this),ia=m.createElement(q,{onClick:ha,ufiExperiments:this._contextArgs.ufiexperiments});this._commentLink=m.render(ia,this._commentRoot);},_renderMessageReply:function(){if(this._messageReplyRoot)s.getFeedbackTarget(this._id,function(ha){this._messageReplyLink=null;if(ha.messagereplycontext){var ia=m.createElement(ba,{actorID:ha.actorforpost,activityID:this._id,context:ha.messagereplycontext});this._messageReplyLink=m.render(ia,this._messageReplyRoot);}if(!this._messageReplyLink||!m.findDOMNode(this._messageReplyLink)){if(this._messageReplySeparator)this._messageReplySeparator.data='';j.setContent(this._messageReplyRoot,null);return;}if(this._messageReplySeparator)this._messageReplySeparator.data=this._messageReplySeparatorData;}.bind(this));},_renderSubscribe:function(){if(this._subscribeRoot)s.getFeedbackTarget(this._id,function(ha){var ia=!ha.hasviewersubscribed,ja=function(event){z.changeSubscribe(this._id,ia,{source:this._source,target:event.target,rootid:this._contextArgs.rootid,commentexpandmode:ha.commentexpandmode});event.preventDefault();}.bind(this),ka=m.createElement(w,{onClick:ja,subscribeAction:ia});this._subscribeLink=m.render(ka,this._subscribeRoot);}.bind(this));},_renderShare:function(){if(!(this._shareRoot&&this._shareURI))return;var ha=function(event){if(this._getInlineShareLoaded()){this._setInlineShareActive(true);event.kill();}}.bind(this),ia=l.byClass(this._shareRoot,"_19ph"),ja=function(event){var ka=Object.assign({},event.data.props,{shareLinkNode:(ia||this._shareRoot)});this._initInlineShare(ka);}.bind(this);this._shareLink=m.render(m.createElement(v,{ufiExperiments:this._contextArgs.ufiexperiments,href:this._shareURI,onReceiveAsyncProps:ja,onClick:ha,rel:this._shareRel}),this._shareRoot);},_initInlineShare:function(ha){t.updateState(this._ufiInstanceID,'inlineShare',{loaded:true,active:true,props:ha,toggling:true});},_setInlineShareActive:function(ha){var ia=t.getKeyForInstance(this._ufiInstanceID,'inlineShare');t.updateState(this._ufiInstanceID,'inlineShare',Object.assign({},ia,{active:ha,toggling:true}));},_getInlineShareLoaded:function(){var ha=t.getKeyForInstance(this._ufiInstanceID,'inlineShare');return ha&&ha.loaded;},_isRenderingOnTimeline:function(){if(this._source===r.UFIFeedbackSourceType.PROFILE){var ha=k.scry(this._ufiRoot,'^form .fbTimelineFeedbackActions .UFIBlingBoxTimeline');return (ha.length>0);}return false;}});e.exports=ga;},null);
__d("MentionsInputUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={generateDataFromTextWithEntities:function(h){var i=h.text,j=[];(h.ranges||[]).forEach(function(l){var m=l.entity;if(!m.external)j.push({uid:m.id,text:i.substr(l.offset,l.length),offset:l.offset,length:l.length,weakreference:!!m.weakreference});});var k={value:i,mentions:j};return k;}};e.exports=g;},null);
__d("Facepile.react",["joinClasses","Link.react","Pixelz.react","React","List.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=j,n=m.PropTypes,o={small:24,medium:32,large:50},p=j.createClass({displayName:"Facepile",propTypes:{className:n.string,onFaceClick:n.func,onComponentDidMount:n.func,profiles:n.array,size:n.oneOf(['small','medium','large']).isRequired},_onFaceClick:function(q,r){if(this.props.onFaceClick)this.props.onFaceClick(q,r);},componentDidMount:function(){if(this.props.onComponentDidMount)this.props.onComponentDidMount();},renderFace:function(q,r){var s=o[this.props.size];return (j.createElement("li",{className:"_43q7",key:q.uniqueID,onClick:this._onFaceClick.bind(this,q,r)},j.createElement(h,{href:q.URL,"aria-label":q.name,"data-hover":'tooltip',className:"_2rt_","data-tooltip-alignh":'left'},j.createElement(i,{src:q.profilePicURI,width:s,height:s,className:"img"}))));},render:function(){var q=g(this.props.className,(("_43qm")+(this.props.size=='small'?' '+"_43q9":'')+(this.props.size=='medium'?' '+"_43qc":'')+(this.props.size=='large'?' '+"_43qf":'')));return (j.createElement("div",{className:q},j.createElement(k,{className:"uiFacepile/list",direction:"horizontal",spacing:"none",border:"none"},this.props.profiles.map(this.renderFace))));}});e.exports=p;},null);
__d("PagingFacepile.react",["Animation","Locale","Facepile.react","React","Image.react","cx","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=j,o=n.PropTypes,p=200,q=j.createClass({displayName:"PagingFacepile",propTypes:{className:o.string,onFaceClick:o.func,onComponentDidMount:o.func,size:o.oneOf(['small','medium','large']).isRequired,pageSize:o.number,onPageChange:o.func},getInitialState:function(){return {animating:false,page:0};},_numPages:function(){var r=this.props.pageSize;return Math.max(1,Math.ceil((this.props.profiles.length-1)/r));},_canGoPrev:function(){return this.state.page>0;},_canGoNext:function(){return this.state.page+1<this._numPages();},_goPrev:function(){this._canGoPrev()&&this._setPage(this.state.page-1);},_goNext:function(){this._canGoNext()&&this._setPage(this.state.page+1);},_setPage:function(r){if(this.state.animating)return;this.props.onPageChange(this._firstIndexOnPage(r));this.setState({animating:true,page:r},function(){var s=j.findDOMNode(this.refs.positioner).childNodes[0],t=this._calculatePosition(r);new g(s).to(t.reference,t.offset+'px').ondone(function(){return this.setState({animating:false});}.bind(this)).duration(p).go();}.bind(this));},_firstIndexOnPage:function(r){return (r===0)?0:this.props.pageSize*r+1;},_calculatePosition:function(r){var s=this._firstIndexOnPage(r),t=j.findDOMNode(this.refs.positioner).childNodes[0],u=t.childNodes[s].offsetLeft;if(h.isRTL()){var v=t.offsetWidth,w=t.childNodes[s].offsetWidth;return {reference:'right',offset:u+w-v};}return {reference:'left',offset:-u};},render:function(){return (j.createElement("div",null,this._renderPrevArrow(),this._renderNextArrow(),j.createElement("div",{className:"_29sq"},j.createElement(i,j.__spread({ref:"positioner"},this.props)))));},_renderArrow:function(r,s,t){var u=(("_43q7")+(r=='left'?' '+"lfloat":'')+(r=='right'?' '+"rfloat":'')),v=m('/images/messaging/stickers/selector/left.png'),w=m('/images/messaging/stickers/selector/right.png'),x;if(h.isRTL()){x=r=='right'?v:w;}else x=r=='left'?v:w;return (j.createElement("div",{className:u,onClick:t},j.createElement("a",{href:"#","aria-label":s,"data-hover":"tooltip","data-tooltip-alignh":"left",className:"_29sr"},j.createElement(k,{src:x}))));},_renderPrevArrow:function(){if(!this._canGoPrev())return null;return this._renderArrow('left','Previous',this._goPrev);},_renderNextArrow:function(){if(!this._canGoNext())return null;return this._renderArrow('right','Next',this._goNext);}});e.exports=q;},null);
__d("InputCaretUtility",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={moveCaretToBeginning:function(h){if(typeof h.selectionStart==="number"){h.selectionStart=h.selectionEnd=0;}else if(h.createTextRange!==(void 0)){h.focus();var i=h.createTextRange();i.collapse(false);i.select();}},delayedMoveCaretToBeginning:function(h){setTimeout(function(){return g.moveCaretToBeginning(h);});}};e.exports=g;},null);
__d("LegacyMentionsInput.react",["Bootloader","CLogConfig","TypeaheadMetricsConfig","Event","InputCaretUtility","Keys","React","DOM","cx","FocusListener"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();b('FocusListener');var p=m,q=p.PropTypes,r=m.createClass({displayName:"ReactLegacyMentionsInput",propTypes:{initialData:q.object,placeholder:q.string,datasource:q.object,ref:q.string,viewOptionsTypeObjects:q.object,viewOptionsTypeObjectsOrder:q.array,hashtags:q.bool,autoflip:q.bool,onEnterSubmit:q.func,onFocus:q.func,onBlur:q.func,onTypingStateChange:q.func,onPaste:q.func},componentDidMount:function(){this.props.initialData&&this._initializeTextarea(m.findDOMNode(this));},hasEnteredText:function(){return !!(this._mentionsInput&&this._mentionsInput.getValue().trim());},setSignature:function(s){var t=m.findDOMNode(this.refs.textarea);n.setAttributes(t,{value:s});k.delayedMoveCaretToBeginning(t);},submitComment:function(event){var s;if(event){s=event.target.value&&event.target.value.trim();}else{var t=m.findDOMNode(this.refs.textarea);if(t.value&&t.value!==t.placeholder)s=t.value;}s=s||'';var u={visibleValue:s,encodedValue:s};if(this._mentionsInput)u.encodedValue=this._mentionsInput.getRawValue().trim();var v=this.props.onEnterSubmit(u,event);if(v&&this._mentionsInput){this._mentionsInput.reset();event&&event.preventDefault();}},_handleKeydown:function(event){var s=event.nativeEvent,t=j.getKeyCode(s)==l.RETURN&&!j.$E(s).getModifiers().any,u=this._mentionsInput&&this._mentionsInput.getTypeahead().getView().getSelection();if(this.props.onEnterSubmit&&t&&!u)this.submitComment(event);},_handleFocus:function(){this.props.onFocus&&this.props.onFocus();this._initializeTextarea(m.findDOMNode(this.refs.root));},_handleBlur:function(){this.props.onBlur&&this.props.onBlur();},_initializeTextarea:function(s){if(this._mentionsInput||this._bootloadingMentions)return;this._bootloadingMentions=true;g.loadModules(["CompactTypeaheadRenderer","ContextualTypeaheadView","CLoggerX","InputSelection","MentionsInput","TextAreaControl","Typeahead","TypeaheadAreaCore","TypeaheadBestName","TypeaheadHoistFriends","TypeaheadMetrics","TypeaheadMetricsX","TypingDetector","UFIComments"],function(t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){var ha=m.findDOMNode(this.refs.textarea);new y(ha);if(h.gkResults){var ia=ga.getComment(this.props.replyCommentID),ja=ia?ia.fbid:null;v.trackMentionsInput(ha,ja);}if(this.props.onTypingStateChange){var ka=new fa(ha);ka.init();ka.subscribe('change',this.props.onTypingStateChange);}var la={autoSelect:true,renderer:t,causalElement:ha,autoflip:this.props.autoflip};if(this.props.viewOptionsTypeObjects)la.typeObjects=this.props.viewOptionsTypeObjects;if(this.props.viewOptionsTypeObjectsOrder)la.typeObjectsOrder=this.props.viewOptionsTypeObjectsOrder;var ma=new z(this.props.datasource,{ctor:u,options:la},{ctor:aa},m.findDOMNode(this.refs.typeahead)),na=[ba,ca];if(i.gkResults){var oa=new ea({extraData:{event_name:'mention_metric_x'}});oa.init(ma);}var pa=new da({extraData:{event_name:'mentions',from_location:'comments'}});z.initNow(ma,na,pa);this._mentionsInput=new x(s,ma,ha,{hashtags:this.props.hashtags});this._mentionsInput.init({},this.props.initialData);if(this.props.initialData)w.set(ha,ha.value.length);if(this.props.onPaste)j.listen(ha,'paste',this.props.onPaste);this._bootloadingMentions=false;}.bind(this));},focus:function(){try{m.findDOMNode(this.refs.textarea).focus();}catch(s){}},render:function(){var s=(("textInput")+(' '+"mentionsTextarea")+(' '+"uiTextareaAutogrow")+(' '+"uiTextareaNoResize")+(' '+"UFIAddCommentInput"));return (m.createElement("div",{ref:"root",className:"uiMentionsInput textBoxContainer ReactLegacyMentionsInput"},m.createElement("div",{className:"highlighter"},m.createElement("div",null,m.createElement("span",{className:"highlighterContent hidden_elem"}))),m.createElement("div",{ref:"typeahead",className:"uiTypeahead mentionsTypeahead"},m.createElement("div",{className:"wrap"},m.createElement("input",{type:"hidden",autoComplete:"off",className:"hiddenInput"}),m.createElement("div",{className:"innerWrap"},m.createElement("textarea",{ref:"textarea",name:"add_comment_text",className:s,title:this.props.placeholder,placeholder:this.props.placeholder,onFocus:this._handleFocus,onBlur:this._handleBlur,onKeyDown:this._handleKeydown})))),m.createElement("input",{type:"hidden",autoComplete:"off",className:"mentionsHidden",defaultValue:""})));}});e.exports=r;},null);
__d("PageAdminSignatureSettings",["Arbiter","AdminSignatureConstants","invariant"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k,l){"use strict";this.$PageAdminSignatureSettings0();if(!!l)this.$PageAdminSignatureSettings1=l;if(k instanceof j){i(!!l);this.$PageAdminSignatureSettings2(k);}else if(k!==null&&k!==(void 0)){this.$PageAdminSignatureSettings3=k.isValid;if(!this.$PageAdminSignatureSettings3)return;this.$PageAdminSignatureSettings4=k.signature;this.$PageAdminSignatureSettings5=k.shouldAttachToPost;this.$PageAdminSignatureSettings6=k.shouldAttachToComment;this.$PageAdminSignatureSettings7=k.shouldAttachToMessage;this.$PageAdminSignatureSettings8=k.everPromptedUser;this.$PageAdminSignatureSettings9=k.pageID;this.$PageAdminSignatureSettingsa=k.userID;}g.subscribe(h.EVENT_ADMIN_SIGNATURE_SETTING_CHANGED,function(m,n){return this.$PageAdminSignatureSettingsb(m,n);}.bind(this));g.subscribe(h.EVENT_ADMIN_SIGNATURE_PROMPTED,function(m,n){return this.$PageAdminSignatureSettingsc(m,n);}.bind(this));}j.prototype.getIsValid=function(){"use strict";return this.$PageAdminSignatureSettings3;};j.prototype.getIsValidWithActor=function(){"use strict";return this.getIsValid()&&this.$PageAdminSignatureSettings1!==null&&this.$PageAdminSignatureSettings1===this.$PageAdminSignatureSettings9;};j.prototype.getPageID=function(){"use strict";return this.$PageAdminSignatureSettings9;};j.prototype.getUserID=function(){"use strict";return this.$PageAdminSignatureSettingsa;};j.prototype.getSignature=function(){"use strict";return this.$PageAdminSignatureSettings4;};j.prototype.getShouldAttachToPost=function(){"use strict";return this.$PageAdminSignatureSettings5;};j.prototype.getShouldAttachToComment=function(){"use strict";return this.$PageAdminSignatureSettings6;};j.prototype.getShouldAttachToMessage=function(){"use strict";return this.$PageAdminSignatureSettings7;};j.prototype.getEverPromptedUser=function(){"use strict";return this.$PageAdminSignatureSettings8;};j.prototype.$PageAdminSignatureSettings0=function(){"use strict";this.$PageAdminSignatureSettings8=false;this.$PageAdminSignatureSettings9="";this.$PageAdminSignatureSettings6=false;this.$PageAdminSignatureSettings7=false;this.$PageAdminSignatureSettings5=false;this.$PageAdminSignatureSettings4="";this.$PageAdminSignatureSettingsa="";this.$PageAdminSignatureSettings3=false;this.$PageAdminSignatureSettings1=null;};j.prototype.$PageAdminSignatureSettings2=function(k){"use strict";this.$PageAdminSignatureSettings8=k.$PageAdminSignatureSettings8;this.$PageAdminSignatureSettings9=k.$PageAdminSignatureSettings9;this.$PageAdminSignatureSettings6=k.$PageAdminSignatureSettings6;this.$PageAdminSignatureSettings7=k.$PageAdminSignatureSettings7;this.$PageAdminSignatureSettings5=k.$PageAdminSignatureSettings5;this.$PageAdminSignatureSettings4=k.$PageAdminSignatureSettings4;this.$PageAdminSignatureSettingsa=k.$PageAdminSignatureSettingsa;this.$PageAdminSignatureSettings3=k.$PageAdminSignatureSettings3;};j.prototype.$PageAdminSignatureSettingsc=function(k,l){"use strict";if(l.userID!==this.$PageAdminSignatureSettingsa)return;this.$PageAdminSignatureSettings8=true;};j.prototype.$PageAdminSignatureSettingsb=function(k,l){"use strict";if(l.userID!==this.$PageAdminSignatureSettingsa||l.pageID!==this.$PageAdminSignatureSettings9)return;switch(l.settingChanged){case h.SETTING_ATTACH_TO_POST:this.$PageAdminSignatureSettings5=l.newValue;break;case h.SETTING_ATTACH_TO_MESSAGE:this.$PageAdminSignatureSettings7=l.newValue;break;case h.SETTING_ATTACH_TO_COMMENT:this.$PageAdminSignatureSettings6=l.newValue;break;default:i(false);}};e.exports=j;},null);
__d("XPagesAdminSignatureSettingsController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pages\/admin\/signature\/settings\/",{});},null);
__d("XPagesAdminSignaturePromptDialogController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pages\/admin\/signature\/prompt\/",{__asyncDialog:{type:"Int"}});},null);
__d("PageAdminSignatureMonitor",["Arbiter","AsyncRequest","AdminSignatureConstants","DOM","DOMQuery","Event","InputCaretUtility","PageAdminSignatureSettings","XPagesAdminSignatureSettingsController","XPagesAdminSignaturePromptDialogController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q={registerComposerControlForSignature:function(r,s,t,u){if(!s||!s.isValid)return;var v=this._getUnderlyingTextControl(r),w=new n(s,t);l.listen(v,'focus',function(){this._handleInputFieldFocusForSignature(v,w,w.getShouldAttachToPost(),function(x){return x.value;},function(x,y){if(u)y='\n\n'.concat(y);j.setAttributes(x,{value:y});m.delayedMoveCaretToBeginning(x);});}.bind(this));},handleReactInputFieldFocusForSignature:function(r,s,t){this._handleInputFieldFocusForSignature(r,s,t,function(u){return u.hasEnteredText();},function(u,v){return u.setSignature(v);});},prepareConfirmationDialog:function(r,s,t){r.subscribe('confirm',function(){r.hide();this._notifyPromptConfirmation(s,t,true);}.bind(this));r.subscribe('cancel',function(){this._notifyPromptConfirmation(s,t,false);}.bind(this));},_promptForAutoSignature:function(r){g.inform(i.EVENT_ADMIN_SIGNATURE_PROMPTED,{userID:r.getUserID()});var s=p.getURIBuilder().getURI();new h().setURI(s).setData({pageID:r.getPageID()}).send();},_handleInputFieldFocusForSignature:function(r,s,t,u,v){if(!s||!s.getIsValidWithActor())return;if(!s.getEverPromptedUser()){this._promptForAutoSignature(s);}else if(t&&!u(r))v(r,s.getSignature());},_notifyPromptConfirmation:function(r,s,t){var u=o.getURIBuilder().getURI();new h().setURI(u).setData({pageID:r,signatureOption:i.SETTING_EVER_PROMPTED,signatureOptionValue:t}).send();this._aribiterNotifyPromptConfirmation(r,s,t);},_getUnderlyingTextControl:function(r){return k.find(r,'textarea');},_aribiterNotifyPromptConfirmation:function(r,s,t){var u=[i.SETTING_ATTACH_TO_POST,i.SETTING_ATTACH_TO_COMMENT,i.SETTING_ATTACH_TO_MESSAGE];u.forEach(function(v){g.inform(i.EVENT_ADMIN_SIGNATURE_SETTING_CHANGED,{pageID:r,userID:s,settingChanged:v,newValue:t});});}};e.exports=q;},null);
__d("UFIClassNames",["cx"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports={ACTOR_IMAGE:"img UFIActorImage _54ru",ROW:"UFIRow",UNSEEN_ITEM:"UFIUnseenItem"};},null);
__d("UFIImageBlock.react",["ImageBlock.react","React","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h.createClass({displayName:"UFIImageBlock",render:function(){return (h.createElement(g,h.__spread({},this.props,{imageClassName:"UFIImageBlockImage",contentClassName:"UFIImageBlockContent"}),this.props.children));}});e.exports=j;},null);
__d("UFIStickerButton.react",["Bootloader","ContextualLayerAutoFlip","Link.react","React","ReactLayeredComponentMixin","StickerInterfaces","cx","fbt","getObjectValues"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=j,q=p.PropTypes,r=j.createClass({displayName:"UFIStickerButton",propTypes:{onStickerFlyoutShow:q.func,onStickerSelected:q.func.isRequired,onEmoticonSelected:q.func,showTooltip:q.bool,stickerInterface:q.oneOf(o(l))},mixins:[k],getDefaultProps:function(){return {showTooltip:true,stickerInterface:l.COMMENTS};},getInitialState:function(){return {renderFlyout:null,flyoutShown:false};},render:function(){var s=n._("Envoyer un autocollant");return (j.createElement(i,{"aria-label":(this.props.showTooltip)?s:null,className:"UFICommentStickerButton","data-hover":"tooltip","data-tooltip-alignh":"center",onClick:this._onLinkClicked,onMouseDown:this._prepareForClick},j.createElement("div",{ref:"icon",tabIndex:0,className:"UFICommentStickerIcon"}),this.props.children));},renderLayers:function(){return !this.state.renderFlyout?{}:this.state.renderFlyout();},_hideFlyout:function(){this.setState({flyoutShown:false});},_prepareForClick:function(){this._clickGuard=this.state.flyoutShown;},_onLinkClicked:function(){if(this.state.renderFlyout!==null){if(!this._clickGuard){this.props.onStickerFlyoutShow&&this.props.onStickerFlyoutShow();this.setState({flyoutShown:true});}return;}g.loadModules(["XUIContextualDialog.react","StickersFlyout.react"],function(s,t){this.setState({flyoutShown:true,renderFlyout:function(){return {contextualDialog:j.createElement(s,{alignment:"right",behaviors:{flip:h},className:"_5e-r",contextRef:"icon",onBlur:this._hideFlyout,position:"above",shown:this.state.flyoutShown,hasActionableContext:true,width:278},j.createElement("div",null,j.createElement(t,{onPackSelect:function(u){this.setState({packID:u});}.bind(this),onEscKeyDown:this._hideFlyout,onStickerSelect:this._onStickerSelected,onEmoticonSelect:this._onEmoticonSelected,stickerInterface:this.props.stickerInterface,packID:this.state.packID,shown:this.state.flyoutShown})))};}.bind(this)});this.props.onStickerFlyoutShow&&this.props.onStickerFlyoutShow();}.bind(this));},_onStickerSelected:function(s,event){this.props.onStickerSelected(s,event);this._hideFlyout();},_onEmoticonSelected:function(s){this.props.onEmoticonSelected(s);this._hideFlyout();}});e.exports=r;},null);
__d("XFeedNUXSaveSeenStateController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/feed\/nux\/seen\/save\/",{link_id:{type:"String"},key:{type:"String",required:true},seen:{type:"Bool",defaultValue:false}});},null);
__d("XUFIRecommendedMentionFriendsAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/ufi\/recommended_mention_friends\/",{cursor:{type:"String"},limit:{type:"Int"}});},null);
__d("UFIAddComment.react",["ActorURI","Arbiter","AsyncRequest","Bootloader","ClipboardPhotoUploader","CloseButton.react","DOM","DOMContainer.react","getActiveElement","Event","PagingFacepile.react","Focus","HTML","Keys","LegacyMentionsInput.react","Link.react","LitestandStoryInsertionStatus","LoadingIndicator.react","PageAdminSignatureMonitor","PageAdminSignatureSettings","React","ReactLayeredComponentMixin","Run","SearchableEntry","SnowflakePermalinkUtils","Sticker.react","TrackingNodes","UFIClassNames","UFIConfig","UFIConstants","UFIImageBlock.react","UFIStickerButton.react","URI","XFeedNUXSaveSeenStateController","XUIGrayText.react","XUFIRecommendedMentionFriendsAsyncController","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa){b.__markCompiled&&b.__markCompiled();var ta=aa,ua=ta.PropTypes,va=ra._("\u00c9crire un commentaire..."),wa=ra._("Votre r\u00e9ponse..."),xa="fcg fss UFICommentTip",ya=10,za=5,ab=19,bb='/ajax/ufi/upload/',cb=80,db='/ajax/ufi/sticker_preview/',eb=aa.createClass({displayName:"UFIAddComment",mixins:[ba],propTypes:{contextArgs:ua.object.isRequired,viewerActor:ua.object.isRequired,allowPhotoAttachments:ua.bool,allowStickerAttachments:ua.bool,attachedPhoto:ua.object,attachedSticker:ua.object,feedbackIsRanked:ua.bool,hide:ua.bool,initialData:ua.object,isEditing:ua.bool,isFirstComponent:ua.bool,isLastComponent:ua.bool,isSnowlift:ua.bool,isQAndA:ua.bool,mentionsDataSource:ua.object,onCancel:ua.func,onCommentSubmit:ua.func,onTypingStateChange:ua.func,replyCommentID:ua.string,useAddCommentFacepile:ua.bool,showSendOnEnterTip:ua.bool,subtitle:ua.any,targetID:ua.string,withoutSeparator:ua.bool},getInitialState:function(){if(this.props.attachedPhoto)this.props.contextArgs.attachedphoto=this.props.attachedPhoto;if(this.props.attachedSticker)this.props.contextArgs.attachedsticker=this.props.attachedSticker;return {attachedPhoto:this.props.attachedPhoto?this.props.attachedPhoto:null,attachedSticker:this.props.attachedSticker?this.props.attachedSticker:null,facepileMentionedIDs:[],facepileSize:this.props.isSnowlift?za:ya,fileInput:null,fileUploader:null,isCommenting:false,isLoadingPhoto:false,mentionFriendsCursor:null,fetchingRecommendedMentionFriends:false,renderedProfiles:[],renderStickerNUX:null,facepileFirstIndex:0,showFacepile:false,stickerNUXVisible:false,signatureContext:new z(this.props.contextArgs.pagesAdminSignatureSettings,this.props.viewerActor.id)};},_onKeyDown:function(event){if(this.props.isEditing&&p.getKeyCode(event.nativeEvent)===t.ESC)this.props.onCancel();if(this.isMounted()&&!this._isOnBeforeUnloadListenerAdded){ca.onBeforeUnload(this._handleUnsavedChanges);this._isOnBeforeUnloadListenerAdded=true;}var fb=o();if(p.getKeyCode(event.nativeEvent)===t.ESC)fb.blur();},_handleUnsavedChanges:function(){var fb=a.PageTransitions;if(fb){var gb=ma.getNextURI(),hb=fb.getMostRecentURI();if(gb.getQueryData().hasOwnProperty('theater')||hb.getQueryData().hasOwnProperty('theater')||ea.isPermalinkURI(gb)||ea.isPermalinkURI(hb))return;var ib=a.DialogNavigationStack;if(ib&&ib.isActiveURI(gb))return;}if(this.refs&&this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return ra._("Vous n\u2019avez pas termin\u00e9 votre commentaire. Voulez-vous quitter sans terminer\u00a0?");},_blur:function(){this.setState({stickerNUXVisible:false});if(this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return;this.setState({isCommenting:false});},_onPaste:function(event){var fb=new k(bb,this._getPhotoUploadData());this._cancelCurrentSubscriptions();this._subscriptions=[fb.subscribe('upload_start',this._prepareForAttachedPhotoPreview),fb.subscribe('upload_error',this._onRemoveAttachedPhotoPreviewClicked),fb.subscribe('upload_success',function(gb,hb){this._onPhotoUploadComplete(hb);}.bind(this))];fb.handlePaste(event);},_onEnterSubmit:function(fb,event){fb.facepileMentionedIDs=this.state.facepileMentionedIDs.slice();this.setState({showFacepile:false,facepileMentionedIDs:[]});var gb=this.state.attachedPhoto||this.state.attachedSticker,hb=this.props.isEditing||gb;if(this.state.isLoadingPhoto){return false;}else if(!fb.encodedValue.trim()&&!hb)return false;fb.encodedValue=fb.encodedValue.trim();if(gb){fb.attachedPhoto=this.state.attachedPhoto;fb.attachedSticker=this.state.attachedSticker;this.setState({isLoadingPhoto:false,attachedPhoto:null,attachedSticker:null});}else{fb.attachedPhoto=null;fb.attachedSticker=null;}this.props.onCommentSubmit(fb,event);return true;},_cancelCurrentSubscriptions:function(){if(this._subscriptions)this._subscriptions.forEach(function(fb){fb.unsubscribe();});},componentWillMount:function(){this._isOnBeforeUnloadListenerAdded=false;this._storyInsertionBlocker=w.registerBlocker(function(){return this.state.isCommenting;}.bind(this));},componentWillUnmount:function(){this._cancelCurrentSubscriptions();this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe();this._storyInsertionBlocker=null;},focus:function(){var fb={isCommenting:true};if(this.props.allowStickerAttachments&&ia.shouldShowStickerNUX){var gb=na.getURIBuilder().setString('key','sticker_comments').setBool('seen',true).getURI();new i(gb).send();if(this.state.renderStickerNUX===null)j.loadModules(["XUIAmbientNUX.react"],function(hb){fb.renderStickerNUX=function(){return {ambientNUX:aa.createElement(hb,{contextRef:"sticker_button",shown:this.state.stickerNUXVisible,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this._hideStickerNUX},ra._("Vous pouvez maintenant commenter avec un autocollant\u00a0!"))};}.bind(this);}.bind(this));ia.shouldShowStickerNUX=false;fb.stickerNUXVisible=true;}if(this.props.useAddCommentFacepile&&!this.props.replyCommentID&&!this.state.showFacepile){this._fetchRecommendedMentionFriends();fb.showFacepile=true;}y.handleReactInputFieldFocusForSignature(this.refs.mentionsinput,this.state.signatureContext,this.state.signatureContext.getShouldAttachToComment());this.setState(fb);},renderLayers:function(){return !this.state.renderStickerNUX?{}:this.state.renderStickerNUX();},renderFacepile:function(){if(this.state.showFacepile&&this.state.renderedProfiles.length>0)return (aa.createElement("div",{className:(("_2phz")+(' '+"_t9s")+(this.props.isSnowlift?' '+"_1_4j":''))},aa.createElement(oa,{className:"_t9u",shade:"light"},ra._("Mention some friends:")),aa.createElement("div",{className:"_t9v"},aa.createElement(q,{pageSize:this.state.facepileSize,onPageChange:this.onFacepilePageChange,className:"_t9w",profiles:this.state.renderedProfiles,size:"medium",onFaceClick:this.insertFacepileMention}))));},render:function(){var fb=!this.props.contextArgs.collapseaddcomment||this.state.isCommenting,gb=null;if(this.props.subtitle){gb=aa.createElement("span",{className:xa},this.props.subtitle);}else if(this.props.isEditing){gb=aa.createElement("span",{className:xa},ra._("Appuyez sur \u00c9chap pour {cancel}.",[ra.param("cancel",aa.createElement(v,{onClick:this.props.onCancel},ra._("annuler")))]));}else if(this.props.showSendOnEnterTip)gb=aa.createElement("span",{className:xa},ra._("Appuyez sur Entr\u00e9e pour publier."));var hb=null,ib=null,jb=this.state.attachedPhoto||this.state.attachedSticker,kb=null;if(this.props.allowStickerAttachments&&!jb)ib=aa.createElement(la,{ref:"sticker_button",onStickerSelected:this.onStickerSelected,onEmoticonSelected:this._insertEmoticonIntoCommentText});if(this.props.allowPhotoAttachments){kb=this._onPaste;var lb=jb?"UFICommentPhotoAttachedIcon":"UFICommentPhotoIcon",mb="UFIPhotoAttachLinkWrapper _m";hb=aa.createElement("div",{ref:"PhotoInputContainer",className:mb,"data-hover":"tooltip","data-tooltip-alignh":"center","aria-label":ra._("Joindre une photo")},aa.createElement("i",{ref:"PhotoInputControl",className:lb}));}var nb=ga.getTrackingInfo(ga.types.ADD_COMMENT_BOX),ob=sa(ha.ACTOR_IMAGE,((!fb?"hidden_elem":''))),pb=aa.createElement("div",{className:"UFIReplyActorPhotoWrapper",onClick:this.focus},aa.createElement("img",{className:ob,src:this.props.viewerActor.thumbSrc,alt:this.props.viewerActor.name})),qb=sa(ha.ROW,((this.props.hide?"noDisplay":'')+(' '+"UFIComponent")+(' '+"UFIAddComment")+(this.props.allowPhotoAttachments?' '+"UFIAddCommentWithPhotoAttacher":'')+(this.props.withoutSeparator?' '+"UFIAddCommentWithoutSeparator":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),rb;if(!!this.props.replyCommentID){rb=wa;}else if(this.props.isQAndA){rb=ra._("Posez une question...");}else if(this.props.source===ja.UFIFeedbackSourceType.TOPIC_CONVERSATION){rb=ra._("Discuss this topic...");}else rb=va;var sb=this.props.contextArgs.viewoptionstypeobjects,tb=this.props.contextArgs.viewoptionstypeobjectsorder,ub=null;if(this.state.attachedSticker){var vb=this._getScaledDimensions(jb.metadata.height,jb.metadata.width),wb=null,xb=null;if(window.devicePixelRatio&&window.devicePixelRatio>1){wb=jb.metadata.sprite_uri_2x;xb=jb.metadata.source_uri_2x;}else{wb=jb.metadata.sprite_uri;xb=jb.metadata.source_uri;}ub=aa.createElement(fa,{animationTrigger:"load_and_hover",frameCount:jb.metadata.frameCount,framesPerCol:jb.metadata.framesPerCol,framesPerRow:jb.metadata.framesPerRow,spriteURI:wb,sourceHeight:vb.height,sourceURI:xb,sourceWidth:vb.width});}else if(this.state.attachedPhoto){var yb=jb.markupPreview;if(s.isHTML(yb.markup))yb=s.replaceJSONWrapper(yb.markup).getRootNode();ub=aa.createElement(n,null,yb);if(!this.props.subtitle)gb=null;}else if(this.state.isLoadingPhoto)ub=aa.createElement(x,{color:"white",className:"UFICommentPhotoAttachedPreviewLoadingIndicator",size:"medium"});var zb,ac=this.state.attachedPhoto?this._onRemoveAttachedPhotoPreviewClicked:this._onRemoveAttachedStickerPreviewClicked;if(ub!=null){var bc=null;if(this.state.attachedSticker){bc=ra._("Supprimer l\u2019autocollant");}else if(this.state.attachedPhoto)bc=ra._("Supprimer la photo");zb=aa.createElement("div",{className:"UFICommentPhotoAttachedPreview pas"},ub,aa.createElement(l,{tooltip:bc,onClick:ac}));}var cc=this.props.allowStickerAttachments?sa("UFIMentionsInputWrap","UFIStickersEnabledInput"):"UFIMentionsInputWrap",dc,ec,fc;if(this.props.contextArgs.mentionsinput){var gc=this.props.contextArgs.mentionsinput;dc=gc.inputComponent;ec=gc.viewComponent;fc=gc.viewProps;}else dc=u;return (aa.createElement("li",{className:qb,onKeyDown:this._onKeyDown,"data-ft":nb},aa.createElement(ka,{className:cc},pb,aa.createElement("div",{className:"UFICommentContainer"},aa.createElement("div",{className:"UFIInputContainer"},aa.createElement(dc,{replyCommentID:this.props.replyCommentID,initialData:this.props.initialData,placeholder:rb,datasource:this.props.mentionsDataSource,ref:"mentionsinput",viewComponent:ec,viewProps:fc,viewOptionsTypeObjects:sb,viewOptionsTypeObjectsOrder:tb,hashtags:this.props.contextArgs.sht,autoflip:this.props.contextArgs.addcommentautoflip,monitorHeight:this.props.contextArgs.monitorHeight,onEnterSubmit:this._onEnterSubmit,onFocus:this.focus,onBlur:this._blur,onTypingStateChange:this.props.onTypingStateChange,onPaste:kb}),aa.createElement("div",{className:"UFICommentAttachmentButtons clearfix"},hb,ib)),this.renderFacepile(),zb,gb))));},componentDidUpdate:function(fb,gb,hb){if(!gb.attachedPhoto&&this.state.attachedPhoto||!gb.attachedSticker&&this.state.attachedSticker||!gb.isCommenting&&this.state.isCommenting)this.refs.mentionsinput.focus();if(fb.viewerActor.id!==this.props.viewerActor.id){if(this.state.fileInput)this.state.fileInput.clear();if(this.state.fileUploader)this.state.fileUploader.setData(this._getPhotoUploadData());this._onRemoveAttachedPhotoPreviewClicked();}},componentDidMount:function(){if(!this.props.allowPhotoAttachments)return;var fb=aa.findDOMNode(this.refs.PhotoInputContainer),gb=aa.findDOMNode(this.refs.PhotoInputControl),hb=ra._("Joindre une photo"),ib=m.create('input',{accept:'image/*',className:"_n",name:'file',type:'file',title:hb,'aria-label':hb});m.appendContent(gb,ib);var jb=p.listen(fb,'click',function(event){j.loadModules(["FileInput","FileInputUploader","Input"],function(kb,lb,mb){var nb=new kb(fb,gb,ib),ob=new lb().setAllowCrossPageTransition(true).setURI(bb).setData(this._getPhotoUploadData());nb.subscribe('change',function(event){if(nb.getValue()){this._prepareForAttachedPhotoPreview();ob.setInput(nb.getInput()).send();}}.bind(this));ob.subscribe('success',function(pb,qb){nb.clear();this._onPhotoUploadComplete(qb.response);}.bind(this));ob.subscribe('failure',function(pb,qb){nb.clear();this._onPhotoUploadComplete(qb.response);}.bind(this));r.setWithoutOutline(gb);this.setState({fileInput:nb,fileUploader:ob});}.bind(this));jb.remove();}.bind(this));},insertMention:function(fb){if(this.refs.mentionsinput&&this.refs.mentionsinput.insertMention)this.refs.mentionsinput.insertMention(fb);},insertFacepileMention:function(fb,gb){var hb=this.state.renderedProfiles.slice();hb.splice(gb,1);this.setState({renderedProfiles:hb});var ib=new da({uniqueID:fb.uniqueID,title:fb.name,type:'user'});this.insertMention(ib);var jb=this.state.facepileMentionedIDs;jb.push(fb.uniqueID);this.setState({facepileMentionedIDs:jb});this._maybeFetchRecommendedMentionFriends(this.state.facepileFirstIndex,hb.length);},onFacepileRendered:function(){if(this.props.isSnowlift)h.inform('ufi/addCommentFacepileRendered');},onFacepilePageChange:function(fb){this.setState({facepileFirstIndex:fb});this._maybeFetchRecommendedMentionFriends(fb,this.state.renderedProfiles.length);},_maybeFetchRecommendedMentionFriends:function(fb,gb){if(fb+2*this.state.facepileSize>gb)this._fetchRecommendedMentionFriends();},_fetchRecommendedMentionFriends:function(){if(this.state.fetchingRecommendedMentionFriends)return;this.setState({fetchingRecommendedMentionFriends:true});var fb=pa.getURIBuilder().setString('cursor',this.state.mentionFriendsCursor).setInt('limit',3*this.state.facepileSize).getURI();new i(fb).setMethod('GET').setReadOnly(true).setHandler(this._setRecommendedMentionFriends).send();},_setRecommendedMentionFriends:function(fb){var gb=fb.getPayload();if(gb.profiles.length===0)return;var hb=this.state.renderedProfiles;hb=hb.concat(gb.profiles);this.setState({fetchingRecommendedMentionFriends:false,renderedProfiles:hb,mentionFriendsCursor:gb.cursor});},_getScaledDimensions:function(fb,gb){var hb,ib,jb;if(gb>fb){jb=cb/gb;hb=fb*jb;ib=gb*jb;}else{jb=cb/fb;hb=fb*jb;ib=gb*jb;}return {height:Math.round(hb),width:Math.round(ib)};},_getPhotoUploadData:function(){var fb=this.props.viewerActor.id,gb={profile_id:fb,target_id:this.props.targetID,source:ab};gb[g.PARAMETER_ACTOR]=fb;return gb;},_onPhotoUploadComplete:function(fb){if(!this.state.isLoadingPhoto)return;var gb=fb.getPayload();if(gb&&gb.fbid){this.props.contextArgs.attachedphoto=gb;this.setState({attachedPhoto:gb,isLoadingPhoto:false});}else this._onRemoveAttachedPhotoPreviewClicked(null);},_onRemoveAttachedPhotoPreviewClicked:function(event){this.props.contextArgs.attachedphoto=null;this.setState({attachedPhoto:null,isLoadingPhoto:false});},_prepareForAttachedPhotoPreview:function(){this.props.contextArgs.attachedphoto=null;this.setState({attachedPhoto:null,isLoadingPhoto:true});},_onStickerUploadComplete:function(fb){if(!this.state.isLoadingPhoto)return;var gb=fb.getPayload();if(gb&&gb.fbid){this.props.contextArgs.attachedsticker=gb;this.setState({attachedSticker:gb,isLoadingPhoto:false});}else{j.loadModules(["Dialog"],function(hb){var ib=ra._("\u00c9chec de l\u2019autocollant"),jb=ra._("Un probl\u00e8me est survenu lors de l\u2019ajout de l\u2019autocollant.");new hb().setTitle(ib).setBody(jb).setButtons(hb.OK).show();});this._onRemoveAttachedStickerPreviewClicked(null);}},_onRemoveAttachedStickerPreviewClicked:function(event){this.props.contextArgs.attachedsticker=null;this.setState({attachedSticker:null,isLoadingPhoto:false});},onStickerSelected:function(fb,event){if(this.props.isEditing||this.refs.mentionsinput.hasEnteredText()){this._prepareForAttachedStickerPreview(fb);return;}this.sendSticker(fb,event);},_prepareForAttachedStickerPreview:function(fb){this.props.contextArgs.attachedsticker=null;this.setState({attachedSticker:null,isLoadingPhoto:true});new i(db).setData({sticker_id:fb}).setErrorHandler(this._onRemoveAttachedStickerPreviewClicked).setHandler(this._onStickerUploadComplete).send();},sendSticker:function(fb,event){var gb={encodedValue:'',visibleValue:''};this.props.contextArgs.attachedsticker={fbid:fb};this.props.onCommentSubmit(gb,event);},_insertEmoticonIntoCommentText:function(fb){j.loadModules(["EmoticonsList","EmoticonUtils","TextAreaControl","SelectionPosition"],function(gb,hb,ib,jb){var kb=gb.symbols[fb];if(!kb)return;if(this.props.contextArgs.mentionsinput){this.refs.mentionsinput.insertEmoticon(kb);return;}if(!this._selectionPosition)this._selectionPosition=new jb(aa.findDOMNode(this.refs.mentionsinput.refs.textarea));var lb=this.refs.mentionsinput.refs.getTextFieldDOM(),mb=ib.getInstance(lb),nb=mb.getValue(),ob=hb.insertEmoticon(kb,nb,this._selectionPosition.getPos());mb.setValue(ob.result);this._selectionPosition.setPos(ob.start,ob.end);}.bind(this));},_hideStickerNUX:function(){this.setState({stickerNUXVisible:false});}});e.exports=eb;},null);
__d("UFIAddCommentController",["Arbiter","copyProperties","MentionsInputUtils","Parent","UFIAddComment.react","React","ShortProfiles","UFICentralUpdates","UFIComments","UFIFeedbackTargets","UFIInstanceState","UFIUIEvents","UFIUserActions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();function t(u,v,w,x){this.id=v;this._ufiInstanceID=x.instanceid;this._contextArgs=x;this._replyCommentID=w;if(u){this.root=u;if(!this._contextArgs.rootid)this._contextArgs.rootid=u.id;this.render();n.subscribe('instance-updated',function(y,z){var aa=z.updates;if(this._ufiInstanceID in aa)this.render();}.bind(this));n.subscribe('feedback-updated',function(y,z){var aa=z.updates;if(this.id in aa)this.render();}.bind(this));}n.subscribe('feedback-id-changed',function(y,z){var aa=z.updates;if(this.id in aa)this.id=aa[this.id];}.bind(this));}h(t.prototype,{_onCommentSubmit:function(u,event){s.addComment(this.id,u.visibleValue,u.encodedValue,{source:this._contextArgs.source,ufiinstanceid:this._ufiInstanceID,target:event.target,replyid:this._replyCommentID,timelinelogdata:this._contextArgs.timelinelogdata,rootid:this._contextArgs.rootid,attachedphoto:this._contextArgs.attachedphoto,attachedsticker:this._contextArgs.attachedsticker,giftoccasion:this._contextArgs.giftoccasion,facepileMentionedIDs:u.facepileMentionedIDs,feedcontext:this._contextArgs.feedcontext});this._contextArgs.attachedphoto=null;this._contextArgs.attachedsticker=null;p.getFeedbackTarget(this.id,function(v){var w=j.byTag(this.root,'form');if(w)g.inform('ufi/comment',{form:w,isranked:v.isranked});if(v.showtopicconversationcreationpivot)g.inform(r.UFIActionAddComment,{feedback:v,target:event.target});}.bind(this));return false;},_onTypingStateChange:function(u,v){},renderAddComment:function(u,v,w,x,y,z,aa,ba,ca,da){var ea=this._contextArgs.logtyping?this._onTypingStateChange.bind(this):null,fa=null,ga=q.getKeyForInstance(this._ufiInstanceID,'isediting')&&!this._replyCommentID;p.getFeedbackTarget(this.id,function(ha){this._contextArgs.feedbackisranked=ha.isranked;}.bind(this));return (l.createElement(k,{hide:ga,replyCommentID:this._replyCommentID,viewerActor:u,targetID:v,initialData:fa,ref:y,withoutSeparator:z,onCommentSubmit:this._onCommentSubmit.bind(this),mentionsDataSource:w,onTypingStateChange:ea,showSendOnEnterTip:x,allowPhotoAttachments:ba,allowStickerAttachments:ca,source:this._contextArgs.source,contextArgs:this._contextArgs,subtitle:aa,isQAndA:da,isSnowlift:this._contextArgs.issnowlift,feedbackIsRanked:this._contextArgs.feedbackisranked,useAddCommentFacepile:this._contextArgs.useaddcommentfacepile}));},renderEditComment:function(u,v,w,x,y,z,aa,ba,ca){var da=o.getComment(w),ea;if(da.attachment)ea=da.attachment.type=='sticker'?da.attachment:null;var fa=i.generateDataFromTextWithEntities(da.body);return (l.createElement(k,{viewerActor:u,targetID:v,initialData:fa,onCommentSubmit:y,onCancel:z,mentionsDataSource:x,source:this._contextArgs.source,contextArgs:this._contextArgs,isEditing:true,editingCommentID:w,attachedPhoto:da.photo_comment,attachedSticker:ea,allowPhotoAttachments:aa,allowStickerAttachments:ba,isQAndA:ca}));},render:function(){if(!this.root)throw new Error('render called on UFIAddCommentController with no root');p.getFeedbackTarget(this.id,function(u){if(u.cancomment&&u.actorforpost)m.get(u.actorforpost,function(v){var w=this.renderAddComment(v,u.ownerid,u.mentionsdatasource,u.showsendonentertip,null,null,u.subtitle,u.allowphotoattachments,u.allowstickerattachments,u.isqanda);this._addComment=l.render(w,this.root);}.bind(this));}.bind(this));}});e.exports=t;},null);
__d("DialogExpansion",["Animation","DialogPosition","LoadingDialogDimensions","Style"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=400,l=100;function m(n){"use strict";this._dialog=n;this._fixedTopMargin=n.getFixedTopPosition();}m.prototype.enable=function(){"use strict";this._subscription=this._dialog.subscribe('aftershow',this._onAfterShow.bind(this));};m.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;};m.prototype.setTargetWidth=function(n){"use strict";this._targetWidth=n;};m.prototype._onAfterShow=function(){"use strict";this._outer=this._dialog.getContentRoot();this._inner=this._dialog.getInnerContent();if(isNaN(parseInt(j.get(this._inner,'height'),10)))return;var n=this._getWidth(),o=i.HEIGHT,p=h.calculateTopMargin(n,o);j.apply(this._inner,{opacity:'0',width:this._dialog.getWidth()+'px'});j.apply(this._outer,{width:n+'px',height:o+'px',marginTop:p+'px',overflow:'hidden'});setTimeout(function(){var q=parseInt(this._dialog.getWidth(),10);if(this._targetWidth)q=this._targetWidth;var r=parseInt(j.get(this._inner,'height'),10),s;if(this._fixedTopMargin){s=this._fixedTopMargin;}else s=h.calculateTopMargin(q,r);this._growThenFade(q,r,s);}.bind(this),100);};m.prototype._growThenFade=function(n,o,p){"use strict";new g(this._outer).to('width',n).to('height',o).to('marginTop',p).duration(k).ease(g.ease.both).ondone(this._fadeIn.bind(this)).go();};m.prototype._fadeIn=function(){"use strict";j.set(this._outer,'overflow','');j.set(this._outer,'height','');new g(this._inner).from('opacity',0).to('opacity',1).ondone(function(){this._dialog.inform('afterexpand');}.bind(this)).duration(l).go();};m.prototype._getWidth=function(){"use strict";return i.WIDTH;};e.exports=m;},null);
__d("DialogExpansionAtWidth",["DialogExpansion"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(){"use strict";if(g!==null)g.apply(this,arguments);}j.prototype._getWidth=function(){"use strict";return this._dialog.getWidth();};e.exports=j;},null);
__d("ShareDialogAttachment.react",["React","cx","emptyFunction","fbt","Link.react"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=g.createClass({displayName:"ShareDialogAttachment",propTypes:{overflowing:m.bool,onExpand:m.func,onCollapse:m.func},getDefaultProps:function(){return {overflowing:false,onExpand:i,onCollapse:i};},getInitialState:function(){return {expanded:false};},_toggle:function(){if(this.state.expanded){this.props.onCollapse();}else this.props.onExpand();this.setState({expanded:!this.state.expanded});},render:function(){var o;if(this.props.overflowing){var p;if(this.state.expanded){p=g.createElement("span",null,g.createElement("span",{className:"_u_1"},"↑")," ",j._("R\u00e9duire"));}else p=g.createElement("span",null,j._("Afficher tout")," ",g.createElement("span",{className:"_u_1"},"↓"));o=g.createElement("p",{className:"_u_2"},g.createElement(k,{className:"_u_3",onClick:this._toggle},p));}var q=(("_u_4")+(this.props.overflowing&&!this.state.expanded?' '+"_u_5":''));return (g.createElement("div",{className:q},o,this.props.children));}});e.exports=n;},null);
__d("ShareDialogAttribution.react",["React","cx","emptyFunction","fbt","Link.react"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=g.createClass({displayName:"ShareDialogAttribution",propTypes:{name:m.string,onRemove:m.func},getDefaultProps:function(){return {onRemove:i};},_onRemove:function(){this.props.onRemove();},render:function(){return (g.createElement("div",{className:"_5qio"},g.createElement("span",null,j._("via"))," ",this.props.name," "+' '+"(",g.createElement(k,{onClick:this._onRemove},j._("supprimer")),")"));}});e.exports=n;},null);
__d("ShareDialogAudienceTypes",["getObjectValues"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={OWN:'own',PERSON:'person',GROUP:'group',PAGE:'page',MESSAGE:'message'},i=g(h);e.exports=h;e.exports.ALL=i;e.exports.isValid=function(j){return i.some(function(k){return k===j;});};},null);
__d("ShareDialogDataSources",["getObjectValues"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={ACTION:'actionSource',FEELING:'feelingSource',GROUP:'groupSource',MENTIONS:'mentionsSource',MESSAGE:'messageSource',OBJECT:'objectSource',PAGE:'pageSource',PERSON:'personSource',PERSON_WALL:'personWallSource',PLACE:'placeSource'},i=g(h);function j(){"use strict";this.$ShareDialogDataSources0={};}j.prototype.addSource=function(k,l){"use strict";if(i.some(function(m){return k===m;}))this.$ShareDialogDataSources0[k]=l;return this;};j.prototype.getSource=function(k){"use strict";return this.$ShareDialogDataSources0[k];};j.TYPES=h;e.exports=j;},null);
__d("ContextualLayer.react",["ContextualLayer","React","ReactLayer","Style"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=h,l=k.PropTypes,m=i.createClass({propTypes:{contextRef:l.string,context:function(n,o,p){if((n.context==null)==(n.contextRef==null))return new Error(("Exactly one of `context` or `contextRef` must be set on `")+(p+"`."));var q=n[o];if(q!=null){if(typeof q!=='object')return new Error(("Invalid `"+o+"` supplied to `"+p+"`, ")+("expected a React component."));if(h.isValidElement(q))return new Error(("Invalid `"+o+"` supplied to `"+p+"`, ")+("expected a React component instance. You're passing a React ")+("descriptor."));}}},immutableProps:{modal:null},createLayer:function(n){var o=this._getContextNode(),p={context:o,contextBounds:this.props.contextBounds,position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,addedBehaviors:this.enumerateBehaviors(this.props.behaviors),shouldSetARIAProperties:this.props.shouldSetARIAProperties},q=new g(p,n);this._node=n;this._matchContextSize(this.props);if(this.props.contextBounds)q.setContextWithBounds(o,this.props.contextBounds);q.conditionShow(this.props.shown);return q;},receiveProps:function(n){this.updateBehaviors(n.behaviors);var o=this._getContextNode();if(n.contextBounds){this.layer.setContextWithBounds(o,n.contextBounds);}else this.layer.setContext(o);this._matchContextSize(n);this.layer.setPosition(n.position);this.layer.setAlignment(n.alignment);this.layer.setOffsetX(n.offsetX);this.layer.setOffsetY(n.offsetY);this.layer.conditionShow(n.shown);},_getContextNode:function(){var n;if(this.props.context){n=h.findDOMNode(this.props.context);}else if(this.props.contextRef)n=this.getNodeForOwnerRef(this.props.contextRef);return n;},_matchContextSize:function(n){var o=this._node,p=this._getContextNode();if(n.containerWidthMatchContext)j.set(o,'width',p.offsetWidth+'px');if(n.containerHeightMatchContext)j.set(o,'height',p.offsetHeight+'px');}});e.exports=m;},null);
__d("TypeaheadNavigation",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={moveUp:function(h,i,j){var k=h.indexOf(i),l=k==-1?h.length-1:k-1;j(l==-1?null:h[l]);},moveDown:function(h,i,j){var k=h.indexOf(i)+1;j(k==h.length?null:h[k]);}};e.exports=g;},null);
__d("TypeaheadView.react",["React","cx","merge"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l=g.createClass({displayName:"TypeaheadView",propTypes:{entries:k.array.isRequired,extraRendererProps:k.object,highlightedEntry:k.object,isVisible:k.bool,queryString:k.string,Renderer:k.func.isRequired,selectedEntry:k.object},_onSelect:function(m,n){if(this.props.onSelect)this.props.onSelect(m,n);},_onHighlight:function(m){this.props.onHighlight(m);},render:function(){var m=((!this.props.isVisible?"hidden_elem":'')),n=i({highlightedEntry:this.props.highlightedEntry,selectedEntry:this.props.selectedEntry,entries:this.props.entries,onSelect:this._onSelect,onHighlight:this._onHighlight,onRenderHighlight:this.props.onRenderHighlight,ariaOwneeID:this.props.ariaOwneeID,queryString:this.props.queryString},this.props.extraRendererProps),o=this.props.Renderer;return (g.createElement("div",{className:m},g.createElement(o,g.__spread({},n))));}});e.exports=l;},null);
__d("AbstractTypeahead.react",["AbstractTextFieldMixin.react","ContextualLayer.react","InputSelection","React","ReactLayeredComponentMixin","SearchableTextInput.react","TypeaheadNavigation","TypeaheadView.react","cx","getOrCreateDOMID","joinClasses","uniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=j,t=s.PropTypes,u=[],v=10,w=j.createClass({displayName:"AbstractTypeahead",mixins:[k],propTypes:Object.assign({},g.propTypes,{inputClassName:t.string,inputID:t.string,autoCapitalize:t.string,autoComplete:t.string,autoCorrect:t.string,queryString:t.string,searchSource:t.object.isRequired,searchSourceOptions:t.object,excludedEntries:t.object,presenter:t.object.isRequired,onSelectAttempt:t.func,onEntriesFound:t.func,onEnterWithoutSelection:t.func,autoHighlight:t.bool,showEntriesOnFocus:t.bool,selectOnBlur:t.bool,selectOnTab:t.bool,focusedOnInit:t.bool,hideViewWithEntries:t.bool,disabled:t.bool,entriesWidthMatchContext:t.bool,selectedEntry:t.object,onTypeaheadVisibilityChanged:t.func,onPaste:t.func}),getDefaultProps:function(){return {autoComplete:'off',autoCorrect:'off',selectOnBlur:false,selectOnTab:true,hideViewWithEntries:true,entriesWidthMatchContext:true};},getInitialState:function(){return {highlightedEntry:null,isAutoHighlight:this.props.autoHighlight,activeDescendant:null,ariaOwneeID:r(),activeEntries:null,focused:!!this.props.focusedOnInit,viewIsVisible:!!this.props.focusedOnInit};},_onRenderHighlight:function(x){var y=p(x);this.setState({activeDescendant:y});},_determineViewVisibility:function(x,y){if(!x)return false;var z=x.length>0&&(this.props.showEntriesOnFocus||this.props.queryString.length>0);return !!(y&&(this.props.presenter.alwaysVisibleOnFocus||z));},_onEntriesFound:function(x){if(!this.isMounted())return;if(this.props.excludedEntries){var y=this.props.excludedEntries;x=x.filter(function(ga){return !y.hasOwnProperty(ga.getUniqueID());});}var z=this.props.presenter,aa=typeof z.sortEntries=='function'?z.sortEntries(x,this.state.activeEntries,this.props.queryString):x,ba=aa.slice(0,z.maxEntries||v),ca=this._determineViewVisibility(ba,this.state.focused);if(!ba.length){this.setState({activeDescendant:null,activeEntries:ba,highlightedEntry:null,isAutoHighlight:this.props.autoHighlight});this._setViewIsVisible(ca);return;}if(this.props.onEntriesFound)this.props.onEntriesFound(ba);var da=this.state.highlightedEntry,ea=da&&ba.indexOf(da)!==-1;if(!this.props.autoHighlight){this.setState({activeEntries:ba,highlightedEntry:ea?da:null});if(ca)this._setViewIsVisible(true);return;}var fa=this.state.isAutoHighlight;if(fa){da=ba[0];}else{da=ea?da:ba[0];fa=!ea;}this.setState({activeEntries:ba,highlightedEntry:da,isAutoHighlight:fa});if(ca)this._setViewIsVisible(true);},_onInputFocus:function(){var x=this._determineViewVisibility(this.state.activeEntries,true);if(x)this._setViewIsVisible(true);this.setState({focused:true});this.props.onFocus&&this.props.onFocus();},_onInputBlur:function(){if(this.props.hideViewWithEntries)this._close();if(this.props.selectOnBlur&&this.state.highlightedEntry)this.props.onSelectAttempt(this.state.highlightedEntry);this.setState({focused:false});this.props.onBlur&&this.props.onBlur();},_onInputClick:function(){var x=this.getTextFieldDOM(),y=i.get(x);if(y&&y.start==y.end)x.select();this.props.onClick&&this.props.onClick();},_onEscape:function(){this._close();this.blurInput();this.setState({focused:false});this.props.onEscape&&this.props.onEscape();},_onEnter:function(event){if(this.props.onEnterWithoutSelection&&(!this.state.viewIsVisible||!this.state.highlightedEntry)){this.props.onEnterWithoutSelection(event);return;}if(!this.state.viewIsVisible)return;if(!this.state.highlightedEntry){event.preventDefault();return;}if(this.props.hideViewWithEntries)this._close();if(this.props.onSelectAttempt)this.props.onSelectAttempt(this.state.highlightedEntry);event.preventDefault();},_onTab:function(event){if(this.props.selectOnTab&&this.state.viewIsVisible&&this.props.onSelectAttempt&&this.state.highlightedEntry){if(this.props.hideViewWithEntries){this._close();event.preventDefault();}this.props.onSelectAttempt(this.state.highlightedEntry);}},_onDownArrow:function(event){event.preventDefault();m.moveDown(this.state.activeEntries||u,this.state.highlightedEntry,this._setHighlight);},_onUpArrow:function(event){event.preventDefault();m.moveUp(this.state.activeEntries||u,this.state.highlightedEntry,this._setHighlight);},_setHighlight:function(x){this.setState({highlightedEntry:x,isAutoHighlight:!x});},_onInputChange:function(event){if(this.props.onChange)this.props.onChange(event);this._setViewIsVisible(this.state.focused&&(this.props.showEntriesOnFocus||event.target.value.length>0)&&(this.state.activeEntries!=null&&this.state.activeEntries.length>0));},_onViewHighlight:function(x){this.setState({highlightedEntry:x,isAutoHighlight:false});},_getView:function(){return (j.createElement(n,{Renderer:this.props.presenter.ViewRenderer,extraRendererProps:this.props.presenter.extraRendererProps,highlightedEntry:this.state.highlightedEntry,selectedEntry:this.props.selectedEntry,isVisible:this.state.viewIsVisible,ariaOwneeID:this.state.ariaOwneeID,onHighlight:this._onViewHighlight,onRenderHighlight:this._onRenderHighlight,onSelect:this.props.onSelectAttempt,entries:this.state.activeEntries||u,queryString:this.props.queryString}));},_setViewIsVisible:function(x){if(x!==this.state.viewIsVisible){if(this.props.onTypeaheadVisibilityChanged)this.props.onTypeaheadVisibilityChanged(x,this.state.activeEntries||u);this.setState({viewIsVisible:x});}},componentWillReceiveProps:function(x){if(!x.queryString&&!this.props.showEntriesOnFocus)this.clearActiveEntries();},componentDidUpdate:function(){var x=this._determineViewVisibility(this.state.activeEntries,this.state.focused);if(x)this._setViewIsVisible(true);},renderLayers:function(){if(!this.props.presenter.useLayer)return {};var x=null,y=null;if(this.props.context){x=this.props.context;}else y='input';return {typeaheadView:j.createElement(h,{behaviors:this.props.presenter.layerBehaviors,containerWidthMatchContext:this.props.entriesWidthMatchContext,contextRef:y,context:x,position:this.props.presenter.layerPosition||"below",shown:this.state.viewIsVisible,shouldSetARIAProperties:false},this._getView())};},render:function(){var x=j.createElement(l,{"aria-activedescendant":this.state.activeDescendant,"aria-autocomplete":"list","aria-owns":this.state.ariaOwneeID,ref:"input",autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:this.props.inputClassName,id:this.props.inputID,queryString:this.props.queryString,placeholder:this.props.placeholder,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,searchOnFocus:!!this.props.showEntriesOnFocus,disabled:this.props.disabled,onEntriesFound:this._onEntriesFound,onEscape:this._onEscape,onBlur:this._onInputBlur,onFocus:this._onInputFocus,onChange:this._onInputChange,onDownArrow:this._onDownArrow,onUpArrow:this._onUpArrow,onTab:this._onTab,onEnter:this._onEnter,onBackspace:this.props.onBackspace,onPaste:this.props.onPaste,onClick:this._onInputClick}),y=null;if(!this.props.presenter.useLayer)y=this._getView();return (j.createElement("span",j.__spread({},this.props,{className:q(this.props.className,"_58ah"),onBlur:null,onClick:null,onFocus:null}),x,y));},componentDidMount:function(){if(this.props.focusedOnInit)this.refs.input.focusInput();},clearActiveEntries:function(){this.setState({activeDescendant:null,activeEntries:null,highlightedEntry:null});},focusInput:function(){this.refs.input.focusInput();},blurInput:function(){if(this.refs.input.blur){this.refs.input.blur();}else if(this.refs.input.blurInput)this.refs.input.blurInput();},hideView:function(){this._setViewIsVisible(false);},_close:function(){this._setViewIsVisible(false);this.clearActiveEntries();},getTextFieldDOM:function(){return this.refs.input.getTextFieldDOM();}});e.exports=w;},null);
__d("TokenizerToken.react",["CloseButton.react","React","SearchableEntry","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h,n=m.PropTypes,o=h.createClass({displayName:"TokenizerToken",propTypes:{label:n.string.isRequired,entry:n.instanceOf(i),onRemove:n.func,highlighted:n.bool},render:function(){var p;if(this.props.onRemove)p=h.createElement(g,{"aria-label":k._("Retirer {item}",[k.param("item",this.props.label)]),className:"_58zx",size:"small",onClick:this._onClick});var q=(("_58zy")+(this.props.highlighted?' '+"_58zz":''));return (h.createElement("span",h.__spread({},this.props,{className:l(this.props.className,q),label:null}),this.props.label,p));},_onClick:function(p){p.preventDefault();this.props.onRemove(this.props.entry);}});e.exports=o;},null);
__d("AbstractTokenizer.react",["AbstractTypeahead.react","React","TokenizerToken.react","cx","ex","emptyFunction","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=h,o=n.PropTypes,p=h.createClass({displayName:"AbstractTokenizer",propTypes:{alwaysShowPlaceholder:o.bool,className:o.string,excludeTokenEntries:o.bool,inputClassName:o.string,tokenClassName:o.string,placeholder:o.string,queryString:o.string,searchSource:o.object.isRequired,searchSourceOptions:o.object,presenter:o.object.isRequired,entries:o.array,onAddEntryAttempt:o.func.isRequired,onEntriesFound:o.func,onPaste:o.func,onRemoveEntryAttempt:o.func.isRequired,onReorderEntryAttempt:o.func,onQueryStringChange:o.func,onInputFocus:o.func,onInputBlur:o.func,onTypeaheadMouseDown:o.func,excludedEntries:o.object,inputID:o.string,entriesWidthMatchContext:o.bool,hideViewWithEntries:o.bool,limit:function(q,r,s){var t=q[r],u=t==null||(typeof t==='number'&&t>0);if(!u)return new Error(k('Invalid entries limit `%s` provided, must be a positive '+'number if set.',t));},selectOnBlur:o.bool,selectOnTab:o.bool,tokenizeQueryString:o.func,tokenizeQueryStringOnBlur:o.func},getDefaultProps:function(){return {autoHighlight:true,excludeTokenEntries:true,hideViewWithEntries:true,onInputBlur:l,selectOnBlur:false,selectOnTab:true,tokenizeQueryString:l.thatReturnsNull,tokenizeQueryStringOnBlur:l.thatReturnsNull,entriesWidthMatchContext:true};},getInitialState:function(){return {queryString:''};},_getQueryString:function(){return this.props.queryString||this.state.queryString;},_hasReachedEntriesLimit:function(){if(this.props.limit&&this.props.entries)return this.props.entries.length>=this.props.limit;return false;},componentWillReceiveProps:function(q){if(q.queryString==null&&this.props.queryString!=null)this.setState({queryString:this.props.queryString});},render:function(){var q=!!this.props.onReorderEntryAttempt,r=m((("_58-2")+(q?' '+"_5ph3":'')),'clearfix',this.props.className),s,t=this.props.entries,u={},v=t&&t.length>0,w;if(v){s=[];for(var x=0,y=t.length;x<y;x++){var z=t[x];w=z.getUniqueID();s[x]=this._renderToken(z,x);if(this.props.excludeTokenEntries)u[w]=true;}}if(this.props.excludedEntries)for(w in this.props.excludedEntries)u[w]=this.props.excludedEntries[w];var aa=null;if(!v||this.props.alwaysShowPlaceholder)aa=this.props.placeholder;return (h.createElement("div",h.__spread({},this.props,{className:m(this.props.className,r),placeholder:null,onClick:this._focusTypeahead,onMouseDown:this._onTypeaheadMouseDown,onDragOver:this.onBackgroundDragOver,onDrop:this.onBackgroundDrop,"data-testid":this.props['data-testid']}),s,h.createElement(g,{ref:"typeahead",selectedEntry:null,className:"_58-0","data-testid":this.props['data-testid'],inputClassName:this.props.inputClassName,showEntriesOnFocus:this.props.showEntriesOnFocus,queryString:this._getQueryString(),placeholder:aa,presenter:this.props.presenter,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,excludedEntries:u,onSelectAttempt:this._onSelectAttempt,onEntriesFound:this.props.onEntriesFound,onEnterWithoutSelection:this.props.onEnterWithoutSelection,onChange:this._onInputChange,onFocus:this.props.onInputFocus,onBlur:this._onInputBlur,onBackspace:this._onBackspace,onPaste:this.props.onPaste,autoHighlight:this.props.autoHighlight,selectOnBlur:this.props.selectOnBlur,selectOnTab:this.props.selectOnTab,context:this.props.context,focusedOnInit:this.props.focusedOnInit,inputID:this.props.inputID,entriesWidthMatchContext:this.props.entriesWidthMatchContext,hideViewWithEntries:this.props.hideViewWithEntries}),h.createElement("span",{ref:"textSizeProxy",className:"_58-3","aria-hidden":"true"},this._getQueryString()||aa)));},componentDidMount:function(){this._syncTimer=setTimeout(this._syncInputWidth,0);},componentDidUpdate:function(){clearTimeout(this._syncTimer);this._syncTimer=setTimeout(this._syncInputWidth,0);},componentWillUnmount:function(){clearTimeout(this._syncTimer);},clearActiveEntries:function(){this.refs.typeahead&&this.refs.typeahead.clearActiveEntries();},focusInput:function(){if(this.refs&&this.refs.typeahead)this.refs.typeahead.focusInput();},_focusTypeahead:function(q){q.preventDefault();this.focusInput();},_onTypeaheadMouseDown:function(){this.props.onTypeaheadMouseDown&&this.props.onTypeaheadMouseDown();},_onInputChange:function(event){if(this._hasReachedEntriesLimit())return;var q=event.target.value,r=this.props.tokenizeQueryString(q);if(r){this._onSelectAttempt(r);}else if(this.props.queryString==null)this.setState({queryString:q});if(this.props.onQueryStringChange)this.props.onQueryStringChange(event);},_onInputBlur:function(){var q=this._getQueryString(),r=this.props.tokenizeQueryStringOnBlur(q);if(r)this._onBlurringSelectAttempt(r);this.props.onInputBlur();},_onSelectAttempt:function(q){this._onAddEntryAttempt(q);setTimeout(this.focusInput,0);},_onBlurringSelectAttempt:function(q){this._onAddEntryAttempt(q);},_onAddEntryAttempt:function(q){if(q){this.props.onAddEntryAttempt(q);if(this.props.queryString==null)this.setState({queryString:''});}},_onRemove:function(q){this.props.onRemoveEntryAttempt(q);},_onBackspace:function(event){var q=this.props.entries;if(q&&!this._getQueryString()&&q.length){var r=q[q.length-1];this.props.onRemoveEntryAttempt(r);event.preventDefault();setTimeout(this.focusInput,0);}},_syncInputWidth:function(){var q=h.findDOMNode(this.refs.textSizeProxy).offsetWidth;if(q===0)return;this.refs.typeahead.getTextFieldDOM().style.width=q+'px';},onBackgroundDragOver:function(event){event.preventDefault();var q=event.nativeEvent.dataTransfer;if(q)q.dropEffect='move';var r=this.props.entries;this.onTokenDragOver(r[r.length-1],r.length-1,false);},onBackgroundDrop:function(event){this.onTokenDrop(null,this.props.entries.length);},onTokenDragStart:function(q,r){this.setState({draggingIndex:r});},onTokenDragEnd:function(q,r){this.setState({draggingIndex:null});},onTokenDragLeave:function(q,r){if(this.leaveTimer)return;this.leaveTimer=setTimeout(function(){this.leaveTimer=null;if(this.state.dragTargetIndex===null)return;this.setState({dragTargetIndex:null});}.bind(this),100);},onTokenDragOver:function(q,r,s){if(this.leaveTimer){clearTimeout(this.leaveTimer);this.leaveTimer=null;}if(this.state.draggingIndex!==null&&this.state.draggingIndex!==r&&this.props.onReorderEntryAttempt){if(this.state.dragTargetIndex===r&&this.state.draggedOverLeftSideOfElement===s)return;this.setState({dragTargetIndex:r,draggedOverLeftSideOfElement:s});}},onTokenDrop:function(q,r){if(this.state.draggingIndex!==null&&this.props.onReorderEntryAttempt){if(!this.state.draggedOverLeftSideOfElement)r++;if(this.state.draggingIndex!==r)this.props.onReorderEntryAttempt(this.state.draggingIndex,r);}this.setState({draggingIndex:null,dragTargetIndex:null,draggedOverLeftSideOfElement:null});},_renderToken:function(q,r){var s=this.props.presenter.TokenRenderer||i,t=this.state.draggingIndex===r,u=!!this.props.onReorderEntryAttempt,v=this.state.dragTargetIndex===r,w=m((("_2ei6")+(t?' '+"_5ph4":'')+(v?' '+"_5o8i":'')+(v&&this.state.draggedOverLeftSideOfElement?' '+"_5o8j":'')+(v&&!this.state.draggedOverLeftSideOfElement?' '+"_5o8k":'')),this.props.tokenClassName);return (h.createElement(s,{className:w,key:q.getUniqueID(),label:q.getTitle(),entry:q,index:r,onRemove:this._onRemove,isDragDropEnabled:u,onTokenDragStart:this.onTokenDragStart,onTokenDragEnd:this.onTokenDragEnd,onTokenDragOver:this.onTokenDragOver,onTokenDragLeave:this.onTokenDragLeave,onTokenDrop:this.onTokenDrop}));}});e.exports=p;},null);
__d("DraggableTokenMixin.react",["React","Rect","cx","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m={lastDragEventPageX:null,propTypes:{index:l.number,onTokenDragEnd:l.func,onTokenDragLeave:l.func,onTokenDragOver:l.func,onTokenDragStart:l.func,onTokenDrop:l.func,isDragDropEnabled:l.bool},getDefaultProps:function(){return {onTokenDragEnd:j,onTokenDragLeave:j,onTokenDragOver:j,onTokenDragStart:j,onTokenDrop:j};},renderDraggableToken:function(o){if(!this.props.isDragDropEnabled)return o;return (g.createElement("a",{className:"_5o8l",draggable:true,href:"javascript:;",onClick:n,onDragStart:this._onTokenDragStart,onDragEnd:this._onTokenDragEnd,onDragOver:this._onTokenDragOver,onDragLeave:this._onTokenDragLeave,onDrop:this._onTokenDrop,ref:"draggableToken"},o));},_onTokenDragStart:function(event){var o=event.nativeEvent.dataTransfer;if(o){o.setData('text','');if(o.setDragImage)o.setDragImage(g.findDOMNode(this.refs.draggableToken),0,0);}this.props.onTokenDragStart(this.props.entry,this.props.index);},_onTokenDragEnd:function(event){this.props.onTokenDragEnd(this.props.entry,this.props.index);},_onTokenDragLeave:function(event){this.props.onTokenDragLeave(this.props.entry,this.props.index);},_onTokenDragOver:function(event){event.preventDefault();event.stopPropagation();var o=event.nativeEvent.dataTransfer;if(o)o.dropEffect='move';if(event.pageX!==this.lastDragEventPageX){var p=g.findDOMNode(this),q=h.getElementBounds(p).getCenter().x,r=event.pageX<q;this.props.onTokenDragOver(this.props.entry,this.props.index,r);}},_onTokenDrop:function(event){event.stopPropagation();this.props.onTokenDrop(this.props.entry,this.props.index);}};function n(o){o.preventDefault();}e.exports=m;},null);
__d("XUITokenizerToken.react",["DraggableTokenMixin.react","React","SearchableEntry","XUICloseButton.react","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=h,o=n.PropTypes,p=h.createClass({displayName:"XUITokenizerToken",mixins:[g],propTypes:{label:o.string.isRequired,entry:o.instanceOf(i),onRemove:o.func,highlighted:o.bool},_onRemove:function(q){q.preventDefault();this.props.onRemove(this.props.entry);},render:function(){var q;if(this.props.onRemove)q=h.createElement(j,{type:"button","aria-label":l._("Retirer {item}",[l.param("item",this.props.label)]),className:"_1z6_",size:"small",onClick:this._onRemove});var r=(("_59_o")+(this.props.highlighted?' '+"_59_r":''));return this.renderDraggableToken(h.createElement("span",h.__spread({},this.props,{className:m(this.props.className,r),label:null}),h.createElement("span",{"aria-label":this.props.label,title:this.props.label,className:"_5aab"},this.props.label),q));}});e.exports=p;},null);
__d("XUITokenizerRichToken.react",["DraggableTokenMixin.react","React","SearchableEntry","XUICloseButton.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h,n=m.PropTypes,o=h.createClass({displayName:"XUITokenizerRichToken",mixins:[g],propTypes:{label:n.string.isRequired,entry:n.instanceOf(i),onRemove:n.func,highlighted:n.bool},_onRemove:function(p){p.preventDefault();this.props.onRemove(this.props.entry);},render:function(){var p;if(this.props.onRemove)p=h.createElement(j,{type:"button","aria-label":l._("Retirer {item}",[l.param("item",this.props.label)]),className:"_5yii",size:"small",onClick:this._onRemove});var q=this.props.entry;return this.renderDraggableToken(h.createElement("span",h.__spread({},this.props),h.createElement("div",{className:"_5yij",label:null},h.createElement("img",{className:"_5yik",src:q.getPhoto()}),q.getTitle()," - ",q.getSubtitle(),p)));}});e.exports=o;},null);
__d("XUITypeaheadTextOnlyView.react",["React","TypeaheadViewItem","TypeaheadViewPropTypes","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g.createClass({displayName:"XUITypeaheadTextOnlyViewItem",mixins:[h.Mixin],propTypes:h.propTypes,render:function(){var m=this.props.entry,n=(("_599m")+(this.props.highlighted?' '+"_599n":''));return (g.createElement("li",{"aria-label":m.getTitle(),"aria-selected":this.props.highlighted,className:n,key:m.getUniqueID(),onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role,title:m.getTitle()},g.createElement("div",{className:"_599p"},m.getTitle())));}}),l=g.createClass({displayName:"XUITypeaheadTextOnlyView",propTypes:i,getDefaultProps:function(){return {role:'listbox'};},_renderItem:function(m){var n=m===this.props.highlightedEntry;return (g.createElement(k,{entry:m,highlighted:n,key:m.getUniqueID(),onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight}));},render:function(){var m=(("_599r")+(!this.props.entries.length?' '+"_599s":''));return (g.createElement("ul",{className:m,id:this.props.ariaOwneeID,role:this.props.role},this.props.entries.map(this._renderItem)));}});e.exports=l;},null);
__d("XUITypeaheadViewContainer.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"XUITypeaheadViewContainer",render:function(){return (g.createElement("ul",{className:i("_599r",this.props.className),id:this.props.arieaOwneeID,role:this.props.role},this.props.children));}});e.exports=j;},null);
__d("XUITypeaheadView.react",["React","TypeaheadViewPropTypes","XUITypeaheadViewContainer.react","XUITypeaheadViewItem.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g.createClass({displayName:"XUITypeaheadView",propTypes:h,getDefaultProps:function(){return {role:'listbox'};},_renderItem:function(m){var n=m===this.props.highlightedEntry;return (g.createElement(j,{key:m.getUniqueID(),entry:m,highlighted:n,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight}));},render:function(){var m=((!this.props.entries.length?"_599s":''));return (g.createElement(i,{className:m,id:this.props.ariaOwneeID,role:this.props.role},this.props.entries.map(this._renderItem)));}});e.exports=l;},null);
__d("XUITokenizer.react",["AbstractTokenizer.react","React","XUIError.react","XUITokenizerToken.react","XUITokenizerRichToken.react","XUITypeaheadTextOnlyView.react","XUITypeaheadView.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=h,q=p.PropTypes,r={ViewRenderer:m,TokenRenderer:j,useLayer:true},s={ViewRenderer:l,TokenRenderer:j,useLayer:true},t=h.createClass({displayName:"XUITokenizer",propTypes:Object.assign({className:q.string,entries:q.array,excludedEntries:q.object,onAddEntryAttempt:q.func.isRequired,onEntriesFound:q.func,onPaste:q.func,onQueryStringChange:q.func,onRemoveEntryAttempt:q.func.isRequired,onReorderEntryAttempt:q.func,placeholder:q.string,presenter:q.object,queryString:q.string,searchSource:q.object.isRequired,searchSourceOptions:q.object,selectOnBlur:q.bool,selectOnTab:q.bool,testID:q.string,viewStyle:q.oneOf(['textonly','rich']),inputID:q.string,entriesWidthMatchContext:q.bool},i.propTypes),getDefaultProps:function(){return {viewStyle:'rich',entriesWidthMatchContext:true};},render:function(){var u=o(this.props.className,"_59_m"),v=this.props.presenter;if(!v){v=this.props.viewStyle=='rich'?r:s;if(this.props.tokenStyle=='rich')v.TokenRenderer=k;}return (h.createElement(i,h.__spread({},this.props),h.createElement("div",{className:u,"data-testid":this.props.testID},h.createElement(g,{autoHighlight:this.props.autoHighlight,className:"_59_n",entries:this.props.entries,excludedEntries:this.props.excludedEntries,focusedOnInit:this.props.focusedOnInit,limit:this.props.limit,onAddEntryAttempt:this.props.onAddEntryAttempt,onEntriesFound:this.props.onEntriesFound,onEnter:this.props.onEnter,onInputBlur:this.props.onInputBlur,onPaste:this.props.onPaste,onQueryStringChange:this.props.onQueryStringChange,onRemoveEntryAttempt:this.props.onRemoveEntryAttempt,onReorderEntryAttempt:this.props.onReorderEntryAttempt,onEnterWithoutSelection:this.props.onEnterWithoutSelection,placeholder:this.props.placeholder,presenter:v,queryString:this.props.queryString,ref:"tokenizer",searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,selectOnBlur:this.props.selectOnBlur,selectOnTab:this.props.selectOnTab,showEntriesOnFocus:this.props.showEntriesOnFocus,tokenizeQueryStringOnBlur:this.props.tokenizeQueryStringOnBlur,inputID:this.props.inputID,entriesWidthMatchContext:this.props.entriesWidthMatchContext}))));},focusInput:function(){this.refs.tokenizer&&this.refs.tokenizer.focusInput();}});e.exports=t;},null);
__d("ShareDialogMessageAudience.react",["Grid.react","React","XUITokenizer.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g.GridItem,m=h,n=m.PropTypes,o=h.createClass({displayName:"ShareDialogMessageAudience",propTypes:{searchSource:n.object.isRequired,userId:n.string,onClear:n.func,onChange:n.func,messageTargets:n.array},getInitialState:function(){return {entries:[]};},render:function(){return (h.createElement(g,{className:"_2qx6",cols:2},h.createElement(l,{className:"_1ho1",key:"prefix"},h.createElement("span",{className:"_2qx7"},k._("\u00c0\u00a0:"))),h.createElement(l,{className:"_1xk6",key:"suffix"},h.createElement(i,h.__spread({},this.props,{className:"_39y9 _42z0",placeholder:k._("Noms"),name:"audience_message",inputID:"audience_message",value:this.state.entries,focusedOnInit:true,selectOnTab:false,showEntriesOnFocus:false,entries:this.state.entries,searchSource:this.props.searchSource,onRemoveEntryAttempt:this._onRemoveEntryAttempt,onAddEntryAttempt:this._onAddEntryAttempt})))));},componentDidMount:function(){var p=this.props.messageTargets;if(p)for(var q=0;q<p.length;++q)if(p[q])this._onAddEntryAttempt(p[q]);},_onAddEntryAttempt:function(p){var q=p.getUniqueID(),r=this.state.entries,s=r.some(function(t){if(t.getUniqueID()===q)return true;});if(s)return;r.push(p);this.props.onChange(r.map(function(t){return t.getUniqueID();}));this.setState({entries:r});},_onRemoveEntryAttempt:function(p){var q=p.getUniqueID(),r=this.state.entries,s=r.some(function(t){if(t.getUniqueID()===q)return true;});if(s)r.splice(r.indexOf(p),1);this.props.onChange(r.map(function(t){return t.getUniqueID();}));if(r.length===0)this.props.onClear();this.setState({entries:r});}});e.exports=o;},null);
__d("XUITypeahead.react",["AbstractTypeahead.react","React","Image.react","SearchableEntry","XUICloseButton.react","XUIError.react","XUITypeaheadTextOnlyView.react","XUITypeaheadView.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=h,r=q.PropTypes,s={ViewRenderer:n,useLayer:true},t={ViewRenderer:n,useLayer:false},u={ViewRenderer:m,useLayer:true},v=h.createClass({displayName:"XUITypeahead",propTypes:Object.assign({maxEntries:r.number,onChange:r.func.isRequired,onSelectAttempt:r.func.isRequired,onEntriesFound:r.func,selectedEntry:r.instanceOf(j),tallInput:r.bool,viewStyle:r.oneOf(['textonly','rich','richNoLayer']),clearable:r.bool,onClear:r.func,showPhoto:r.bool,highlightOnSelect:r.bool,presenter:r.object,inputID:r.string},l.propTypes),getDefaultProps:function(){return {viewStyle:'rich'};},componentWillMount:function(){if(!this.props.presenter&&this.props.maxEntries)s.maxEntries=t.maxEntries=u.maxEntries=this.props.maxEntries;},focusInput:function(){this.refs.typeahead&&this.refs.typeahead.focusInput();},blurInput:function(){this.refs.typeahead&&this.refs.typeahead.blurInput();},hideView:function(){this.refs.typeahead.hideView();},getTextFieldDOM:function(){return this.refs.typeahead.getTextFieldDOM();},_onClear:function(){this.props.onClear();setTimeout(function(){return this.focusInput();}.bind(this),0);},render:function(){var w=(("_55r1")+(!!this.props.tallInput?' '+"_55r2":'')),x=null;if(this.props.presenter){x=this.props.presenter;}else if(this.props.viewStyle=='rich'){x=s;}else if(this.props.viewStyle=='richNoLayer'){x=t;}else x=u;var y=this.props.showPhoto&&this.props.selectedEntry?h.createElement(i,{className:"_wrl",src:this.props.selectedEntry.getPhoto()}):null,z=this.props.clearable?h.createElement(k,{className:(("_wrm")+(!this.props.queryString?' '+"hidden_elem":'')),size:this.props.tallInput?'medium':'small',type:"button",onClick:this._onClear}):null,aa=this.props,ba=aa.className,ca=(function(da,ea){var fa={},ga=Object.prototype.hasOwnProperty;if(da==null)throw new TypeError();for(var ha in da)if(ga.call(da,ha)&&!ga.call(ea,ha))fa[ha]=da[ha];return fa;})(aa,{className:1});return (h.createElement(l,h.__spread({},this.props),h.createElement("span",{className:p((("_wrn")+(!!this.props.tallInput?' '+"_213j":'')+(!!z?' '+"_4ehf":'')+(!!y?' '+"_4ehg":'')+(!!this.props.queryString?' '+"_4in7":'')+(this.props.highlightOnSelect&&this.props.selectedEntry?' '+"_wrr":'')),ba)},y,h.createElement(g,h.__spread({},ca,{inputClassName:w,ref:"typeahead",presenter:x})),z)));}});e.exports=v;},null);
__d("ShareDialogAudienceTypeahead.react",["Grid.react","React","XUITypeahead.react","cx","emptyFunction","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=g.GridItem,n=h,o=n.PropTypes,p=h.createClass({displayName:"ShareDialogAudienceTypeahead",propTypes:{searchSource:o.object.isRequired,userId:o.string,prefix:o.string,onClear:o.func,onChange:o.func},getDefaultProps:function(){return {onClear:k,onChange:k};},getInitialState:function(){return {query:'',selectedEntry:null};},_onBlur:function(){if(!this.state.selectedEntry||this.state.selectedEntry.getTitle()!==this.state.query)this._clearSelection();},_clearSelection:function(){this.setState({query:'',selectedEntry:null});this.props.onClear();},render:function(){var q=this.props,r=q.className,s=(function(x,y){var z={},aa=Object.prototype.hasOwnProperty;if(x==null)throw new TypeError();for(var ba in x)if(aa.call(x,ba)&&!aa.call(y,ba))z[ba]=x[ba];return z;})(q,{className:1}),t=!!this.state.selectedEntry,u={};if(this.props.userId)u[this.props.userId]=true;var v=this.props.prefix?h.createElement("span",{className:"_2qx7"},this.props.prefix):h.createElement("noscript",null),w=this.props.prefix?"_2qx6":null;return (h.createElement(g,{className:w,cols:2},h.createElement(m,{key:"prefix",className:"_1ho1"},v),h.createElement(m,{key:"suffix",className:"_1xk6"},h.createElement(i,h.__spread({},s,{className:l(r,(("_39y9")+(t?' '+"_39ya":''))),excludedEntries:u,onChange:this._onChange,onClear:this._onClear,onBlur:this._onBlur,onSelectAttempt:this._onSelect,queryString:this.state.query,searchSource:this.props.searchSource,focusedOnInit:true,showEntriesOnFocus:false,clearable:true,selectedEntry:this.state.selectedEntry,tallInput:true})))));},_onSelect:function(q){this.setState({query:q.getTitle(),selectedEntry:q});this.props.onChange([q.getUniqueID()]);},_onChange:function(event){var q=event.target.value;if(this.state.selectedEntry&&this.state.selectedEntry.getTitle()!==q){this.setState({query:q,selectedEntry:null});}else this.setState({query:q});},_onClear:function(){this.setState({query:'',selectedEntry:null});this.props.onClear();}});e.exports=p;},null);
__d("ShareDialogGroupAudience.react",["React","ShareDialogAudienceTypeahead.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"ShareDialogGroupAudience",propTypes:{searchSource:l.object.isRequired,onClear:l.func,onSelect:l.func},getInitialState:function(){return {query:'',selectedEntry:null};},render:function(){var n=j._("Groupe\u00a0:");return (g.createElement(h,g.__spread({},this.props,{prefix:n,showPhoto:true,name:"audience_group",inputID:"audience_group",className:"_2n3i",placeholder:j._("Nom du groupe")})));}});e.exports=m;},null);
__d("ShareDialogPersonAudience.react",["React","ShareDialogAudienceTypeahead.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"ShareDialogPersonAudience",propTypes:{searchSource:l.object.isRequired,userId:l.string,onClear:l.func,onSelect:l.func},render:function(){var n=j._("Ami(e)\u00a0:");return (g.createElement(h,g.__spread({},this.props,{prefix:n,searchSource:this.props.searchSource,className:"_4heg",name:"audience_person",inputID:"audience_person",clearable:true,placeholder:j._("Nom de l\u2019ami(e)")})));}});e.exports=m;},null);
__d("XPagesShareActorListController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/share\/actors\/",{target_id:{type:"Int",required:true}});},null);
__d("ShareActorSelector.react",["ActorSelector.react","AsyncRequest","React","XPagesShareActorListController"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=i,l=k.PropTypes,m=110,n=i.createClass({displayName:"ShareActorSelector",propTypes:{onChange:l.func.isRequired,targetID:l.string.isRequired},getInitialState:function(){return {actorIDs:[],loading:true,selectedActorID:null};},componentWillMount:function(){this._fetchActorIDs();},render:function(){if(!this.state.actorIDs||!this.state.selectedActorID)return i.createElement("div",null);return (i.createElement(g,{actorIDs:this.state.actorIDs,loading:this.state.loading,onChange:this._onChange,ref:"selector",selectedActorID:this.state.selectedActorID,showName:true,showNameMaxWidth:m,suppressed:this.state.actorIDs.length===1}));},componentDidUpdate:function(o){if(this.props.targetID!==o.targetID)this._fetchActorIDs();},_fetchActorIDs:function(){this.setState({loading:true});var o=j.getURIBuilder().setInt('target_id',this.props.targetID).getURI();new h().setURI(o).setHandler(function(p){var q=p.getPayload().actorIDs,r=p.getPayload().selectedActorID;this.setState({actorIDs:q,loading:false,selectedActorID:r});this.props.onChange({value:r});}.bind(this)).send();},_onChange:function(o){this.setState({selectedActorID:o.value});this.props.onChange(o);}});e.exports=n;},null);
__d("ShareDialogPageAudience.react",["React","Image.react","LeftRight.react","ShareActorSelector.react","XUISelector.react","cx","emptyFunction","fbt","getObjectValues"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=g,q=p.PropTypes,r=k.Option,s=g.createClass({displayName:"ShareDialogPageAudience",propTypes:{searchSource:q.object.isRequired,onClear:q.func,onSelect:q.func},getInitialState:function(){return {pages:null,selectedPageID:null,selectedActorID:null,onClear:m,onChange:m};},componentWillMount:function(){this.props.searchSource.bootstrap(function(){if(this.props.searchSource.getAllEntriesMap){var t=this.props.searchSource.getAllEntriesMap(),u=o(t)[0];this.setState({pages:t,selectedPageID:u.getUniqueID(),selectedActorID:u.getUniqueID()});}}.bind(this));},render:function(){if(!this.state.pages)return g.createElement("span",null);var t=o(this.state.pages).map(function(u){return (g.createElement(r,{key:u.getUniqueID(),value:u.getUniqueID(),icon:g.createElement(h,{src:u.getPhoto(),height:15,width:15})},u.getTitle()));});return (g.createElement("div",{className:"_15u8"},g.createElement(i,null,g.createElement(k,{className:"_15u9",name:"audience_page",inputID:"audience_page",maxheight:150,value:this.state.selectedPageID,defaultValue:this.state.selectedPageID,onChange:function(u){this.setState({selectedPageID:u.value});this.props.onChange([{pageId:u.value,actorId:this.state.selectedActorID}]);}.bind(this)},t),g.createElement("span",null,g.createElement("strong",{className:"_15ua"},n._("Publie en tant que"),' '),g.createElement(j,{name:"audience_page_identity",onChange:function(u){this.setState({selectedActorID:u.value});this.props.onChange([{pageId:this.state.selectedPageID,actorId:u.value}]);}.bind(this),targetID:this.state.selectedPageID})))));}});e.exports=s;},null);
__d("ShareDialogAudience.react",["React","ShareDialogAudienceTypes","ShareDialogDataSources","ShareDialogMessageAudience.react","ShareDialogGroupAudience.react","ShareDialogPersonAudience.react","ShareDialogPageAudience.react","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=i.TYPES,p=g,q=p.PropTypes,r=g.createClass({displayName:"ShareDialogAudience",propTypes:{activeAudience:function(s){if(!h.isValid(s.activeAudience))return new Error('The active audience is invalid.');},messageTargets:q.array,userId:q.string,dataSources:q.instanceOf(i),onClear:q.func,onChange:q.func},getDefaultProps:function(){return {dataSources:new i(),onClear:n,onChange:n};},render:function(){var s=this.props.dataSources;if(s.getSource(o.MESSAGE)&&this.props.activeAudience===h.MESSAGE)return (g.createElement(j,{userId:this.props.userId,onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,searchSource:s.getSource(o.MESSAGE),messageTargets:this.props.messageTargets}));if(s.getSource(o.PERSON_WALL)&&this.props.activeAudience===h.PERSON)return (g.createElement(l,{userId:this.props.userId,onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,searchSource:s.getSource(o.PERSON_WALL)}));if(s.getSource(o.GROUP)&&this.props.activeAudience===h.GROUP)return (g.createElement(k,{onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,searchSource:s.getSource(o.GROUP)}));if(s.getSource(o.PAGE)&&this.props.activeAudience===h.PAGE)return (g.createElement(m,{onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,searchSource:s.getSource(o.PAGE)}));return g.createElement("span",null);}});e.exports=r;e.exports.TYPES=h;},null);
__d("ComposerXNUX",["AsyncRequest","ComposerXDragDrop","CSS","DOM","Event","SubscriptionsHandler","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o={},p={};function q(s,t,u){var v=u.dataTransfer.items;if(v){var w=h.filterImages(v);if(!w.length)return;}r.acknowledgeDialog(s,t);}var r={CAMERA_NUX:'camera_nux_seen',ADD_MORE_NUX:'add_more_nux_seen',HMU_NUX:'hmu_nux_seen',HMU_POST_NUX:'hmu_post_nux_seen',FACEREC_SUGGESTIONS_NUX:'facerec_suggestions_nux_seen',TAGGING_FLYOUT_NUX:'tagging_flyout_nux_seen',OGCOMPOSER_NEW_ICON_PICKER_NUX:'minutiae_icon_picker_nux_seen',SHARER_MINUTIAE_NUX:'sharer_minutiae_nux_seen',ADD_STICKERS_NUX:'add_stickers_nux_seen',UPCOMING_BIRTHDAYS_NUX:'upcoming_birthdays_nux_seen',onInit:function(s,t,u){if(o[u])return;p[u]=p[u]||new l();var v=p[u];v.engage();var w=s.getRoot();i.addClass(w,"_4bka");var x=j.scry(w,"._3o-a");x.forEach(function(y){v.addSubscriptions(k.listen(y,'click',r.acknowledgeDialog.bind(null,u,s)));});if(u==r.CAMERA_NUX)v.addSubscriptions(k.listen(document,'dragenter',q.bind(null,u,s)));v.addSubscriptions(s.subscribe('cancel',r.sendMarkSeenRequest.bind(null,u)),s.subscribe('hide',v.release.bind(v)));s.setContext(t).show();},acknowledgeDialog:function(s,t){r.sendMarkSeenRequest(s);t.hide();},sendMarkSeenRequest:function(s){if(!o[s]){new g('/ajax/photos/composer/mark_nux_seen.php').setData({type:s}).send();o[s]=true;}},onCleanup:function(s){s.hide();}};e.exports=r;},null);
__d("ShareDialogTaggerTypes",["getObjectValues"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={NONE:'none',PEOPLE:'people',PLACE:'place',DOING:'doing',FEELING:'feeling'},i=g(h);e.exports=h;e.exports.ALL=i;e.exports.isValid=function(j){return i.some(function(k){return k===j;});};},null);
__d("XUIAmbientNUXTheme",["cx"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={wrapperClassName:"_2x6q",arrowDimensions:{offset:14,length:18}};e.exports=h;},null);
__d("XUIAmbientNUX.react",["HasLayerContextMixin","React","ReactLayer","ReactAbstractContextualDialog","XUIAmbientNUXTheme","XUICloseButton.react","XUIContextualDialogBody.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=h,p=o.PropTypes,q=300,r=380,s=i.createClass(j.createSpec({displayName:'XUIAmbientNUX',theme:k})),t=h.createClass({displayName:"XUIAmbientNUX",mixins:[g],propTypes:{alignment:p.oneOf(['left','center','right']),behaviors:p.object,context:p.object,contextRef:p.string,customwidth:p.number,offsetX:p.number,offsetY:p.number,onCloseButtonClick:p.func,position:p.oneOf(['above','below','left','right']),shown:p.bool,width:p.oneOf(['wide','normal','auto','custom'])},_getWidth:function(){switch(this.props.width){case 'wide':return r;case 'custom':return this.props.customwidth;case 'auto':return null;default:return q;}},render:function(){return (h.createElement(s,{alignment:this.props.alignment,autoFocus:false,behaviors:this.props.behaviors,context:this.getContextNode(),focusContextOnHide:false,offsetX:this.props.offsetX,offsetY:this.props.offsetY,position:this.props.position,shown:this.props.shown,width:this._getWidth(this.props)},h.createElement("div",{className:"_53iv"},h.createElement(m,null,h.createElement(l,{shade:"light",className:"_36gl",onClick:this.props.onCloseButtonClick}),h.createElement("div",{className:"_36gn"},this.props.children)))));}});e.exports=t;},null);
__d("ShareDialogTaggerButtons.react",["ComposerXNUX","React","ShareDialogDataSources","ShareDialogTaggerTypes","TooltipLink.react","XUIAmbientNUX.react","cx","fbt","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=h,q=p.PropTypes,r=h.createClass({displayName:"ShareDialogTaggerButtons",propTypes:{activeTagger:function(s){if(!j.isValid(s.activeTagger))return new Error('The active tagger is invalid.');},dataSources:q.instanceOf(i),hasPeople:q.bool,hasPlace:q.bool,hasFeeling:q.bool,hasDoing:q.bool,onTaggerClick:q.func,showDoingNUX:q.bool},getDefaultProps:function(){return {activeTagger:j.NONE,onTaggerClick:o};},getInitialState:function(){return {activeTagger:this.props.activeTagger,dataSources:this.props.dataSources,showDoingNUX:false};},componentWillReceiveProps:function(s){this.setState({activeTagger:s.activeTagger,dataSources:s.dataSources,showDoingNUX:s.showDoingNUX});},componentDidMount:function(){if(this.props.showDoingNUX)setTimeout(function(){this.setState({showDoingNUX:true});}.bind(this),1000);},_taggerClick:function(s){var t=s;if(this.state.activeTagger===s)t=j.NONE;this.setState({activeTagger:t});this.props.onTaggerClick(t);},_onPeopleTaggerClick:function(){this._taggerClick(j.PEOPLE);},_onPlaceTaggerClick:function(){this._taggerClick(j.PLACE);},_onFeelingTaggerClick:function(){this._taggerClick(j.FEELING);},_onOpenGraphTaggerClick:function(){this._taggerClick(j.DOING);},_onDoingNUXClose:function(){this.setState({showDoingNUX:false});g.sendMarkSeenRequest(g.SHARER_MINUTIAE_NUX);},render:function(){var s=this.state.dataSources,t=null,u=null,v=null,w=null,x=null;if(!s)return null;var y=n._("Add what you're doing or how you're feeling"),z=!!s.getSource(i.TYPES.FEELING);if(s.getSource(i.TYPES.PERSON))t=h.createElement(k,{onClick:this._onPeopleTaggerClick,tooltip:n._("Identifier des personnes dans votre publication"),className:(("_2pjs")+(' '+"_jku")+(this.props.hasPeople?' '+"_jkv":'')+(this.state.activeTagger===j.PEOPLE?' '+"_jkw":''))},h.createElement("span",{className:"_jkx"},n._("Identifier des personnes")));if(s.getSource(i.TYPES.PLACE))u=h.createElement(k,{onClick:this._onPlaceTaggerClick,tooltip:n._("Ajoutez un lieu \u00e0 votre publication"),className:(("_2pjs")+(' '+"_jky")+(this.props.hasPlace?' '+"_jkv":'')+(this.state.activeTagger===j.PLACE?' '+"_jkw":''))},h.createElement("span",{className:"_jkx"},n._("Identifier un lieu")));if(s.getSource(i.TYPES.FEELING)){y=n._("Ajoutez votre activit\u00e9");v=h.createElement(k,{onClick:this._onFeelingTaggerClick,tooltip:n._("Partagez ce que vous en pensez"),className:(("_2pjs")+(' '+"_34fh")+(this.props.hasFeeling?' '+"_jkv":'')+(this.state.activeTagger===j.FEELING?' '+"_jkw":''))},h.createElement("span",{className:"_jkx"},n._("Partagez votre humeur")));}if(s.getSource(i.TYPES.ACTION)&&s.getSource(i.TYPES.OBJECT)){if(this.state.showDoingNUX&&this.refs.doingButton)x=h.createElement(l,{context:h.findDOMNode(this.refs.doingButton),onCloseButtonClick:this._onDoingNUXClose,position:"above",shown:true},n._("Nouveau\u00a0! Vous pouvez choisir de partager vos humeurs et vos activit\u00e9s."));w=h.createElement(k,{ref:"doingButton",onClick:this._onOpenGraphTaggerClick,tooltip:y,className:(("_2pjs")+(z?' '+"_4lr0":'')+(!z?' '+"_34fh":'')+(this.props.hasDoing?' '+"_jkv":'')+(this.state.activeTagger===j.DOING?' '+"_jkw":''))},h.createElement("span",{className:"_jkx"},y));}if(!t&&!u&&!w&&!v)return null;return (h.createElement("div",{className:"_5fj8"},t,u,v,w,x));}});e.exports=r;},null);
__d("XUIDialogCloseButton.react",["React","XUIDialogButton.react","fbt"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"XUIDialogCloseButton",render:function(){return (g.createElement(h,g.__spread({},this.props,{action:"cancel",label:i._("Fermer")})));}});e.exports=j;},null);
__d("ShareDialogFooter.react",["DOM","LeftRight.react","React","ShareDialogAudience.react","ShareDialogDataSources","ShareDialogTaggerButtons.react","ShareDialogTaggerTypes","XUIDialogFooter.react","XUIDialogCancelButton.react","XUIDialogCloseButton.react","XUIDialogButton.react","XUIButton.react","cx","emptyFunction","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();var v=j.TYPES,w=i,x=w.PropTypes,y=i.createClass({displayName:"ShareDialogFooter",propTypes:{activeAudience:function(z){if(!v.isValid(z.activeAudience))return new Error('The active audience is invalid.');},activeTagger:function(z){if(!m.isValid(z.activeTagger))return new Error('The active tagger is invalid.');},status:x.shape({type:x.string.isRequired,title:x.oneOfType([x.string,x.object]),message:x.oneOfType([x.string,x.object])}).isRequired,audienceTargets:x.array,dataSources:x.instanceOf(k),hasDoing:x.bool,hasPeople:x.bool,hasFeeling:x.bool,hasPlace:x.bool,onCancel:x.func,onPost:x.func,onPrivacyChange:x.func,onTaggerClick:x.func,privacySelector:x.any,showDoingNUX:x.bool,renderInline:x.bool},getDefaultProps:function(){return {onPost:t,onCancel:t,onTaggerClick:t,status:{type:'composing'},renderInline:false};},_layerHack:function(){if(this.refs&&this.refs.privacySelector){g.setContent(i.findDOMNode(this.refs.privacySelector),this.props.privacySelector);}else setTimeout(this._layerHack,100);},componentDidMount:function(){if(this.props.activeAudience===v.OWN)this._layerHack();},componentWillReceiveProps:function(z){if(this.props.activeAudience!==z.activeAudience&&z.activeAudience===v.OWN)this._layerHack();if(this.props.status.type==='error'&&z.status.type==='composing')this._layerHack();},getPrivacyValue:function(){if(this.refs.privacySelector){var z=i.findDOMNode(this.refs.privacySelector);return g.scry(z,'input').filter(function(aa){return aa.name==='privacyx';})[0].value;}return null;},render:function(){if(this.props.status.type==='success')return i.createElement("noscript",null);if(this.props.status.type==='error')return this.props.renderInline?i.createElement("noscript",null):i.createElement(n,{className:"_8js"},i.createElement("div",{className:"_4-88"},i.createElement(p,{use:"confirm"})));var z=this.props.status.type==='posting',aa=this.props.activeAudience,ba=this.props.sharerType,ca;if(aa===v.OWN&&ba!=='page_viewer')ca=(i.createElement("div",{ref:"privacySelector",className:"_8ju"}));var da;if(z){da=aa===v.MESSAGE?u._("Envoi en cours"):u._("Publication en cours");}else da=aa===v.MESSAGE?u._("Envoyer"):u._("Publier");var ea=(aa!==v.OWN&&aa!==v.PAGE)&&!this.props.audienceTargets,fa=(aa===v.OWN||aa===v.PERSON||aa===v.PAGE)?i.createElement(l,{activeTagger:this.props.activeTagger,hasPeople:this.props.hasPeople,hasPlace:this.props.hasPlace,hasFeeling:this.props.hasFeeling,hasDoing:this.props.hasDoing,onTaggerClick:this.props.onTaggerClick,dataSources:this.props.dataSources,showDoingNUX:this.props.showDoingNUX}):i.createElement("noscript",null);if(this.props.renderInline){return (i.createElement("div",{className:"_8js"},i.createElement(h,null,z?i.createElement("noscript",null):fa,i.createElement(h,null,z?i.createElement("noscript",null):ca,i.createElement("div",{className:"_4-88"},i.createElement(r,{label:da,disabled:z||ea,type:"button",use:"confirm",onClick:this.props.onPost}))))));}else return (i.createElement(n,{className:"_8js",leftContent:z?i.createElement("noscript",null):fa},i.createElement(h,null,z?i.createElement("noscript",null):ca,i.createElement("div",{className:"_4-88"},i.createElement(o,{disabled:z,action:"cancel",onClick:this.props.onCancel}),i.createElement(q,{label:da,disabled:z||ea,use:"confirm",onClick:this.props.onPost})))));}});e.exports=y;},null);
__d("findRangesImmutable",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i,j,k){if(!h.size)return;var l=0;h.reduce(function(m,n,o){if(!i(m,n)){if(j(m))k(l,o);l=o;}return n;});j(h.last())&&k(l,h.count());}e.exports=g;},null);
__d("BlockTree",["immutable","emptyFunction","findRangesImmutable"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=g,k=j.List,l=j.Repeat,m=j.Record,n=h.thatReturnsTrue,o='-',p=m({start:null,end:null}),q=m({start:null,end:null,decoratorKey:null,leaves:null}),r={generate:function(u,v){var w=u.getLength();if(!w)return k.of(new q({start:0,end:0,decoratorKey:null,leaves:k.of(new p({start:0,end:0}))}));var x=[],y=v?v.getDecorations(u):k(l(null,w)),z=u.getCharacterList();i(y,t,n,function(aa,ba){x.push(new q({start:aa,end:ba,decoratorKey:y.get(aa),leaves:s(z.slice(aa,ba),aa)}));});return k(x);},getFingerprint:function(u){return u.map(function(v){var w=v.get('decoratorKey'),x=w!==null?w+'.'+(v.get('end')-v.get('start')):'';return ''+x+'.'+v.get('leaves').size;}).join(o);}};function s(u,v){var w=[],x=u.map(function(y){return y.getStyle();});i(x,t,n,function(y,z){w.push(new p({start:y+v,end:z+v}));});return k(w);}function t(u,v){return u===v;}e.exports=r;},null);
__d("EditorChangeType",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g({UNDO:true,REDO:true,CHANGE_SELECTION:true,INSERT_CHARACTERS:true,BACKSPACE_CHARACTER:true,DELETE_CHARACTER:true,REMOVE_RANGE:true,SPLIT_BLOCK:true,INSERT_FRAGMENT:true,CHANGE_INLINE_STYLE:true,CHANGE_BLOCK_TYPE:true,APPLY_ENTITY:true,RESET_BLOCK:true,ADJUST_DEPTH:true});e.exports=h;},null);
__d("SelectionState",["immutable"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g.Record({anchorKey:null,anchorOffset:null,focusKey:null,focusOffset:null,isBackward:false,hasFocus:false});for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(){if(h!==null)h.apply(this,arguments);}k.prototype.serialize=function(){return ('Anchor: '+this.getAnchorKey()+':'+this.getAnchorOffset()+', '+'Focus: '+this.getFocusKey()+':'+this.getFocusOffset()+', '+'Is Backward: '+this.getIsBackward()+', '+'Has Focus: '+this.getHasFocus());};k.prototype.getAnchorKey=function(){return this.anchorKey;};k.prototype.getAnchorOffset=function(){return this.anchorOffset;};k.prototype.getFocusKey=function(){return this.focusKey;};k.prototype.getFocusOffset=function(){return this.focusOffset;};k.prototype.getIsBackward=function(){return this.isBackward;};k.prototype.getHasFocus=function(){return this.hasFocus;};k.prototype.hasEdgeWithin=function(l,m,n){var o=this.getAnchorKey(),p=this.getFocusKey();if(o===p&&o===l){var q=this.getStartOffset(),r=this.getEndOffset();return m<=r&&q<=n;}var s;if(l===o){s=this.getAnchorOffset();}else if(l===p){s=this.getFocusOffset();}else return false;return m<=s&&n>=s;};k.prototype.isCollapsed=function(){return (this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset());};k.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey();};k.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset();};k.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey();};k.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset();};e.exports=k;},null);
__d("EditorState",["BlockTree","ComposedInlineStyle","EditorChangeType","immutable","SelectionState"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=j.Record({allowUndo:true,currentContent:null,decorator:null,forceSelection:false,inCompositionMode:false,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:null,selection:null,treeMap:null,undoStack:null});m.create=function(v){v.treeMap=o(v.currentContent,v.decorator);return new m(new l(v));};m.set=function(v,w){var x=v.getImmutable().withMutations(function(y){var z=y.get('decorator'),aa=z;if(w.decorator===null){aa=null;}else if(w.decorator)aa=w.decorator;var ba=w.currentContent||v.getCurrentContent();if(aa!==z){var ca=y.get('treeMap'),da;if(aa&&z){da=q(ba.getBlockMap(),ca,aa,z);}else da=o(ba,aa);y.merge({decorator:aa,treeMap:da,nativelyRenderedContent:null});return;}var ea=v.getCurrentContent();if(ba!==ea)y.set('treeMap',p(v,ba.getBlockMap(),aa));y.merge(w);});return new m(x);};m.prototype.toJS=function(){return this.getImmutable().toJS();};m.prototype.getAllowUndo=function(){return this.getImmutable().get('allowUndo');};m.prototype.getCurrentContent=function(){return this.getImmutable().get('currentContent');};m.prototype.getUndoStack=function(){return this.getImmutable().get('undoStack');};m.prototype.getRedoStack=function(){return this.getImmutable().get('redoStack');};m.prototype.getSelection=function(){return this.getImmutable().get('selection');};m.prototype.getDecorator=function(){return this.getImmutable().get('decorator');};m.prototype.isInCompositionMode=function(){return this.getImmutable().get('inCompositionMode');};m.prototype.mustForceSelection=function(){return this.getImmutable().get('forceSelection');};m.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get('nativelyRenderedContent');};m.prototype.getLastChangeType=function(){return this.getImmutable().get('lastChangeType');};m.prototype.getInlineStyleOverride=function(){return this.getImmutable().get('inlineStyleOverride');};m.prototype.getCurrentInlineStyle=function(){var v=this.getInlineStyleOverride();if(v!=null)return v;var w=this.getCurrentContent(),x=this.getSelection();if(x.isCollapsed())return s(w,x);return t(w,x);};m.prototype.getBlockTree=function(v){return this.getImmutable().getIn(['treeMap',v]);};m.prototype.isAtDocumentStart=function(){var v=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(v,0,0);};m.prototype.isAtDocumentEnd=function(){var v=this.getCurrentContent(),w=v.getBlockMap(),x=w.last(),y=x.getLength();return this.getSelection().hasEdgeWithin(x.getKey(),y,y);};m.acceptSelection=function(v,w){return n(v,w,false);};m.forceSelection=function(v,w){if(!w.getHasFocus())w=w.set('hasFocus',true);return n(v,w,true);};m.moveSelectionToEnd=function(v){var w=v.getCurrentContent(),x=w.getLastBlock(),y=x.getKey(),z=x.getLength();return m.acceptSelection(v,new k({anchorKey:y,anchorOffset:z,focusKey:y,focusOffset:z,isBackward:false}));};m.moveFocusToEnd=function(v){var w=m.moveSelectionToEnd(v);return m.forceSelection(w,w.getSelection());};m.push=function(v,w,x){if(v.getCurrentContent()===w)return v;var y=x!==i.INSERT_CHARACTERS;if(!v.getAllowUndo())return m.set(v,{currentContent:w,lastChangeType:x,selection:w.getSelectionAfter(),forceSelection:y,inlineStyleOverride:null});var z=v.getSelection(),aa=v.getCurrentContent(),ba=v.getUndoStack(),ca=w;if(z!==aa.getSelectionAfter()||r(v,x)){ba=ba.push(aa);ca=ca.set('selectionBefore',z);}else if(x===i.INSERT_CHARACTERS||x===i.BACKSPACE_CHARACTER||x===i.DELETE_CHARACTER)ca=ca.set('selectionBefore',aa.getSelectionBefore());return m.set(v,{currentContent:ca,undoStack:ba,redoStack:j.Stack(),lastChangeType:x,selection:w.getSelectionAfter(),forceSelection:y,inlineStyleOverride:null});};m.undo=function(v){if(!v.getAllowUndo())return v;var w=v.getUndoStack(),x=w.peek();if(!x)return v;var y=v.getCurrentContent();return m.set(v,{currentContent:x,undoStack:w.shift(),redoStack:v.getRedoStack().push(y),forceSelection:true,inlineStyleOverride:null,lastChangeType:i.UNDO,nativelyRenderedContent:null,selection:y.getSelectionBefore()});};m.redo=function(v){if(!v.getAllowUndo())return v;var w=v.getRedoStack(),x=w.peek();if(!x)return v;var y=v.getCurrentContent();return m.set(v,{currentContent:x,undoStack:v.getUndoStack().push(y),redoStack:w.shift(),forceSelection:true,inlineStyleOverride:null,lastChangeType:i.REDO,nativelyRenderedContent:null,selection:x.getSelectionAfter()});};function m(v){this.$EditorState0=v;}m.prototype.getImmutable=function(){return this.$EditorState0;};function n(v,w,x){return m.set(v,{selection:w,forceSelection:x,nativelyRenderedContent:null,inlineStyleOverride:null});}function o(v,w){return v.getBlockMap().map(function(x){return g.generate(x,w);});}function p(v,w,x){var y=v.getCurrentContent().getBlockMap(),z=v.getImmutable().get('treeMap');return z.merge(w.toSeq().filter(function(aa,ba){return aa!==y.get(ba);}).map(function(aa){return g.generate(aa,x);}));}function q(v,w,x,y){return w.merge(v.toSeq().filter(function(z){return (x.getDecorations(z)!==y.getDecorations(z));}).map(function(z){return g.generate(z,x);}));}function r(v,w){var x=v.getLastChangeType();return (w!==x||(w!==i.INSERT_CHARACTERS&&w!==i.BACKSPACE_CHARACTER&&w!==i.DELETE_CHARACTER));}function s(v,w){var x=w.getStartKey(),y=w.getStartOffset(),z=v.getBlockForKey(x);if(y>0)return z.getInlineStyleAt(y-1);if(z.getLength())return z.getInlineStyleAt(0);return u(v,x);}function t(v,w){var x=w.getStartKey(),y=w.getStartOffset(),z=v.getBlockForKey(x);if(y<z.getLength())return z.getInlineStyleAt(y);if(y>0)return z.getInlineStyleAt(y-1);return u(v,x);}function u(v,w){var x=v.getBlockBefore(w),y;while(x){y=x.getLength();if(y)return x.getInlineStyleAt(y-1);x=v.getBlockBefore(x.getKey());}return h.NONE;}e.exports=m;},null);
__d("AbstractTextEditorPlaceholder.react",["EditorState","React","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h,k=j.PropTypes,l=h.createClass({displayName:"AbstractTextEditorPlaceholder",propTypes:{editorState:k.instanceOf(g).isRequired,text:k.string.isRequired},shouldComponentUpdate:function(m,n){if(this.props.text!==m.text)return true;var o=this.props.editorState,p=m.editorState,q=o.getSelection(),r=p.getSelection();return (q.getHasFocus()!==r.getHasFocus());},render:function(){var m=this.props.editorState.getSelection().getHasFocus(),n=(("_5ywb")+(m?' '+"_5ywc":''));return (h.createElement("div",{className:n},h.createElement("div",{className:"_3br6"},this.props.text)));}});e.exports=l;},null);
__d("DocumentCommands",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g({UNDO:true,REDO:true,DELETE:true,DELETE_WORD:true,BACKSPACE:true,BACKSPACE_WORD:true,BACKSPACE_TO_END_OF_BLOCK:true,BOLD:true,ITALIC:true,UNDERLINE:true,CODE:true,INSERT_BLOCK_DELIMITER:true,TRANSPOSE_CHARACTERS:true,MOVE_SELECTION_TO_START_OF_BLOCK:true,MOVE_SELECTION_TO_END_OF_BLOCK:true,SECONDARY_CUT:true,SECONDARY_PASTE:true});e.exports=h;},null);
__d("getDefaultKeyBinding",["DocumentCommands","Keys","UserAgent"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=i.isPlatform('Mac OS X'),k=i.isPlatform('Windows'),l=i.isBrowser('Firefox'),m=j&&l&&l<29;function n(u){return u.ctrlKey&&!u.altKey;}function o(u){return j?(u.metaKey&&!u.altKey):n(u);}function p(u){return (j&&u.altKey)||n(u);}function q(u){if(o(u))return u.shiftKey?g.REDO:g.UNDO;}function r(u){if(k&&u.shiftKey)return null;return p(u)?g.DELETE_WORD:g.DELETE;}function s(u){if(o(u)&&j)return g.BACKSPACE_TO_END_OF_BLOCK;return p(u)?g.BACKSPACE_WORD:g.BACKSPACE;}function t(u){switch(u.keyCode){case 66:return o(u)?g.BOLD:null;case 68:return n(u)?g.DELETE:null;case 72:return n(u)?g.BACKSPACE:null;case 73:return o(u)?g.ITALIC:null;case 74:return o(u)?g.CODE:null;case 75:if(!k&&n(u))return g.SECONDARY_CUT;return null;case 79:return n(u)?g.INSERT_BLOCK_DELIMITER:null;case 84:return j&&n(u)?g.TRANSPOSE_CHARACTERS:null;case 85:if(j&&n(u))return g.BACKSPACE_TO_END_OF_BLOCK;return o(u)?g.UNDERLINE:null;case 87:return j&&n(u)?g.BACKSPACE_WORD:null;case 89:if(n(u))return k?g.REDO:g.SECONDARY_PASTE;return null;case 90:return q(u)||null;case h.DELETE:return r(u);case h.BACKSPACE:return s(u);case h.LEFT:return (m&&o(u)?g.MOVE_SELECTION_TO_START_OF_BLOCK:null);case h.RIGHT:return (m&&o(u)?g.MOVE_SELECTION_TO_END_OF_BLOCK:null);default:return null;}}e.exports=t;},null);
__d("AbstractTextEditorProps",["EditorState","React","emptyFunction","getDefaultKeyBinding"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=h,l=k.PropTypes,m=i.thatReturns(''),n=i.thatReturns(null),o={propTypes:{editorState:l.instanceOf(g).isRequired,placeholder:l.string,textAlignment:l.oneOf(['left','center','right']),blockRendererFn:l.func,blockStyleFn:l.func,inlineStyleFn:l.func,keyBindingFn:l.func,readOnly:l.bool,spellCheck:l.bool,stripPastedStyles:l.bool,handleReturn:l.func,handleKeyCommand:l.func,handleBeforeInput:l.func,handlePastedFiles:l.func,onEscape:l.func,onTab:l.func,onUpArrow:l.func,onDownArrow:l.func,onPasteRawText:l.func,onBlur:l.func,onFocus:l.func},getDefaultProps:function(){return {blockRendererFn:n,blockStyleFn:m,inlineStyleFn:m,keyBindingFn:j,readOnly:false,spellCheck:false,stripPastedStyles:false};}};e.exports=o;},null);
__d("CharacterMetadata",["ComposedInlineStyle","immutable"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.NONE,k=h.Record({style:j,entity:null});for(var l in k)if(k.hasOwnProperty(l))n[l]=k[l];var m=k===null?null:k.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=k;function n(){"use strict";if(k!==null)k.apply(this,arguments);}n.prototype.getStyle=function(){"use strict";return this.get('style');};n.prototype.getEntity=function(){"use strict";return this.get('entity');};n.prototype.hasStyle=function(p){"use strict";return !!(this.getStyle()&p);};n.applyStyle=function(p,q){"use strict";return p.set('style',p.getStyle()|q);};n.removeStyle=function(p,q){"use strict";var r=p.set('style',p.getStyle()&(~q));return h.is(r,o)?o:r;};n.applyEntity=function(p,q){"use strict";var r=p.getEntity()===q?p:p.set('entity',q);return h.is(r,o)?o:r;};var o=new n();n.EMPTY=o;e.exports=n;},null);
__d("ContentStateInlineStyle",["CharacterMetadata","immutable"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i={add:function(k,l,m){return j(k,l,m,true);},remove:function(k,l,m){return j(k,l,m,false);}};function j(k,l,m,n){var o=k.getBlockMap(),p=l.getStartKey(),q=l.getStartOffset(),r=l.getEndKey(),s=l.getEndOffset(),t=o.skipUntil(function(u,v){return v===p;}).takeUntil(function(u,v){return v===r;}).concat(h.Map([[r,o.get(r)]])).map(function(u,v){var w,x;if(p===r){w=q;x=s;}else{w=v===p?q:0;x=v===r?s:u.getLength();}var y=u.getCharacterList(),z;while(w<x){z=y.get(w);y=y.set(w,n?g.applyStyle(z,m):g.removeStyle(z,m));w++;}return u.set('characterList',y);});return k.merge({blockMap:o.merge(t),selectionBefore:l,selectionAfter:l});}e.exports=i;},null);
__d("DocumentRemovalDirection",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={BACKWARD:0,FORWARD:1};e.exports=g;},null);
__d("applyEntityToContentBlock",["CharacterMetadata"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i,j,k,l){var m=i.getCharacterList();while(j<k){m=m.set(j,g.applyEntity(m.get(j),l));j++;}return i.set('characterList',m);}e.exports=h;},null);
__d("applyEntityToContentState",["immutable","applyEntityToContentBlock"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';function i(j,k,l){var m=j.getBlockMap(),n=k.getStartKey(),o=k.getStartOffset(),p=k.getEndKey(),q=k.getEndOffset(),r=m.skipUntil(function(s,t){return t===n;}).takeUntil(function(s,t){return t===p;}).merge(g.OrderedMap([[p,m.get(p)]])).map(function(s,t){var u,v;if(n===p){u=o;v=q;}else{u=t===n?o:0;v=t===p?0:s.getLength();}return h(s,u,v,l);});return j.merge({blockMap:m.merge(r),selectionBefore:k,selectionAfter:k});}e.exports=i;},null);
__d("DocumentEntityInstance",["ComposedEntityMutability","ComposedEntityType","arrayContains","getObjectValues","invariant"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=j(h),m=j(g);function n(o,p,q){"use strict";k(i(l,o));k(i(m,p));this.$DocumentEntityInstance0=o;this.$DocumentEntityInstance1=p;this.$DocumentEntityInstance2=q;}n.prototype.getType=function(){"use strict";return this.$DocumentEntityInstance0;};n.prototype.getMutability=function(){"use strict";return this.$DocumentEntityInstance1;};n.prototype.getData=function(){"use strict";return this.$DocumentEntityInstance2;};n.prototype.replaceData=function(o){"use strict";this.$DocumentEntityInstance2=o;};e.exports=n;},null);
__d("DocumentEntity",["DocumentEntityInstance","invariant"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={},j=0,k={create:function(l,m,n){return k.add(new g(l,m,n));},add:function(l){i[++j]=l;return j.toString();},get:function(l){var m=i[l];h(!!m);return m;}};e.exports=k;},null);
__d("DocumentEntitySegments",["DocumentRemovalDirection"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g.FORWARD,i={getRemovalRange:function(j,k,l,m,n){var o=l.split(' ');o=o.map(function(y,z){if(n===h){if(z>0)return ' '+y;}else if(z<o.length-1)return y+' ';return y;});var p=m,q,r,s=null,t=null;for(var u=0;u<o.length;u++){r=o[u];q=p+r.length;if(j<q&&p<k){if(s!==null){t=q;}else{s=p;t=q;}}else if(s!==null)break;p=q;}var v=m+l.length,w=s===m,x=t===v;if((!w&&x)||(w&&!x))if(n===h){if(t!==v)t++;}else if(s!==m)s--;return {start:s,end:t};}};e.exports=i;},null);
__d("checkRangeOverlap",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j,k,l){g(i<=j&&k<=l);return (i<l&&j>k);}e.exports=h;},null);
__d("getRangesForDocumentEntity",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j){var k=[];i.findEntityRanges(function(l){return l.getEntity()===j;},function(l,m){k.push({start:l,end:m});});g(!!k.length);return k;}e.exports=h;},null);
__d("getCharacterRemovalRange",["ComposedEntityMutability","DocumentEntity","DocumentEntitySegments","checkRangeOverlap","getRangesForDocumentEntity","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=g.MUTABLE,n=g.IMMUTABLE;function o(p,q,r){var s=q.getStartOffset(),t=q.getEndOffset(),u=p.getEntityAt(s);if(!u)return q;var v=h.get(u),w=v.getMutability();if(w===m)return q;var x=k(p,u).filter(function(aa){return j(s,t,aa.start,aa.end);});l(x.length==1);var y=x[0];if(w===n)return q.merge({anchorOffset:y.start,focusOffset:y.end,isBackward:false});var z=i.getRemovalRange(s,t,p.getText().slice(y.start,y.end),y.start,r);return q.merge({anchorOffset:z.start,focusOffset:z.end,isBackward:false});}e.exports=o;},null);
__d("generateBlockKey",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={},h=Math.pow(2,24);function i(){var j;while(j===(void 0)||g.hasOwnProperty(j)||!isNaN(+j))j=Math.floor(Math.random()*h).toString(32);g[j]=true;return j;}e.exports=i;},null);
__d("removeEntitiesAtEdges",["CharacterMetadata","ComposedEntityMutability","DocumentEntity","findRangesImmutable","isEmpty"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=h.MUTABLE;function m(p,q){var r=p.getBlockMap(),s={},t=q.getStartKey(),u=q.getStartOffset(),v=r.get(t),w=o(v,u);if(w!==v)s[t]=w;var x=q.getEndKey(),y=q.getEndOffset(),z=r.get(x);if(t===x)z=w;var aa=o(z,y);if(aa!==z)s[x]=aa;if(k(s))return p.set('selectionAfter',q);return p.merge({blockMap:r.merge(s),selectionAfter:q});}function n(p,q,r){var s;j(p,function(t,u){return t.getEntity()===u.getEntity();},function(t){return t.getEntity()===q;},function(t,u){if(t<=r&&u>=r)s={start:t,end:u};});return s;}function o(p,q){var r=p.getCharacterList(),s=q>0?r.get(q-1):undefined,t=q<r.count()?r.get(q):undefined,u=s?s.getEntity():undefined,v=t?t.getEntity():undefined;if(v&&v===u){var w=i.get(v);if(w.getMutability()!==l){var x=n(r,v,q),y=x.start,z=x.end,aa;while(y<z){aa=r.get(y);r=r.set(y,g.applyEntity(aa,null));y++;}return p.set('characterList',r);}}return p;}e.exports=m;},null);
__d("getContentStateFragment",["generateBlockKey","removeEntitiesAtEdges"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';function i(j,k){var l=k.getStartKey(),m=k.getStartOffset(),n=k.getEndKey(),o=k.getEndOffset(),p=h(j,k),q=p.getBlockMap(),r=q.keySeq(),s=r.indexOf(l),t=r.indexOf(n)+1;return q.slice(s,t).map(function(u,v){var w=g(),x=u.getText(),y=u.getCharacterList();if(l===n)return u.merge({key:w,text:x.slice(m,o),characterList:y.slice(m,o)});if(v===l)return u.merge({key:w,text:x.slice(m),characterList:y.slice(m)});if(v===n)return u.merge({key:w,text:x.slice(0,o),characterList:y.slice(0,o)});return u.set('key',w);});}e.exports=i;},null);
__d("createOrderedMapFromBlockArray",["immutable"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){return g.OrderedMap(g.Seq(i).toKeyedSeq().mapKeys(function(j,k){return k.getKey();}));}e.exports=h;},null);
__d("insertIntoList",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';function g(h,i,j){if(j===h.count()){i.forEach(function(k){h=h.push(k);});}else if(j===0){i.reverse().forEach(function(k){h=h.unshift(k);});}else h=h.slice(0,j).concat(i,h.slice(j));return h;}e.exports=g;},null);
__d("insertFragmentIntoContentState",["createOrderedMapFromBlockArray","generateBlockKey","insertIntoList","invariant"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';function k(l,m,n){j(m.isCollapsed());var o=m.getStartKey(),p=m.getStartOffset(),q=l.getBlockMap(),r=n.size,s,t;if(r===1){var u=q.get(o),v=n.first(),w=u.getText(),x=u.getCharacterList(),y=u.merge({text:(w.slice(0,p)+v.getText()+w.slice(p)),characterList:i(x,v.getCharacterList(),p)});q=q.set(o,y);s=o;t=p+v.getText().length;return l.merge({blockMap:q.set(o,y),selectionBefore:m,selectionAfter:m.merge({anchorKey:s,anchorOffset:t,focusKey:s,focusOffset:t,isBackward:false})});}var z=[];l.getBlockMap().forEach(function(aa,ba){if(ba!==o){z.push(aa);return;}var ca=aa.getText(),da=aa.getCharacterList(),ea=ca.length,fa=ca.slice(0,p),ga=da.slice(0,p),ha=n.first(),ia=aa.merge({text:fa+ha.getText(),characterList:ga.concat(ha.getCharacterList())});z.push(ia);n.slice(1,r-1).forEach(function(na){z.push(na.set('key',h()));});var ja=ca.slice(p,ea),ka=da.slice(p,ea),la=n.last();s=h();var ma=la.merge({key:s,text:la.getText()+ja,characterList:la.getCharacterList().concat(ka)});z.push(ma);});t=n.last().getLength();return l.merge({blockMap:g(z),selectionBefore:m,selectionAfter:m.merge({anchorKey:s,anchorOffset:t,focusKey:s,focusOffset:t,isBackward:false})});}e.exports=k;},null);
__d("insertTextIntoContentState",["immutable","insertIntoList","invariant"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(k,l,m,n){i(l.isCollapsed());var o=m.length;if(!o)return k;var p=k.getBlockMap(),q=l.getStartKey(),r=l.getStartOffset(),s=p.get(q),t=s.getText(),u=s.merge({text:(t.slice(0,r)+m+t.slice(r,s.getLength())),characterList:h(s.getCharacterList(),g.Repeat(n,o),r)}),v=r+o;return k.merge({blockMap:p.set(q,u),selectionAfter:l.merge({anchorOffset:v,focusOffset:v})});}e.exports=j;},null);
__d("removeRangeFromContentState",["immutable"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(j,k){if(k.isCollapsed())return j;var l=j.getBlockMap(),m=k.getStartKey(),n=k.getStartOffset(),o=k.getEndKey(),p=k.getEndOffset(),q=l.get(m),r=l.get(o),s;if(q===r){s=i(q.getCharacterList(),n,p);}else s=q.getCharacterList().slice(0,n).concat(r.getCharacterList().slice(p));var t=q.merge({text:(q.getText().slice(0,n)+r.getText().slice(p)),characterList:s}),u=l.toSeq().skipUntil(function(v,w){return w===m;}).takeUntil(function(v,w){return w===o;}).concat(g.Map([[o,null]])).map(function(v,w){return w===m?t:null;});l=l.merge(u).filter(function(v){return !!v;});return j.merge({blockMap:l,selectionBefore:k,selectionAfter:k.merge({anchorKey:m,anchorOffset:n,focusKey:m,focusOffset:n,isBackward:false})});}function i(j,k,l){if(k===0){while(k<l){j=j.shift();k++;}}else if(l===j.count()){while(l>k){j=j.pop();l--;}}else j=j.slice(0,k).concat(j.slice(l));return j;}e.exports=h;},null);
__d("setBlockTypeForContentState",["immutable"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i,j,k){var l=j.getStartKey(),m=j.getEndKey(),n=i.getBlockMap(),o=n.toSeq().skipUntil(function(p,q){return q===l;}).takeUntil(function(p,q){return q===m;}).concat(g.Map([[m,n.get(m)]])).map(function(p){return p.set('type',k);});return i.merge({blockMap:n.merge(o),selectionBefore:j,selectionAfter:j});}e.exports=h;},null);
__d("splitBlockInContentState",["generateBlockKey","invariant"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';function i(j,k){h(k.isCollapsed());var l=k.getAnchorKey(),m=k.getAnchorOffset(),n=j.getBlockMap(),o=n.get(l),p=o.getText(),q=o.getCharacterList(),r=o.merge({text:p.slice(0,m),characterList:q.slice(0,m)}),s=g(),t=r.merge({key:s,text:p.slice(m),characterList:q.slice(m)}),u=n.toSeq().takeUntil(function(x){return x===o;}),v=n.toSeq().skipUntil(function(x){return x===o;}).rest(),w=u.concat([[r.getKey(),r],[t.getKey(),t]],v).toOrderedMap();return j.merge({blockMap:w,selectionBefore:k,selectionAfter:k.merge({anchorKey:s,anchorOffset:0,focusKey:s,focusOffset:0,isBackward:false})});}e.exports=i;},null);
__d("DocumentModifier",["CharacterMetadata","ComposedInlineStyle","ContentStateInlineStyle","DocumentRemovalDirection","applyEntityToContentState","getCharacterRemovalRange","getContentStateFragment","insertFragmentIntoContentState","insertTextIntoContentState","invariant","removeEntitiesAtEdges","removeRangeFromContentState","setBlockTypeForContentState","splitBlockInContentState"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();'use strict';var u=h.NONE,v={replaceText:function(w,x,y,z,aa){if(z===(void 0))z=u;if(aa===(void 0))aa=null;var ba=q(w,x),ca=r(ba,x),da;if(z===u&&aa===null){da=g.EMPTY;}else da=new g({style:z,entity:aa});return o(ca,ca.getSelectionAfter(),y,da);},insertText:function(w,x,y,z,aa){p(x.isCollapsed());if(z===(void 0))z=u;if(aa===(void 0))aa=null;var ba;if(z===u&&aa===null){ba=g.EMPTY;}else ba=new g({style:z,entity:aa});var ca=q(w,x);return o(ca,ca.getSelectionAfter(),y,ba);},moveText:function(w,x,y){var z=m(w,x),aa=v.removeRange(w,x,j.BACKWARD);return v.replaceWithFragment(aa,y,z);},replaceWithFragment:function(w,x,y){var z=q(w,x),aa=r(z,x);return n(aa,aa.getSelectionAfter(),y);},removeRange:function(w,x,y){if(x.getAnchorKey()===x.getFocusKey()){var z=x.getAnchorKey(),aa=x.getStartOffset(),ba=x.getEndOffset(),ca=w.getBlockForKey(z),da=ca.getEntityAt(aa),ea=ca.getEntityAt(ba-1);if(da&&da===ea){var fa=l(ca,x,y);return r(w,fa);}}var ga=q(w,x);return r(ga,x);},splitBlock:function(w,x){var y=q(w,x),z=r(y,x);return t(z,z.getSelectionAfter());},applyInlineStyle:function(w,x,y){return i.add(w,x,y);},removeInlineStyle:function(w,x,y){return i.remove(w,x,y);},setBlockType:function(w,x,y){return s(w,x,y);},applyEntity:function(w,x,y){var z=q(w,x);return k(z,x,y);}};e.exports=v;},null);
__d("isSelectionAtLeafStart",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';function g(h){var i=h.getSelection(),j=i.getAnchorKey(),k=h.getBlockTree(j),l=i.getStartOffset(),m=false;k.some(function(n){if(l===n.get('start')){m=true;return true;}if(l<n.get('end'))return n.get('leaves').some(function(o){var p=o.get('start');if(l===p){m=true;return true;}if(l<p)return false;});});return m;}e.exports=g;},null);
__d("TextEditorCompositionHandler",["ComposedInlineStyle","DocumentModifier","EditorChangeType","EditorState","Keys","isSelectionAtLeafStart"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=g.NONE,n=20,o={onBeforeInput:function(p){this._textInputData=(this._textInputData||'')+p.data;},onCompositionStart:function(){this._stillComposing=true;},onCompositionEnd:function(p){this._resolved=false;this._stillComposing=false;setTimeout(function(){if(!this._resolved)o.resolveComposition.call(this);}.bind(this),n);},onKeyDown:function(p){if(p.which===k.RIGHT||p.which===k.LEFT)p.preventDefault();},onKeyPress:function(p){if(p.which===k.RETURN)p.preventDefault();},resolveComposition:function(){if(this._stillComposing)return;this._resolved=true;var p=this._textInputData;this._textInputData='';var q=j.set(this.props.editorState,{inCompositionMode:false}),r=!p||l(q);if(r)this.restoreEditorDOM();this.exitCurrentMode();this.removeRenderGuard();if(p){var s=h.replaceText(q.getCurrentContent(),q.getSelection(),p,m,null);this.update(j.push(q,s,i.INSERT_CHARACTERS));return;}if(r)this.update(j.set(q,{nativelyRenderedContent:null,forceSelection:true}));}};e.exports=o;},null);
__d("DocumentOffsetKey",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g='-',h={encode:function(i,j,k){return i+g+j+g+k;},decode:function(i){var j=i.split(g),k=j[0],l=j[1],m=j[2];return {blockKey:k,decoratorKey:parseInt(l,10),leafKey:parseInt(m,10)};}};e.exports=h;},null);
__d("ElementForBlockType",["ComposedBlockType"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={getElement:function(i){switch(i){case g.HEADER_ONE:return 'h2';case g.HEADER_TWO:return 'h3';case g.UNORDERED_LIST_ITEM:case g.ORDERED_LIST_ITEM:return 'li';case g.BLOCKQUOTE:return 'blockquote';case g.MEDIA:return 'figure';default:return 'div';}},getWrapperElement:function(i){switch(i){case g.UNORDERED_LIST_ITEM:case g.ORDERED_LIST_ITEM:return 'ul';case g.CODE:return 'pre';default:return null;}}};e.exports=h;},null);
__d("AbstractDocumentDecorator",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(){"use strict";}g.prototype.getDecorations=function(h){"use strict";throw new Error('Must implement `getDecorations`.');};g.prototype.getComponentForKey=function(h){"use strict";throw new Error('Must implement `getComponentForKey`.');};g.prototype.getPropsForKey=function(h){"use strict";throw new Error('Must implement `getPropsForKey`.');};e.exports=g;},null);
__d("ContentBlock",["ComposedBlockType","ComposedInlineStyle","immutable","findRangesImmutable"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=g.UNSTYLED,l=h.NONE,m=i.Record({key:null,type:k,text:'',characterList:i.List(),depth:0});for(var n in m)if(m.hasOwnProperty(n))p[n]=m[n];var o=m===null?null:m.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=m;function p(){if(m!==null)m.apply(this,arguments);}p.prototype.getKey=function(){return this.get('key');};p.prototype.getType=function(){return this.get('type');};p.prototype.getText=function(){return this.get('text');};p.prototype.getCharacterList=function(){return this.get('characterList');};p.prototype.getLength=function(){return this.getText().length;};p.prototype.getDepth=function(){return this.get('depth');};p.prototype.getInlineStyleAt=function(s){var t=this.getCharacterList().get(s);return t?t.getStyle():l;};p.prototype.getEntityAt=function(s){var t=this.getCharacterList().get(s);return t?t.getEntity():null;};p.prototype.findStyleRanges=function(s,t){j(this.getCharacterList(),q,s,t);};p.prototype.findEntityRanges=function(s,t){j(this.getCharacterList(),r,s,t);};p.prototype.getInlineStyles=function(){return this.getCharacterList().map(function(s){return s.getStyle();});};p.prototype.getEntities=function(){return this.getCharacterList().map(function(s){return s.getEntity();});};function q(s,t){return s.getStyle()===t.getStyle();}function r(s,t){return s.getEntity()===t.getEntity();}e.exports=p;},null);
__d("DocumentCharacters",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={BLOCK_DELIMITER:'\u000D',SOFT_NEWLINE:'\u000A',PHOTO:'\ud83d\udcf7',VIDEO:'\ud83d\udcf9'};e.exports=g;},null);
__d("TextEditorTextNode.react",["React","UserAgent_DEPRECATED","getTextContentAccessor"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=h.ie()<=11,k=i();function l(p){return j?p[k]==='\n':p.tagName==='BR';}var m=j?g.createElement("span",{key:"A"},'\n'):g.createElement("br",{key:"A"}),n=j?g.createElement("span",{key:"B"},'\n'):g.createElement("br",{key:"B"}),o=g.createClass({displayName:"TextEditorTextNode",shouldComponentUpdate:function(p){var q=g.findDOMNode(this),r=p.children==='';if(r)return !l(q);return q[k]!==p.children;},componentWillUpdate:function(){this.forceFlag=!this.forceFlag;},render:function(){if(this.props.children==='')return this.forceFlag?m:n;return g.createElement("span",{key:this.forceFlag?'A':'B'},this.props.children);}});e.exports=o;},null);
__d("DocumentStringKey",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={stringify:function(h){return '_'+h;},unstringify:function(h){return h.slice(1);}};e.exports=g;},null);
__d("findRanges",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i,j){var k=0,l=0,m;for(var n=0;n<h.length;n++){l++;m=h[n];if(m!==h[n+1]){if(i(m))j(k,l);k=l;}}}e.exports=g;},null);
__d("encodeEntityRanges",["DocumentStringKey","UnicodeUtils","findRanges"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h,k=j.strlen;function l(m,n,o){var p=[];i(n,function(q){return typeof q=='string';},function(q,r){var s=n[q];p.push({offset:k(m.slice(0,q)),length:k(m.slice(q,r)),key:Number(o[g.stringify(s)])});});return p;}e.exports=l;},null);
__d("encodeInlineStyleRanges",["ComposedInlineStyle","UnicodeUtils","findRanges","getObjectValues"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=[];function l(n,o,p){var q=[],r=o.map(function(s){return s&p;});i(r,function(s){return !!s;},function(s,t){q.push({offset:h.strlen(n.slice(0,s)),length:h.strlen(n.slice(s,t)),style:p});});return q;}function m(n,o){var p=j(g).filter(function(q){return !!q;});return Array.prototype.concat.apply(k,p.map(function(q){return l(n,o,q);}));}e.exports=m;},null);
__d("encodeBlocks",["DocumentEntity","DocumentStringKey","encodeEntityRanges","encodeInlineStyleRanges","isEmpty","mapObject"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();function m(n){var o=n.getBlockMap(),p=0,q={},r=[];o.forEach(function(u,v){u.findEntityRanges(function(z){return z.getEntity()!==null;},function(z,aa){var ba=h.stringify(u.getEntityAt(z));if(!q.hasOwnProperty(ba))q[ba]=''+(p++);});var w=u.getInlineStyles().toArray(),x=u.getEntities().toArray(),y=u.getText();r.push({key:v,text:y,type:u.getType(),depth:u.getDepth(),inlineStyleRanges:j(y,w),entityRanges:i(y,x,q)});});var s=Object.keys(q),t={};s.forEach(function(u,v){var w=g.get(h.unstringify(u)),x=null,y=null,z=w.getData();if(z){x=z.id||null;y=l(z,function(aa){return ''+aa;});delete y.id;}t[v]={id:x,type:w.getType(),data:k(y)?(void 0):y};});return {entityMap:t,blocks:r};}e.exports=m;},null);
__d("TextEditorBanzai",["BanzaiScuba","containsNode","encodeBlocks"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=3,k={logSetSelectionError:function(q,r){var s=n();s.addNormal('error_type','setSelection');var t=r,u=t[0],v=t[1],w=t[2],x=t[3],y=t[4];s.addNormal('selection_state',u.serialize());var z=l(v);s.addNormal('node_html',z);s.addNormal('selection_params','Key: '+w+', Start: '+x+', End: '+y);s.addNormal('error_text',q.message);s.post();},logGetSelectionError:function(q,r){var s=n();s.addNormal('error_type','getSelection');var t=r,u=t[0],v=t[1],w=u.getCurrentContent(),x=i(w),y=x.blocks;y.forEach(function(ca){ca.length=ca.text.length;delete ca.text;});var z=u.getSelection();s.addNormal('content_state',JSON.stringify(y));s.addNormal('selection_state',z.serialize());s.addNormal('error_text',q.message);var aa=l(v);s.addNormal('node_html',aa);var ba=o(v);s.addNormal('dom_selection',ba);s.post();}};function l(q){if(!q)return '[empty]';var r=m(q);return r.nodeType===j?r.textContent:r.innerHTML;}function m(q){if(q.nodeType===j){var r=q.textContent.length;return document.createTextNode('[text '+r+']');}var s=q.cloneNode(),t=q.childNodes;for(var u=0;u<t.length;u++)s.appendChild(m(t[u]));return s;}function n(){return new g('text_editor_error_log',null,{addBrowserFields:true});}function o(q){if(!a.getSelection)return '[not available]';var r=a.getSelection(),s=r.anchorNode,t=r.anchorOffset,u=r.focusNode,v=r.focusOffset;s=p(s,q);u=p(u,q);return JSON.stringify({anchorNode:s,anchorOffset:t,focusNode:u,focusOffset:v});}function p(q,r){if(!q)return '[none]';if(!h(r,q))return '[outside root]';return l(q);}e.exports=k;},null);
__d("setDocumentSelection",["ErrorUtils","TextEditorBanzai","containsNode"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(n,o,p,q,r){var s=[n,o,p,q,r];return g.applyWithGuard(k,null,s,function(t){return h.logSetSelectionError(t,s);},'TextEditor:setSelection');}function k(n,o,p,q,r){if(!i(document.documentElement,o))return;var s=a.getSelection(),t=n.getAnchorKey(),u=n.getAnchorOffset(),v=n.getFocusKey(),w=n.getFocusOffset(),x=n.getIsBackward();if(!s.extend&&x){var y=t,z=u;t=v;u=w;v=y;w=z;x=false;}var aa=(t===p&&q<=u&&r>=u),ba=(v===p&&q<=w&&r>=w);if(aa&&ba){s.removeAllRanges();m(s,o,u-q);l(s,o,w-q);return;}if(!x){if(aa){s.removeAllRanges();m(s,o,u-q);}if(ba)l(s,o,w-q);}else{if(ba){s.removeAllRanges();m(s,o,w-q);}if(aa){var ca=s.focusNode,da=s.focusOffset;s.removeAllRanges();m(s,o,u-q);l(s,ca,da);}}}function l(n,o,p){if(n.extend){n.extend(o,p);}else{var q=n.getRangeAt(0);q.setEnd(o,p);n.addRange(q.cloneRange());}}function m(n,o,p){var q=document.createRange();q.setStart(o,p);n.addRange(q);}e.exports=j;},null);
__d("TextEditorLeaf.react",["DocumentCharacters","React","SelectionState","TextEditorTextNode.react","setDocumentSelection"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=h,m=l.PropTypes,n=g.SOFT_NEWLINE,o=3,p=h.createClass({displayName:"TextEditorLeaf",propTypes:{selection:m.instanceOf(i),start:m.number.isRequired,blockKey:m.string.isRequired,text:m.string.isRequired,style:m.number,inlineStyleFn:m.func.isRequired,isLast:m.bool.isRequired},_setSelection:function(){var q=this.props.selection;if(q==null||!q.getHasFocus())return;var r=this.props.start,s=r+this.props.text.length,t=this.props.blockKey;if(!q.hasEdgeWithin(t,r,s))return;var u=h.findDOMNode(this),v=u.firstChild,w;if(v.nodeType===o){w=v;}else if(v.tagName==='BR'){w=u;}else w=v.firstChild;k(q,w,t,r,s);},shouldComponentUpdate:function(q){return (h.findDOMNode(this.refs.leaf).textContent!==q.text||q.forceSelection);},componentDidUpdate:function(){this._setSelection();},componentDidMount:function(){this._setSelection();},render:function(){var q=this.props.text;if(q.endsWith(n)&&this.props.isLast)q+=n;var r;if(this.props.style)r=this.props.inlineStyleFn(this.props.style);return (h.createElement("span",{"data-offset-key":this.props.offsetKey,className:r,ref:"leaf"},h.createElement(j,null,q)));}});e.exports=p;},null);
__d("getScrollPosition",["getDocumentScrollElement","getUnboundedScrollPosition"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';function i(j){var k=g();if(j===window)j=k;var l=h(j),m=j===k?document.documentElement:j,n=j.scrollWidth-m.clientWidth,o=j.scrollHeight-m.clientHeight;l.x=Math.max(0,Math.min(l.x,n));l.y=Math.max(0,Math.min(l.y,o));return l;}e.exports=i;},null);
__d("TextEditorBlock.react",["AbstractDocumentDecorator","ContentBlock","DocumentOffsetKey","ElementForBlockType","React","SelectionState","Style","TextEditorLeaf.react","UnicodeBidiDirection","cx","getElementPosition","getScrollPosition","getViewportDimensions","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u=k,v=u.PropTypes,w=o.LTR,x=o.RTL,y=10,z=k.createClass({displayName:"TextEditorBlock",propTypes:{block:v.instanceOf(h).isRequired,tree:v.object.isRequired,selection:v.instanceOf(l).isRequired,decorator:v.instanceOf(g),forceSelection:v.bool.isRequired,direction:v.string.isRequired,blockProps:v.object,startIndent:v.bool,blockStyleFn:v.func.isRequired,inlineStyleFn:v.func.isRequired},shouldComponentUpdate:function(ba){return (this.props.block!==ba.block||this.props.tree!==ba.tree||this.props.direction!==ba.direction||(aa(ba.selection,ba.block.getKey())&&ba.forceSelection));},componentDidMount:function(){var ba=this.props.selection,ca=ba.getEndKey();if(!ba.getHasFocus()||ca!==this.props.block.getKey())return;var da=k.findDOMNode(this),ea=m.getScrollParent(da),fa=r(ea),ga;if(ea===window){var ha=q(da),ia=ha.y+ha.height,ja=s().height;ga=ia-ja;if(ga>0)window.scrollTo(fa.x,fa.y+ga+y);}else{var ka=da.offsetHeight+da.offsetTop,la=ea.offsetHeight+fa.y;ga=ka-la;if(ga>0)ea.scrollTop+=ga+y;}},_renderChildren:function(){var ba=this.props.block,ca=ba.getKey(),da=ba.getText(),ea=this.props.tree.size-1,fa=aa(this.props.selection,ca);return this.props.tree.map(function(ga,ha){var ia=ga.get('leaves'),ja=ia.size-1,ka=ia.map(function(pa,qa){var ra=i.encode(ca,ha,qa),sa=pa.get('start'),ta=pa.get('end');return (k.createElement(n,{key:ra,offsetKey:ra,blockKey:ca,start:sa,selection:fa?this.props.selection:null,forceSelection:this.props.forceSelection,text:da.slice(sa,ta),style:ba.getInlineStyleAt(sa),inlineStyleFn:this.props.inlineStyleFn,isLast:ha===ea&&qa===ja}));}.bind(this)).toArray(),la=ga.get('decoratorKey');if(la==null)return ka;var ma=this.props.decorator.getComponentForKey(la);if(!ma)return ka;var na=this.props.decorator.getPropsForKey(la),oa=i.encode(ca,ha,0);return (k.createElement(ma,k.__spread({},na,{key:oa,entityKey:ba.getEntityAt(ga.get('start')),offsetKey:oa}),ka));}.bind(this)).toArray();},render:function(){var ba=this.props.block,ca=ba.getKey(),da=ba.getDepth(),ea=j.getElement(ba.getType()),fa=t(this.props.blockStyleFn(ba.getType()),(("_209g")+(this.props.direction===w?' '+"_2vxa":'')+(this.props.direction===x?' '+"_2vxb":'')));if(ea==='li'){var ga=this.props.startIndent;fa=t(fa,((ga&&da===0?"_2yj9":'')+(ga&&da===1?' '+"_2yja":'')+(ga&&da===2?' '+"_2yjb":'')+(ga&&da===3?' '+"_2yje":'')+(ga&&da===4?' '+"_2yjf":'')+(da===0?' '+"_2yjg":'')+(da===1?' '+"_2yjh":'')+(da===2?' '+"_2yji":'')+(da===3?' '+"_2yjj":'')+(da===4?' '+"_2yjn":'')));}var ha=Object.assign({'data-block':true,'data-offset-key':i.encode(ca,0,0),className:fa},this.props.blockProps);return (k.createElement(ea,k.__spread({},ha),this._renderChildren()));}});function aa(ba,ca){return (ba.getAnchorKey()===ca||ba.getFocusKey()===ca);}e.exports=z;},null);
__d("UnicodeBidiService",["Locale","UnicodeBidi","UnicodeBidiDirection","invariant"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';function k(l){if(!l)l=g.getDirection();j(i.isStrong(l));this.defaultDir=l;this.reset();}k.prototype.reset=function(){this.lastDir=this.defaultDir;};k.prototype.getDirection=function(l){this.lastDir=h.getDirection(l,this.lastDir);return this.lastDir;};e.exports=k;},null);
__d("TextEditorContents.react",["DocumentOffsetKey","EditorState","ElementForBlockType","React","TextEditorBlock.react","UnicodeBidiService","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=j,o=n.PropTypes,p=j.createClass({displayName:"TextEditorContents",propTypes:{bidiService:o.instanceOf(l).isRequired,blockRendererFn:o.func,blockStyleFn:o.func.isRequired,editorState:o.instanceOf(h).isRequired,inlineStyleFn:o.func.isRequired},shouldComponentUpdate:function(r){var s=this.props.editorState,t=r.editorState,u=s.getSelection().getHasFocus(),v=t.getSelection().getHasFocus();if(u!==v)return true;var w=t.getNativelyRenderedContent(),x=s.isInCompositionMode(),y=t.isInCompositionMode();if(s===t||(w!==null&&t.getCurrentContent()===w)||(x&&y))return false;var z=s.getCurrentContent(),aa=t.getCurrentContent(),ba=s.getDecorator(),ca=t.getDecorator();return (x!==y||z!==aa||ba!==ca||t.mustForceSelection());},render:function(){var r=this.props.editorState,s=r.getCurrentContent(),t=r.getSelection(),u=r.mustForceSelection(),v=s.getBlocksAsArray(),w=[],x=null,y=null,z=null,aa,ba,ca,da,ea,fa,ga,ha;for(var ia=0;ia<v.length;ia++){ca=v[ia];da=ca.getKey();ea=ca.getText();fa=ca.getType();var ja=this.props.blockRendererFn(ca)||q,ka=ja.component,la=ja.props;aa=ka;ga=j.createElement(aa,{key:da,tree:r.getBlockTree(da),decorator:r.getDecorator(),block:ca,selection:t,forceSelection:u,direction:this.props.bidiService.getDirection(ea),blockProps:la,startIndent:z===null||ca.getDepth()>z,blockStyleFn:this.props.blockStyleFn,inlineStyleFn:this.props.inlineStyleFn});ha=i.getWrapperElement(fa);if(ha){if(y!==ha){ba=[];x=j.createElement(ha,{className:"_4noe",key:da+'-wrap',"data-offset-key":g.encode(da,0,0)},ba);y=ha;w.push(x);}z=ca.getDepth();ba.push(ga);}else{ba=null;x=null;y=null;z=null;w.push(ga);}}return j.createElement("div",{"data-contents":"true"},w);}}),q={component:k,props:null};e.exports=p;},null);
__d("DocumentRemovableWord",["TokenizeUtil"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g.getPunctuation();h=h.replace("\'","").slice(1,-1);var i='\\s'+h,j='^('+'['+i+']*'+'[^'+i+']+'+'|['+i+']+'+')',k=new RegExp(j),l='('+'[^'+i+']+'+'['+i+']*'+'|['+i+']+'+')$',m=new RegExp(l);function n(p,q){var r=q?m.exec(p):k.exec(p);return r?r[0]:null;}var o={getBackward:function(p){return n(p,true);},getForward:function(p){return n(p,false);}};e.exports=o;},null);
__d("TextEditorModes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={EDIT:0,COMPOSITE:1,DRAG:2,RENDER:3,CUT:4};e.exports=g;},null);
__d("fillArray",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){var j=new Array(h);for(var k=0;k<h;k++)j[k]=i;return j;}e.exports=g;},null);
__d("getSafeBodyFromHTML",["UserAgent"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g.isBrowser('IE <= 9');function i(j){var k,l=null;if(!h&&document.implementation&&document.implementation.createHTMLDocument){k=document.implementation.createHTMLDocument('foo');k.documentElement.innerHTML=j;l=k.getElementsByTagName('body')[0];}return l;}e.exports=i;},null);
__d("getSelectionOffsetKeyForNode",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){return h.getAttribute&&h.getAttribute('data-offset-key');}e.exports=g;},null);
__d("findAncestorOffsetKey",["getSelectionOffsetKeyForNode"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){while(i&&i!==document.documentElement){var j=g(i);if(j!=null)return j;i=i.parentNode;}return null;}e.exports=h;},null);
__d("getUpdatedSelectionState",["DocumentOffsetKey"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j,k,l,m){var n=i.getSelection(),o=g.decode(j),p=o.blockKey,q=i.getBlockTree(p).getIn([o.decoratorKey,'leaves',o.leafKey]),r=g.decode(l),s=r.blockKey,t=i.getBlockTree(s).getIn([r.decoratorKey,'leaves',r.leafKey]),u=q.get('start'),v=t.get('start'),w=q?u+k:null,x=t?v+m:null,y=(n.getAnchorKey()===p&&n.getAnchorOffset()===w&&n.getFocusKey()===s&&n.getFocusOffset()===x);if(y)return n;var z=false;if(p===s){var aa=q.get('end'),ba=t.get('end');if(v===u&&ba===aa){z=m<k;}else z=v<u;}else{var ca=i.getCurrentContent().getBlockMap().keySeq().skipUntil(function(da){return da===p||da===s;}).first();z=ca===s;}return n.merge({anchorKey:p,anchorOffset:w,focusKey:s,focusOffset:x,isBackward:z});}e.exports=h;},null);
__d("getDocumentSelection",["DocumentCharacters","ErrorUtils","TextEditorBanzai","findAncestorOffsetKey","getSelectionOffsetKeyForNode","getUpdatedSelectionState","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=g.SOFT_NEWLINE;function o(u,v){var w=[u,v];return h.applyWithGuard(p,null,w,function(x){return i.logGetSelectionError(x,w);},'TextEditor:getSelection');}function p(u,v){var w=a.getSelection();if(w.rangeCount===0)return {selectionState:u.getSelection().set('hasFocus',false),needsRecovery:false};var x=w.anchorNode,y=w.focusNode,z=w.anchorOffset,aa=w.focusOffset,ba=x.nodeType===Node.TEXT_NODE,ca=y.nodeType===Node.TEXT_NODE;if(ba&&ca)return {selectionState:l(u,j(x),z,j(y),aa),needsRecovery:false};var da=null,ea=null;if(ba){da={key:j(x),offset:z};ea=s(v,y,aa);}else if(ca){ea={key:j(y),offset:aa};da=s(v,x,z);}else{da=s(v,x,z);ea=s(v,y,aa);}return {selectionState:l(u,da.key,da.offset,ea.key,ea.offset),needsRecovery:true};}function q(u){while(u.firstChild&&k(u.firstChild))u=u.firstChild;return u;}function r(u){while(u.lastChild&&k(u.lastChild))u=u.lastChild;return u;}function s(u,v,w){var x=j(v);m(x!=null||u===v||u.firstChild===v);if(u===v){v=v.firstChild;m(v.getAttribute('data-contents')==='true');if(w>0)w=v.childNodes.length;}if(w===0)return {key:x||k(q(v)),offset:0};var y=v.childNodes[w-1],z,aa;if(!k(y)){z=x;aa=t(y);}else{var ba=r(y);z=k(ba);aa=t(ba);}return {key:z,offset:aa};}function t(u){var v=u.textContent;return v===n?0:v.length;}e.exports=o;},null);
__d("getEntityKeyForSelection",["ComposedEntityMutability","DocumentEntity"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.MUTABLE;function k(m,n){var o;if(n.isCollapsed()){var p=n.getAnchorKey(),q=n.getAnchorOffset();if(q>0){o=m.getBlockForKey(p).getEntityAt(q-1);return l(o);}return null;}var r=n.getStartKey(),s=n.getStartOffset(),t=m.getBlockForKey(r);o=s===t.getLength()?null:t.getEntityAt(s);return l(o);}function l(m){if(m){var n=h.get(m);return n.getMutability()===j?m:null;}return null;}e.exports=k;},null);
__d("getTextContentFromFiles",["DocumentCharacters"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g.BLOCK_DELIMITER,i=/\.textClipping$/,j={'text/plain':true,'text/html':true,'text/rtf':true};function k(m,n){var o=0,p=[];m.forEach(function(q){l(q,function(r){o++;r&&p.push(r);if(o==m.length)n(p.join(h));});});}function l(m,n){if(!a.FileReader||(m.type&&!(m.type in j))){n('');return;}if(m.type===''&&i.test(m.name)){n(m.name.replace(i,''));return;}var o=new FileReader();o.onload=function(){n(o.result);};o.onerror=function(){n('');};o.readAsText(m);}e.exports=k;},null);
__d("TextEditorEditHandler",["BlockTree","DataTransfer","DocumentCharacters","DocumentCommands","DocumentModifier","DocumentOffsetKey","DocumentRemovableWord","DocumentRemovalDirection","EditorChangeType","EditorState","Keys","React","TextEditorModes","TextEditorPasteHandler","UnicodeUtils","UserAgent","areEqual","createOrderedMapFromBlockArray","findAncestorOffsetKey","getActiveElement","getContentStateFragment","getDocumentSelection","getEntityKeyForSelection","getTextContentFromFiles","isSelectionAtLeafStart"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){b.__markCompiled&&b.__markCompiled();'use strict';var fa=i.SOFT_NEWLINE,ga=v.isEngine('WebKit'),ha=null,ia={onFocus:function(jb){var kb=this.props.editorState,lb=kb.getSelection();if(lb.getHasFocus())return;var mb=lb.set('hasFocus',true);this.props.onFocus&&this.props.onFocus(jb);this.update(p.acceptSelection(kb,mb));},onBlur:function(jb){if(ga&&z()===document.body)a.getSelection().removeAllRanges();var kb=this.props.editorState,lb=kb.getSelection();if(!lb.getHasFocus())return;var mb=lb.set('hasFocus',false);this.props.onBlur&&this.props.onBlur(jb);this.update(p.acceptSelection(kb,mb));},onBeforeInput:function(jb){var kb=jb.data;if(!kb)return;if(this.props.handleBeforeInput&&this.props.handleBeforeInput(kb)){jb.preventDefault();return;}var lb=this.props.editorState,mb=lb.getSelection();if(!mb.isCollapsed()){jb.preventDefault();this.update(ma(lb,kb,lb.getCurrentInlineStyle(),ca(lb.getCurrentContent(),lb.getSelection())));return;}var nb=!ea(lb),ob=ma(lb,kb,lb.getCurrentInlineStyle(),ca(lb.getCurrentContent(),lb.getSelection()));if(!nb){jb.preventDefault();this.update(ob);return;}var pb=mb.getAnchorKey(),qb=lb.getBlockTree(pb),rb=g.getFingerprint(qb),sb=g.getFingerprint(ob.getBlockTree(pb));if(ib(kb)||rb!==sb){jb.preventDefault();}else ob=p.set(ob,{nativelyRenderedContent:ob.getCurrentContent()});this.update(ob);},onSelect:function(jb){if(this._blockSelectEvents)return;var kb=this.props.editorState,lb=ba(kb,r.findDOMNode(this.refs.editorContainer).firstChild),mb=lb.selectionState;if(mb!==kb.getSelection()){if(!!lb.needsRecovery){kb=p.forceSelection(kb,mb);}else kb=p.acceptSelection(kb,mb);this.update(kb);}},onKeyDown:function(jb){var kb=jb.which,lb=this.props.editorState;switch(kb){case q.RETURN:jb.preventDefault();if(!this.props.handleReturn||!this.props.handleReturn(jb))this.update(xa(lb));return;case q.ESC:jb.preventDefault();this.props.onEscape&&this.props.onEscape(jb);return;case q.TAB:this.props.onTab&&this.props.onTab(jb);return;case q.UP:this.props.onUpArrow&&this.props.onUpArrow(jb);return;case q.DOWN:this.props.onDownArrow&&this.props.onDownArrow(jb);return;}var mb=this.props.keyBindingFn(jb);if(!mb)return;jb.preventDefault();if(this.props.handleKeyCommand&&this.props.handleKeyCommand(mb))return;if(mb===j.UNDO){ka(lb,this.update);return;}var nb=ja(mb,lb);if(nb!==lb)this.update(nb);},onCharacterData:function(jb){var kb=y(jb),lb=this.props.editorState,mb=lb.getSelection(),nb=lb.getCurrentContent(),ob=l.decode(kb),pb=ob.blockKey,qb=lb.getBlockTree(pb),rb=qb.getIn([ob.decoratorKey,'leaves',ob.leafKey]),sb=nb.getBlockForKey(pb);if(sb.getText().slice(rb.start,rb.end)===jb.textContent)return;var tb=lb.getSelection().merge({anchorOffset:rb.start,focusOffset:rb.end,isBackward:false}),ub=k.replaceText(nb,tb,jb.textContent,sb.getInlineStyleAt(rb.start),null),vb=ba(this.props.editorState,r.findDOMNode(this.refs.editorContainer).firstChild),wb=ub.merge({selectionBefore:mb,selectionAfter:vb.selectionState});this.update(p.push(lb,wb,o.INSERT_CHARACTERS));},onDragStart:function(jb){this._internalDrag=true;this.setMode(s.DRAG);},onDragOver:function(jb){this._internalDrag=false;this.setMode(s.DRAG);jb.preventDefault();},onCompositionStart:function(jb){this.setRenderGuard();this.captureEditorDOM();this.setMode(s.COMPOSITE);this.update(p.set(this.props.editorState,{inCompositionMode:true}));},onCut:function(jb){var kb=this.props.editorState,lb=kb.getSelection();if(lb.isCollapsed()){jb.preventDefault();return;}this.setRenderGuard();this.captureEditorDOM();eb(kb,function(mb){this._clipboard=mb;this.setMode(s.CUT);setTimeout(function(){this.restoreEditorDOM();this.removeRenderGuard();this.exitCurrentMode();this.update(db(kb));}.bind(this),0);}.bind(this));},onCopy:function(){eb(this.props.editorState,function(jb){this._clipboard=jb;}.bind(this));},onPaste:function(jb){jb.preventDefault();var kb=new h(jb.clipboardData);if(!kb.isRichText()){var lb=kb.getFiles(),mb=kb.getText();if(lb.length>0){if(this.props.handlePastedFiles&&this.props.handlePastedFiles(lb))return;da(lb,function(xb){xb=xb||mb;if(!xb)return;var yb=xb.split(fa),zb=t.processText(yb),ac=this.props.editorState,bc=x(zb),cc=k.replaceWithFragment(ac.getCurrentContent(),ac.getSelection(),bc);this.update(p.push(ac,cc,o.INSERT_FRAGMENT));}.bind(this));return;}}var nb,ob=kb.getText();this.props.onPasteRawText&&this.props.onPasteRawText(ob);if(ob)nb=ob.split(fa);if(!this.props.stripPastedStyles){if(this._clipboard){var pb=nb.filter(bb),qb=this._clipboard.toSeq().map(function(xb){return xb.getText();}).filter(bb).toArray(),rb=w(pb,qb);if(rb){this.update(cb(this.props.editorState,this._clipboard));return;}}var sb=kb.getHTML();if(sb){var tb=t.processHTML(sb);if(tb){var ub=x(tb);this.update(cb(this.props.editorState,ub));return;}}this._clipboard=null;}if(nb){var vb=t.processText(nb),wb=x(vb);this.update(cb(this.props.editorState,wb));}}};function ja(jb,kb){switch(jb){case j.UNDO:return ka(kb);case j.REDO:return la(kb);case j.DELETE:return oa(kb);case j.DELETE_WORD:return pa(kb);case j.BACKSPACE:return sa(kb);case j.BACKSPACE_WORD:return va(kb);case j.BACKSPACE_TO_END_OF_BLOCK:return wa(kb);case j.INSERT_BLOCK_DELIMITER:return xa(kb);case j.TRANSPOSE_CHARACTERS:return ya(kb);case j.MOVE_SELECTION_TO_START_OF_BLOCK:return za(kb);case j.MOVE_SELECTION_TO_END_OF_BLOCK:return ab(kb);case j.SECONDARY_CUT:return qa(kb);case j.SECONDARY_PASTE:return ra(kb);default:return kb;}}function ka(jb,kb){var lb=p.undo(jb);if(!jb.getNativelyRenderedContent()){kb(lb);return;}kb(p.set(jb,{nativelyRenderedContent:null}));setTimeout(function(){kb(lb);});}function la(jb){return p.redo(jb);}function ma(jb,kb,lb,mb){var nb=k.replaceText(jb.getCurrentContent(),jb.getSelection(),kb,lb,mb||null);return p.push(jb,nb,o.INSERT_CHARACTERS);}function na(jb,kb,lb){var mb=jb.getSelection(),nb=jb.getCurrentContent(),ob=mb;if(mb.isCollapsed()){if(lb===n.FORWARD){if(jb.isAtDocumentEnd())return nb;}else if(jb.isAtDocumentStart())return nb;ob=kb(jb);if(ob===mb)return nb;}return k.removeRange(nb,ob,lb);}function oa(jb){var kb=na(jb,function(mb){var nb=mb.getSelection(),ob=mb.getCurrentContent(),pb=nb.getAnchorKey(),qb=nb.getAnchorOffset(),rb=ob.getBlockForKey(pb).getText()[qb];return ua(mb,rb?u.getUTF16Length(rb,0):1);},n.FORWARD);if(kb===jb.getCurrentContent())return jb;kb=kb.set('selectionBefore',jb.getSelection());var lb=jb.getSelection().isCollapsed()?o.DELETE_CHARACTER:o.REMOVE_RANGE;return p.push(jb,kb,lb);}function pa(jb){var kb=na(jb,function(lb){var mb=lb.getSelection(),nb=mb.getStartOffset(),ob=mb.getStartKey(),pb=lb.getCurrentContent(),qb=pb.getBlockForKey(ob).getText().slice(nb),rb=m.getForward(qb)||'';return ua(lb,rb.length||1);},n.FORWARD);if(kb===jb.getCurrentContent())return jb;return p.push(jb,kb,o.REMOVE_RANGE);}function qa(jb){var kb=jb.getCurrentContent(),lb=jb.getSelection(),mb;if(lb.isCollapsed()){var nb=lb.getAnchorKey(),ob=kb.getBlockForKey(nb).getLength();if(ob===lb.getAnchorOffset())return jb;mb=lb.set('focusOffset',ob);}else mb=lb;ha=aa(kb,mb);var pb=k.removeRange(kb,mb,n.FORWARD);if(pb===kb)return jb;return p.push(jb,pb,o.REMOVE_RANGE);}function ra(jb){return (ha?cb(jb,ha):jb);}function sa(jb){var kb=na(jb,function(mb){var nb=mb.getSelection(),ob=mb.getCurrentContent(),pb=nb.getAnchorKey(),qb=nb.getAnchorOffset(),rb=ob.getBlockForKey(pb).getText()[qb-1];return ta(mb,rb?u.getUTF16Length(rb,0):1);},n.BACKWARD);if(kb===jb.getCurrentContent())return jb;kb=kb.set('selectionBefore',jb.getSelection());var lb=jb.getSelection().isCollapsed()?o.BACKSPACE_CHARACTER:o.REMOVE_RANGE;return p.push(jb,kb,lb);}function ta(jb,kb){var lb=jb.getSelection(),mb=jb.getCurrentContent(),nb=lb.getStartKey(),ob=lb.getStartOffset(),pb=nb,qb;if(kb>ob){var rb=mb.getKeyBefore(nb);pb=rb;var sb=mb.getBlockForKey(rb);qb=sb.getText().length;}else qb=ob-kb;return lb.merge({focusKey:pb,focusOffset:qb,isBackward:true});}function ua(jb,kb){var lb=jb.getSelection(),mb=lb.getStartKey(),nb=lb.getStartOffset(),ob=jb.getCurrentContent(),pb=mb,qb,rb=ob.getBlockForKey(mb);if(kb>(rb.getText().length-nb)){pb=ob.getKeyAfter(mb);qb=0;}else qb=nb+kb;return lb.merge({focusKey:pb,focusOffset:qb});}function va(jb){var kb=na(jb,function(lb){var mb=lb.getSelection(),nb=mb.getStartOffset();if(nb===0)return ta(lb,1);var ob=mb.getStartKey(),pb=lb.getCurrentContent(),qb=pb.getBlockForKey(ob).getText().slice(0,nb),rb=m.getBackward(qb)||'';return ta(lb,rb.length||1);},n.BACKWARD);if(kb===jb.getCurrentContent())return jb;return p.push(jb,kb,o.REMOVE_RANGE);}function wa(jb){var kb=na(jb,function(lb){var mb=lb.getSelection();if(mb.getStartOffset()===0)return ta(lb,1);return mb.merge({focusOffset:0,isBackward:true});},n.BACKWARD);if(kb===jb.getCurrentContent())return jb;return p.push(jb,kb,o.REMOVE_RANGE);}function xa(jb){var kb=k.splitBlock(jb.getCurrentContent(),jb.getSelection());return p.push(jb,kb,o.SPLIT_BLOCK);}function ya(jb){var kb=jb.getSelection();if(!kb.isCollapsed())return jb;var lb=kb.getAnchorOffset();if(lb===0)return jb;var mb=kb.getAnchorKey(),nb=jb.getCurrentContent(),ob=nb.getBlockForKey(mb),pb=ob.getLength();if(pb<=1)return jb;var qb,rb;if(lb===pb){qb=kb.set('anchorOffset',lb-1);rb=kb;}else{qb=kb.set('focusOffset',lb+1);rb=qb.set('anchorOffset',lb+1);}var sb=aa(nb,qb),tb=k.removeRange(nb,qb,n.BACKWARD),ub=tb.getSelectionAfter(),vb=ub.getAnchorOffset()-1,wb=ub.merge({anchorOffset:vb,focusOffset:vb}),xb=k.replaceWithFragment(tb,wb,sb),yb=p.push(jb,xb,o.INSERT_FRAGMENT);return p.acceptSelection(yb,rb);}function za(jb){var kb=jb.getSelection(),lb=kb.getStartKey();return p.set(jb,{selection:kb.merge({anchorKey:lb,anchorOffset:0,focusKey:lb,focusOffset:0,isBackward:false}),forceSelection:true});}function ab(jb){var kb=jb.getSelection(),lb=kb.getEndKey(),mb=jb.getCurrentContent(),nb=mb.getBlockForKey(lb).getLength();return p.set(jb,{selection:kb.merge({anchorKey:lb,anchorOffset:nb,focusKey:lb,focusOffset:nb,isBackward:false}),forceSelection:true});}function bb(jb){return jb.length>0;}function cb(jb,kb){var lb=k.replaceWithFragment(jb.getCurrentContent(),jb.getSelection(),kb);return p.push(jb,lb,o.INSERT_FRAGMENT);}function db(jb){var kb=k.removeRange(jb.getCurrentContent(),jb.getSelection(),n.FORWARD);return p.push(jb,kb,o.REMOVE_RANGE);}function eb(jb,kb){var lb=jb.getSelection();if(!lb.isCollapsed())kb(aa(jb.getCurrentContent(),lb));}var fb='\'',gb='\/',hb=v.isBrowser('Firefox');function ib(jb){return (hb&&(jb==fb||jb==gb));}e.exports=ia;},null);
__d("TextEditorDragHandler",["DataTransfer","DocumentModifier","EditorState","EditorChangeType","ex","findAncestorOffsetKey","getTextContentFromFiles","getUpdatedSelectionState"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';function o(event,s){var t,u;if(document.caretRangeFromPoint){var v=document.caretRangeFromPoint(event.x,event.y);t=v.startContainer;u=v.startOffset;}else if(event.rangeParent){t=event.rangeParent;u=event.rangeOffset;}else return null;var w=l(t);if(w===null){var x='';if(t.dataset&&t.dataset.reactid)x=' Node ID: '+t.dataset.reactid;throw new Error(k('Invalid range for drop event.'+x+' Offset: '+u));}return n(s,w,u,w,u);}var p={onDragEnd:function(){this.exitCurrentMode();},onDrop:function(s){var t=new g(s.nativeEvent.dataTransfer),u=this.props.editorState,v=o(s.nativeEvent,u);s.preventDefault();this.exitCurrentMode();if(v===null)return;var w=t.getFiles();if(w.length>0){if(this.props.handleDroppedFiles&&this.props.handleDroppedFiles(v,w))return;m(w,function(x){x&&this.update(r(u,v,x));}.bind(this));return;}if(this._internalDrag){this.update(q(u,v));return;}this.update(r(u,v,t.getText()));}};function q(s,t){var u=h.moveText(s.getCurrentContent(),s.getSelection(),t);return i.push(s,u,j.INSERT_FRAGMENT);}function r(s,t,u){var v=h.insertText(s.getCurrentContent(),t,u,s.getCurrentInlineStyle());return i.push(s,v,j.INSERT_FRAGMENT);}e.exports=p;},null);
__d("AbstractTextEditor.react",["AbstractTextEditorPlaceholder.react","AbstractTextEditorProps","DOMVector","EditorState","React","TextEditorCompositionHandler","TextEditorContents.react","TextEditorEditHandler","TextEditorDragHandler","TextEditorModes","UnicodeBidiService","UserAgent","cx","extendArray","requestAnimationFrame","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();'use strict';var w=a.MutationObserver||a.WebKitMutationObserver,x=(r.isBrowser('Safari')||r.isBrowser('Mobile Safari')),y=!!w;function z(ca){return function(da){if(!this.props.readOnly){var ea=this._handler&&this._handler[ca];ea&&ea.call(this,da);}};}function aa(ca){switch(ca){case p.EDIT:return n;case p.COMPOSITE:return l;case p.DRAG:return o;case p.CUT:case p.RENDER:return null;}}var ba=k.createClass({displayName:"AbstractTextEditor",getDefaultProps:h.getDefaultProps,_onBlur:z('onBlur'),_onFocus:z('onFocus'),_onSelect:z('onSelect'),_onKeyDown:z('onKeyDown'),_onKeyUp:z('onKeyUp'),_onKeyPress:z('onKeyPress'),_onMouseDown:z('onMouseDown'),_onMouseUp:z('onMouseUp'),_onCharacterData:z('onCharacterData'),_onCompositionStart:z('onCompositionStart'),_onCompositionEnd:z('onCompositionEnd'),_onDragStart:z('onDragStart'),_onDragOver:z('onDragOver'),_onDragEnd:z('onDragEnd'),_onDrop:z('onDrop'),_onCut:z('onCut'),_onCopy:z('onCopy'),_onPaste:z('onPaste'),_onBeforeInput:z('onBeforeInput'),_attachMutationObserver:function(){if(!w)return;var ca=[],da=function(){if(ca.length>1){var ea=ca[0],fa=ea.target;v(function(){if(this.isMounted()&&fa.parentNode)this._onCharacterData(fa);}.bind(this));}ca.length=0;}.bind(this);this._mutationObserver=new w(function(ea){if(this._guardAgainstRender)return;if(x){if(ca.length===0)u(da);t(ca,ea);}else{ca=ea;da();}}.bind(this));this._mutationObserver.observe(k.findDOMNode(this.refs.editorContainer),{characterDataOldValue:true,characterData:true,subtree:true});},_renderPlaceholder:function(){var ca=this.props.editorState.getCurrentContent(),da=(this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!ca.hasText());if(da)return (k.createElement(g,{text:this.props.placeholder,editorState:this.props.editorState,textAlignment:this.props.textAlignment}));},render:function(){var ca=this.props.textAlignment,da=(("_5yw9")+(ca==='left'?' '+"_48yc":'')+(ca==='right'?' '+"_48yd":'')+(ca==='center'?' '+"_48ye":'')),ea=this.props.editorState.getCurrentContent().hasText();return (k.createElement("div",{className:da},this._renderPlaceholder(),k.createElement("div",{className:"_5ywa",ref:"editorContainer"},k.createElement("div",{ref:"editor",title:ea?null:this.props.placeholder,role:this.props.role||"textbox","aria-activedescendant":this.props.ariaActiveDescendantID,"aria-autocomplete":this.props.ariaAutoComplete,"aria-expanded":this.props.ariaExpanded,"aria-owns":this.props.ariaOwneeID,"aria-haspopup":this.props.ariaHasPopup,className:"_54-z",onBlur:this._onBlur,onFocus:this._onFocus,onSelect:this._onSelect,onMouseUp:this._onMouseUp,onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp,onKeyPress:this._onKeyPress,onCut:this._onCut,onCopy:this._onCopy,onPaste:this._onPaste,onDragStart:this._onDragStart,onDragOver:this._onDragOver,onDragEnd:this._onDragEnd,onDrop:this._onDrop,onCompositionStart:this._onCompositionStart,onCompositionEnd:this._onCompositionEnd,onBeforeInput:this._onBeforeInput,spellCheck:y&&this.props.spellCheck,contentEditable:!this.props.readOnly},k.createElement(m,{bidiService:this._bidiService,blockRendererFn:this.props.blockRendererFn,blockStyleFn:this.props.blockStyleFn,editorState:this.props.editorState,inlineStyleFn:this.props.inlineStyleFn})))));},focus:function(){var ca=this.props.editorState,da=ca.getSelection().getHasFocus(),ea=i.getScrollPosition();k.findDOMNode(this.refs.editor).focus();window.scrollTo(ea.x,ea.y);if(da)return;this.update(j.forceSelection(ca,ca.getSelection()));},blur:function(){k.findDOMNode(this.refs.editor).blur();},componentDidMount:function(){this._renderedVersion=null;this._clipboard=null;this._clonedEditor=null;this._guardAgainstRender=false;this._handler=n;this._attachMutationObserver();},componentWillUpdate:function(ca){this._blockSelectEvents=true;this._bidiService.reset();},componentDidUpdate:function(){this._blockSelectEvents=false;},componentWillMount:function(){this._bidiService=new q();},componentWillUnmount:function(){if(this._mutationObserver){this._mutationObserver.disconnect();this._mutationObserver=null;}},setMode:function(ca){this._handler=aa(ca);},exitCurrentMode:function(){this.setMode(p.EDIT);},captureEditorDOM:function(){this._clonedEditor=k.findDOMNode(this.refs.editor).cloneNode(true);},restoreEditorDOM:function(){var ca=k.findDOMNode(this.refs.editorContainer);ca.innerHTML='';ca.appendChild(this._clonedEditor);this.focus();this._clonedEditor=null;},setRenderGuard:function(){this._guardAgainstRender=true;},removeRenderGuard:function(){this._guardAgainstRender=false;},update:function(ca){this.props.onChange(ca);}});e.exports=ba;},null);
__d("AbstractMentionsTextEditor.react",["AbstractTextEditor.react","AbstractTextEditorProps","DocumentModifier","EditorChangeType","EditorState","React","TypeaheadNavigation","getOrCreateDOMID","setImmediate","uniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=l,r=q.PropTypes,s=5,t=l.createClass({displayName:"AbstractMentionsTextEditor",propTypes:Object.assign({},h.propTypes,{mentionsSource:r.object,mentionCreationFn:r.func.isRequired,mentionResultsComponent:r.func.isRequired,mentionResultsProps:r.object,excludedEntries:r.object,handleContentReturn:r.func,onAddMention:r.func,onShowMentions:r.func}),getDefaultProps:h.getDefaultProps,componentWillMount:function(){this._viewID=p();},getInitialState:function(){return {highlightedMentionable:null,ariaActiveDescendantID:null,mentionableEntries:null,characterOffset:0};},_onShowMentions:function(v,w){var x=v&&v.length;if(!x){this.setState({highlightedMentionable:null,activeDescendantID:null,mentionableEntries:null,characterOffset:0});return;}var y=v.slice(0,s),z=this.props.typeaheadViewProps;if(z&&z.mentionSortFn)y.sort(z.mentionSortFn);this.setState({highlightedMentionable:v[0],mentionableEntries:y,characterOffset:w});if(this.props.onShowMentions)this.props.onShowMentions(y,w);},_onBlur:function(v){this.setState(this.getInitialState());this.props.onBlur&&this.props.onBlur(v);},_onFocus:function(v){this.props.mentionsSource&&this.props.mentionsSource.bootstrap();this.props.onFocus&&this.props.onFocus(v);},_handleReturn:function(v){if(this.state.highlightedMentionable){this._onMentionSelect(this.state.highlightedMentionable,v);return true;}else if(this.props.handleContentReturn&&this.props.handleContentReturn(v))return true;return false;},_onTab:function(v){if(this.state.highlightedMentionable){v.preventDefault();this._onMentionSelect(this.state.highlightedMentionable,v);}else if(this.props.onTab)this.props.onTab(v);},_onEscape:function(v){if(this.props.onEscape)this.props.onEscape(v);if(this.state.mentionableEntries){v.stopPropagation();this.setState(this.getInitialState());}},_onUpArrow:function(v){if(this.state.mentionableEntries){v.preventDefault();m.moveUp(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight);}else this.props.onUpArrow&&this.props.onUpArrow(v);},_onDownArrow:function(v){if(this.state.mentionableEntries){v.preventDefault();m.moveDown(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight);}else this.props.onDownArrow&&this.props.onDownArrow(v);},_onMentionHighlight:function(v){this.setState({highlightedMentionable:v});},_onMentionRenderHighlight:function(v){var w=n(v);this.setState({ariaActiveDescendantID:w});},_onMentionSelect:function(v,w){var x=this.props.editorState,y=x.getSelection(),z=x.getCurrentContent(),aa=y.getAnchorKey(),ba=y.getAnchorOffset(),ca=z.getBlockMap().get(aa),da=ba-u(ca.getText().substr(0,ba),v.getTitle(),this.state.characterOffset),ea=i.replaceText(z,y.set('anchorOffset',da),v.getTitle(),x.getCurrentInlineStyle(),this.props.mentionCreationFn(v)),fa=k.push(x,ea,j.INSERT_FRAGMENT);this.props.onChange(fa);this.setState(this.getInitialState());if(this.props.onAddMention){var ga=this.state.mentionableEntries.indexOf(v);this.props.onAddMention(v,ga,w);}},shouldComponentUpdate:function(v,w){return (this.props.editorState!==v.editorState||this.props.readOnly!==v.readOnly||this.state.mentionableEntries!==w.mentionableEntries||this.state.highlightedMentionable!==w.highlightedMentionable||this.state.ariaActiveDescendantID!==w.ariaActiveDescendantID);},componentDidUpdate:function(v){var w=this.props.editorState;if(w===v.editorState)return;var x=w.getSelection();if(x.getHasFocus()&&x.isCollapsed()){var y=w.getCurrentContent();if(this.props.mentionsSource)o(function(){this.props.mentionsSource.search(y,x,this._onShowMentions);}.bind(this));}},blur:function(){this.refs.abstractTextEditor.blur();},focus:function(){this.refs.abstractTextEditor.focus();},_renderMentionables:function(){var v=this.state.mentionableEntries;if(!v||!v.length)return null;var w=this.props.mentionResultsComponent;return (l.createElement(w,l.__spread({},this.props.mentionResultsProps,{viewID:this._viewID,selection:this.props.editorState.getSelection(),contextComponent:this,characterOffset:this.state.characterOffset,mentionableEntries:v||[],highlightedMentionable:this.state.highlightedMentionable,onMentionSelect:this._onMentionSelect,onMentionHighlight:this._onMentionHighlight,onMentionRenderHighlight:this._onMentionRenderHighlight})));},render:function(){var v=this.state.mentionableEntries,w=!!(v&&v.length),x=this.props.readOnly?null:'-2';return (l.createElement("div",{ref:"container",className:this.props.className,tabIndex:x},l.createElement(g,l.__spread({},this.props,{ref:"abstractTextEditor",role:"combobox",ariaActiveDescendantID:this.state.ariaActiveDescendantID,ariaAutoComplete:"list",ariaOwneeID:this._viewID,ariaExpanded:w,ariaHasPopup:w,onBlur:this._onBlur,onFocus:this._onFocus,onTab:this._onTab,onEscape:this._onEscape,onDownArrow:this._onDownArrow,onUpArrow:this._onUpArrow,handleReturn:this._handleReturn})),this._renderMentionables()));}});function u(v,w,x){for(var y=x;y<=w.length;y++)if(v.substr(-y)==w.substr(0,y))x=y;return x;}e.exports=t;},null);
__d("MentionResultsPropTypes",["React","SearchableEntry","SelectionState"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l={viewID:k.string.isRequired,selection:k.instanceOf(i).isRequired,contextComponent:k.object.isRequired,mentionableEntries:k.array.isRequired,highlightedMentionable:k.instanceOf(h),onMentionSelect:k.func.isRequired,onMentionHighlight:k.func.isRequired,onMentionRenderHighlight:k.func.isRequired};e.exports=l;},null);
__d("MentionsLayer.react",["Bootloader","Locale","MentionResultsPropTypes","React","areEqual"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=j,m=l.PropTypes,n=false,o=h.isRTL(),p,q,r,s,t=5,u=j.createClass({displayName:"MentionsLayer",propTypes:Object.assign({},i,{typeaheadView:m.func.isRequired,typeaheadViewProps:m.object}),getInitialState:function(){return {bootloaded:n};},componentWillMount:function(){if(!this.state.bootloaded)v(function(){this.isMounted()&&this.setState({bootloaded:true});}.bind(this));},_onMentionSelect:function(w,x){x.preventDefault();this.props.onMentionSelect(w,x);},shouldComponentUpdate:function(w,x){return (this.state.bootloaded!==x.bootloaded||!k(this.props.mentionableEntries,w.mentionableEntries)||this.props.highlightedMentionable!==w.highlightedMentionable||this.props.characterOffset!==w.characterOffset);},render:function(){if(!this.state.bootloaded)return null;var w=this.props.mentionableEntries,x=this.props.selection,y=(x.isCollapsed()&&x.getHasFocus()&&w&&w.length),z=null,aa=this.props.typeaheadViewProps,ba=false,ca=false;if(aa&&aa.positionAtContext){ba=true;ca=true;}else if(y)z=s(this.props.characterOffset,o);var da={};if(this.props.autoflip){da.ContextualLayerAutoFlip=q;da.ContextualLayerUpdateOnScroll=r;}var ea=this.props.typeaheadView;return (j.createElement(p,{shown:y,context:this.props.contextComponent,contextBounds:z,containerWidthMatchContext:ca,offsetY:t,position:"below",behaviors:da},j.createElement(ea,{id:this.props.viewID,viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,entries:w||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight,onRenderHighlight:this.props.onMentionRenderHighlight})));}});function v(w){g.loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(x,y,z,aa){p=x;q=y;r=z;s=aa;n=true;w();});}e.exports=u;},null);
__d("createMentionEntity",["ComposedEntityMutability","ComposedEntityType","DocumentEntity"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k){var l=k.getType().toLowerCase()==='user'?g.SEGMENTED:g.IMMUTABLE,m=k.getAuxiliaryData();return i.create(h.MENTION,l,{id:k.getUniqueID(),isWeak:m&&m.renderType==='non_member'});}e.exports=j;},null);
__d("MentionsInput.react",["AbstractMentionsTextEditor.react","EditorState","MentionsLayer.react","React","createMentionEntity","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=j,o=n.PropTypes,p=j.createClass({displayName:"MentionsInput",propTypes:{editorState:o.instanceOf(h).isRequired,mentionsSource:o.object,typeaheadView:o.func.isRequired,typeaheadViewPropTypes:o.object,spellCheck:o.bool,placeholder:o.string,className:o.string,autoflip:o.bool,handleContentReturn:o.func,handleDroppedFiles:o.func,handlePastedFiles:o.func,onAddMention:o.func,onShowMentions:o.func,onChange:o.func,onInputFocus:o.func,onInputBlur:o.func},blur:function(){this.refs.textEditor.blur();},focus:function(){if(this.refs.textEditor){this._doFocus();}else setTimeout(this._doFocus,0);},render:function(){var q=m(this.props.className,"_5yk1");return (j.createElement("div",{className:q,onClick:this.focus,onFocus:this.focus},j.createElement(g,j.__spread({},this.props,{mentionResultsComponent:i,mentionResultsProps:{typeaheadView:this.props.typeaheadView,typeaheadViewProps:this.props.typeaheadViewProps,autoflip:this.props.autoflip},mentionCreationFn:k,ref:"textEditor",className:"_5yk2",stripPastedStyles:true}))));},_doFocus:function(){if(this.isMounted())this.refs.textEditor.focus();}});e.exports=p;},null);
__d("ContentState",["DocumentCharacters","immutable"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g.SOFT_NEWLINE,j=h.Record({blockMap:null,selectionBefore:null,selectionAfter:null});for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(){if(j!==null)j.apply(this,arguments);}m.prototype.getBlockMap=function(){return this.blockMap;};m.prototype.getSelectionBefore=function(){return this.selectionBefore;};m.prototype.getSelectionAfter=function(){return this.selectionAfter;};m.prototype.getBlockForKey=function(n){return this.getBlockMap().get(n);};m.prototype.getKeyBefore=function(n){return this.getBlockMap().reverse().keySeq().skipUntil(function(o){return o===n;}).skip(1).first();};m.prototype.getKeyAfter=function(n){return this.getBlockMap().keySeq().skipUntil(function(o){return o===n;}).skip(1).first();};m.prototype.getBlockAfter=function(n){return this.getBlockMap().skipUntil(function(o,p){return p===n;}).skip(1).first();};m.prototype.getBlockBefore=function(n){return this.getBlockMap().reverse().skipUntil(function(o,p){return p===n;}).skip(1).first();};m.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray();};m.prototype.getLastBlock=function(){return this.getBlockMap().last();};m.prototype.getPlainText=function(n){return this.getBlockMap().map(function(o){return o.getText();}).join(n||i);};m.prototype.hasText=function(){var n=this.getBlockMap();return (n.size>1||n.first().getLength()>0);};e.exports=m;},null);
__d("createEmptySelectionState",["SelectionState"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i){return new g({anchorKey:i,anchorOffset:0,focusKey:i,focusOffset:0,isBackward:false,hasFocus:false});}e.exports=h;},null);
__d("createContentStateFromBlocks",["ContentState","createEmptySelectionState","createOrderedMapFromBlockArray"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(k){var l=i(k),m=h(l.first().getKey());return new g({blockMap:l,selectionBefore:m,selectionAfter:m});}e.exports=j;},null);
__d("createInitialEditorState",["EditorState","immutable","createEmptySelectionState"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(k,l){var m=k.getBlockMap().first().getKey();return g.create({currentContent:k,undoStack:h.Stack(),redoStack:h.Stack(),decorator:l||null,selection:i(m)});}e.exports=j;},null);
__d("createPlainBlocksFromText",["CharacterMetadata","ComposedBlockType","ContentBlock","immutable","generateBlockKey"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();function l(m){return m.map(function(n){var o=n.length;return new i({key:k(),text:n,type:h.UNSTYLED,characterList:j.List(j.Repeat(g.EMPTY,o))});});}e.exports=l;},null);
__d("createEmptyEditorState",["createContentStateFromBlocks","createInitialEditorState","createPlainBlocksFromText"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(k){var l=i(['']),m=g(l);return h(m,k);}e.exports=j;},null);
__d("getMentionsTextForContentState",["ComposedEntityType","DocumentCharacters","DocumentEntity","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=j.thatReturnsTrue,l=/[\\\]:]/g;function m(o){var p=o.getBlockMap().map(function(q){var r=q.getText(),s=[];q.findEntityRanges(k,function(t,u){s.push(n(r.slice(t,u),q.getEntityAt(t)));});return s.join('');});return p.join(h.SOFT_NEWLINE);}function n(o,p){if(p){var q=i.get(p);if(q.getType()===g.MENTION){o=o.replace(l,function(r){return '\\'+r;});return '@['+q.getData().id+':'+o+']';}else if(q.getType()===g.EMOTICON)return q.getData().originalEmoticon;}return o.replace('@[','@ [');}e.exports=m;},null);
__d("DocumentCompositeDecorator",["AbstractDocumentDecorator","immutable","fillArray"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j='.';for(var k in g)if(g.hasOwnProperty(k))m[k]=g[k];var l=g===null?null:g.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=g;function m(p){"use strict";this.$DocumentCompositeDecorator0=p.slice();}m.prototype.getDecorations=function(p){"use strict";var q=i(p.getText().length,null);this.$DocumentCompositeDecorator0.forEach(function(r,s){var t=0,u=r.getStrategy();u(p,function(v,w){if(n(q,v,w)){o(q,v,w,s+j+t);t++;}});});return h.List(q);};m.prototype.getComponentForKey=function(p){"use strict";var q=parseInt(p.split(j),10);return this.$DocumentCompositeDecorator0[q].getComponent();};m.prototype.getPropsForKey=function(p){"use strict";var q=parseInt(p.split(j),10);return this.$DocumentCompositeDecorator0[q].getProps();};function n(p,q,r){for(var s=q;s<r;s++)if(p[s]!=null)return false;return true;}function o(p,q,r,s){for(var t=q;t<r;t++)p[t]=s;}e.exports=m;},null);
__d("DocumentDecorator",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i,j){"use strict";this.$DocumentDecorator0=h;this.$DocumentDecorator1=i;this.$DocumentDecorator2=j||{};}g.prototype.getStrategy=function(){"use strict";return this.$DocumentDecorator0;};g.prototype.getComponent=function(){"use strict";return this.$DocumentDecorator1;};g.prototype.getProps=function(){"use strict";return this.$DocumentDecorator2;};e.exports=g;},null);
__d("EmoticonSpan.react",["DocumentEntity","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={smile:"_5uj7",frown:"_5uj8",tongue:"_5uj9",grin:"_5uja",gasp:"_5ujb",wink:"_5ujc",glasses:"_5ujd",sunglasses:"_5ujh",grumpy:"_5uji",unsure:"_5ujj",cry:"_5ujw",devil:"_5ujx",angel:"_5ujy",kiss:"_5ujz",heart:"_5uk7",kiki:"_5ukd",squint:"_5ukg",confused:"_5ukj",confused_rev:"_5ukl",upset:"_5ukp",pacman:"_5ukq",robot:"_5ukr",colonthree:"_5uks",penguin:"_5ukt",putnam:"_5uku",shark:"_5ukv",like:"_5ukw",poop:"_5ukx"},l=h.createClass({displayName:"EmoticonSpan",render:function(){var m=g.get(this.props.entityKey),n=m.getData().type,o=j("_1ty6",k[n]);return (h.createElement("span",{className:o,title:n,"data-offset-key":this.props.offsetKey},h.createElement("span",{className:"_5ukz"},this.props.children)));}});e.exports=l;},null);
__d("HashtagSpan.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"HashtagSpan",render:function(){return (g.createElement("span",{"data-offset-key":this.props.offsetKey,className:"_5u8n",spellCheck:false},this.props.children));}});e.exports=i;},null);
__d("MentionSpan.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"MentionSpan",render:function(){return (g.createElement("span",{"data-offset-key":this.props.offsetKey,className:"_5u8u",spellCheck:false},this.props.children));}});e.exports=i;},null);
__d("WeakMentionSpan.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"WeakMentionSpan",render:function(){return (g.createElement("span",{"data-offset-key":this.props.offsetKey,className:"_whq",spellCheck:false},this.props.children));}});e.exports=i;},null);
__d("getEntityMatcher",["DocumentEntity"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j){j=j||g.get;return function(k,l){k.findEntityRanges(function(m){var n=m.getEntity();return n!==null&&i(j(n));},l);};}e.exports=h;},null);
__d("getHashtagMatches",["getHashtagRegex"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g();function i(j,k){var l=j.getText(),m,n,o,p;while((m=h.exec(l))!==null){n=m.index+m[1].length;o=m[2];p=m[3];k(n,n+o.length+p.length);}}e.exports=i;},null);
__d("getMentionsInputDecorator",["ComposedEntityType","DocumentCompositeDecorator","DocumentDecorator","EmoticonSpan.react","HashtagSpan.react","MentionSpan.react","WeakMentionSpan.react","getEntityMatcher","getHashtagMatches"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=g.EMOTICON,q=g.MENTION,r;function s(){if(!r)r=new h([new i(n(function(t){var u=t.getData();return t.getType()===q&&u&&u.isWeak;}),m),new i(n(function(t){return t.getType()===q;}),l),new i(n(function(t){return t.getType()===p;}),j),new i(o,k)]);return r;}e.exports=s;},null);
__d("ShareDialogInput.react",["cx","React","ShareDialogDataSources","ShareDialogAudienceTypes","MentionsInput.react","XUITypeaheadView.react","createEmptyEditorState","getMentionsTextForContentState","getMentionsInputDecorator","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=h,s=r.PropTypes,t=h.createClass({displayName:"ShareDialogInput",propTypes:{activeAudience:function(u){if(!j.isValid(u.activeAudience))return new Error('The active audience is invalid.');},dataSources:s.instanceOf(i)},getInitialState:function(){return {editorState:m(o()),dataSource:this.props.dataSources.getSource(i.TYPES.MENTIONS)};},componentWillReceiveProps:function(u){if(u.activeAudience===j.MESSAGE){this.setState({dataSource:null});}else this.setState({dataSource:this.props.dataSources.getSource(i.TYPES.MENTIONS)});},onChange:function(u){this.setState({editorState:u});},onBlur:function(){var u=this.state.editorState.getCurrentContent(),v=n(u);if(this.props.onBlur)this.props.onBlur(v);},render:function(){var u=p._("Dites quelque chose \u00e0 propos de ceci...");return (h.createElement(k,{mentionsSource:this.state.dataSource,className:q(this.props.className,"_3s-5"),editorState:this.state.editorState,typeaheadView:l,placeholder:u,selectOnTab:false,spellCheck:true,onBlur:this.onBlur,onChange:this.onChange}));}});e.exports=t;},null);
__d("ShareDialogMetricMixin",["BanzaiScuba","React","Vector"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=null,k=null,l=null,m={_logHeights:function(event,n,o,p){var q=i.getViewportDimensions(),r=new g('osric_dimensions');r.addNormal('fbid',n);r.addNormal('event',event);r.addInteger('viewport_height',q.y);r.addInteger('screen_height',window.screen.height);if(o&&h.findDOMNode(o)){var s=i.getElementDimensions(h.findDOMNode(o));r.addInteger('dialog_height',s.y);}if(p&&h.findDOMNode(p)){var t=i.getElementDimensions(h.findDOMNode(p));r.addInteger('attachment_height',t.y);}r.post();},logLoadHeights:function(){this._logHeights('load',this.props.postId,this.refs.dialog,this.refs.attachment);},logPostHeights:function(){this._logHeights('post',this.props.postId,this.refs.dialog,this.refs.attachment);},logCancelHeights:function(){this._logHeights('cancel',this.props.postId,this.refs.dialog,this.refs.attachment);}};e.exports=m;},null);
__d("ShareDialogTagSummary.react",["React","AsyncRequest","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"ShareDialogTagSummary",propTypes:{people:l.array,place:l.object,action:l.object,object:l.object,feeling:l.object,actionIconId:l.string,feelingIconId:l.string},getInitialState:function(){return {socialText:null};},componentWillReceiveProps:function(n){if(!(n.people&&n.people.length>0)&&!(n.place)&&!(n.feeling)&&!(n.action&&n.object)){if(this.state.socialText)this.setState({socialText:null});return;}this._socialTextRequest=new h();var o={};if(n.people)o.people=n.people.map(function(r){return r.getUniqueID();});if(n.place)o.place=n.place.getTitle();if(n.feeling)o.feelingID=n.feeling.getUniqueID();if(n.feelingIconId)o.feelingIconID=n.feelingIconId;if(n.action&&n.object){o.actionID=n.action.getUniqueID();var p=n.object.getUniqueID(),q=n.object.getTitle();if(!p||p===q){o.objectStr=q;}else o.objectID=p;}if(n.actionIconId)o.actionIconID=n.actionIconId;o.iconPickerOpened=this.props.actionIconId!==n.actionIconId;this._socialTextRequest.setURI('/ajax/metacomposer/social_text.php').setData(o).setHandler(this._handleSocialText).send();},_handleSocialText:function(n){this.setState({socialText:n.getPayload().rendered});},render:function(){var n=j(this.props.className,"_3qg0");return (g.createElement("div",{className:n,dangerouslySetInnerHTML:this.state.socialText}));}});e.exports=m;},null);
__d("ShareDialogTaggerViewMixin",["React","TypeaheadViewPropTypes","Vector","cx","getScrollPosition"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l={propTypes:h,getDefaultProps:function(){return {role:'listbox'};},_renderItem:function(m){var n=m===this.props.highlightedEntry,o=this.getItemImpl();return (g.createElement(o,{key:m.getUniqueID(),entry:m,highlighted:n,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this._onRenderHighlight}));},_onRenderHighlight:function(m){var n=g.findDOMNode(this.refs.list),o=k(n),p=i.getElementDimensions(m),q=i.getElementDimensions(n),r=Math.floor(q.y/p.y),s=0;for(var t=0;t<n.childNodes.length;t++)if(n.childNodes[t]===m)s=t;var u=s*p.y;if(u<o.y){n.scrollTop=u;}else if(u>=(o.y+(r*p.y)))n.scrollTop=(s-r+1)*p.y;this.props.onRenderHighlight(m);},render:function(){var m=(("_4jp9")+(' '+"_599r")+(!this.props.entries.length?' '+"_599s":'')),n=this.props.entries.map(this._renderItem);return (g.createElement("ul",{className:m,id:this.props.ariaOwneeID,role:this.props.role,ref:"list"},n));}};e.exports=l;},null);
__d("ShareDialogTaggerView.react",["React","ShareDialogTaggerViewMixin","XUITypeaheadViewItem.react"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"ShareDialogTaggerView",mixins:[h],getItemImpl:function(){return i;}});e.exports=j;},null);
__d("ShareDialogTaggerPresenter",["ShareDialogTaggerView.react"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports={ViewRenderer:g,useLayer:true,layerPosition:'above'};},null);
__d("ShareDialogPeopleTagger.react",["cx","emptyFunction","fbt","React","Grid.react","XUITokenizer.react","ShareDialogTaggerPresenter"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=k.GridItem,o=j,p=o.PropTypes,q=j.createClass({displayName:"ShareDialogPeopleTagger",propTypes:{userId:p.string.isRequired,dataSource:p.object,initialPeople:p.array,onSelect:p.func},getDefaultProps:function(){return {onSelect:h,initialPeople:[]};},getInitialState:function(){return {people:this.props.initialPeople};},componentWillReceiveProps:function(r){if(r.initialPeople&&this.props.initialPeople!==r.initialPeople)this.setState({people:r.initialPeople});},_onAdd:function(r){var s=this.state.people,t=r.getUniqueID(),u=s.some(function(v){return v.getUniqueID()===t;});if(u){return;}else{s.push(r);this.setState({people:s});}this.props.onSelect(s);},_onRemove:function(r){var s=this.state.people,t=s.indexOf(r);if(t==-1)return;s.splice(t,1);this.setState({people:s});this.props.onSelect(s);},render:function(){var r={};r[this.props.userId]=true;return (j.createElement(k,{cols:2,className:"_o2h _2rlv"},j.createElement(n,{className:"_27tc",key:"prefix"},i._("Avec")),j.createElement(n,{className:"_2mzr",key:"suffix"},j.createElement(l,{presenter:m,focusedOnInit:true,excludedEntries:r,entries:this.state.people,className:"_2qvi _2qvj",placeholder:i._("Avec qui \u00eates-vous\u00a0?"),searchSource:this.props.dataSource,onAddEntryAttempt:this._onAdd,onRemoveEntryAttempt:this._onRemove}))));}});e.exports=q;},null);
__d("ShareDialogPlaceTagger.react",["cx","emptyFunction","fbt","React","Grid.react","XUITypeahead.react","ShareDialogTaggerPresenter"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=k.GridItem,o=j,p=o.PropTypes,q=j.createClass({displayName:"ShareDialogPlaceTagger",propTypes:{dataSource:p.object,initialPlace:p.object,onSelect:p.func,useCheckinBranding:p.bool},getDefaultProps:function(){return {onSelect:h};},getInitialState:function(){return {place:this.props.initialPlace,query:this.props.initialPlace?this.props.initialPlace.getTitle():''};},componentWillReceiveProps:function(r){if(r.initialPlace&&this.props.initialPlace!==r.initialPlace)this.setState({place:r.initialPlace});},_onChange:function(event){this.setState({query:event.target.value});},_onSelect:function(r){this.setState({place:r,query:r.getTitle()});this.props.onSelect(r);},_onClear:function(){this.setState({place:null,query:null});this.props.onSelect(null);},render:function(){return (j.createElement(k,{cols:2,className:"_5d39 _2rlv"},j.createElement(n,{className:"_27tc",key:"prefix"},i._("\u00c0")),j.createElement(n,{className:"_2mzr",key:"suffix"},j.createElement(l,{presenter:m,clearable:true,focusedOnInit:true,showEntriesOnFocus:true,selectedEntry:this.state.place,placeholder:this.props.useCheckinBranding?i._("O\u00f9 \u00e9tait-ce\u00a0?"):i._("O\u00f9 \u00eates-vous\u00a0?"),className:"_2qvi _2qvk",queryString:this.state.query,searchSource:this.props.dataSource,highlightOnSelect:true,onSelectAttempt:this._onSelect,onClear:this._onClear,onChange:this._onChange,tallInput:true}))));}});e.exports=q;},null);
__d("ShareDialogActionTaggerView.react",["React","ShareDialogTaggerViewMixin","ShareDialogActionTaggerItem.react"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"ShareDialogActionTaggerView",mixins:[h],getItemImpl:function(){return i;}});e.exports=j;},null);
__d("ShareDialogActionTaggerPresenter",["ShareDialogActionTaggerView.react"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports={ViewRenderer:g,useLayer:true,layerPosition:'above'};},null);
__d("ShareDialogActionTagger.react",["React","XUITypeahead.react","ShareDialogActionTaggerPresenter","cx","emptyFunction","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=g,n=m.PropTypes,o=g.createClass({displayName:"ShareDialogActionTagger",propTypes:{dataSource:n.object,action:n.object,onSelect:n.func},getDefaultProps:function(){return {onSelect:k};},getInitialState:function(){return {action:this.props.action,query:this.props.action?this.props.action.getTitle():''};},componentWillReceiveProps:function(p){if(p.action&&this.props.action!==p.action)this.setState({action:p.action});},_onChange:function(event){this.setState({query:event.target.value});},_onSelect:function(p){this.setState({action:p,query:p.getTitle()});this.props.onSelect(p);},_onClear:function(){this.setState({action:null,query:null});this.props.onSelect(null);},render:function(){return (g.createElement("div",{className:"_1dla _2rlv"},g.createElement(h,{presenter:i,focusedOnInit:true,showEntriesOnFocus:true,selectedEntry:this.state.action,placeholder:l._("Qu\u2019\u00eates-vous en train de faire\u00a0?"),className:"_2qvi _1dlb",queryString:this.state.query,searchSource:this.props.dataSource,onSelectAttempt:this._onSelect,onClear:this._onClear,onChange:this._onChange,tallInput:true})));}});e.exports=o;},null);
__d("RegexMatchSearchSource",["AbstractSearchSource","SearchableEntry"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();for(var i in g)if(g.hasOwnProperty(i))k[i]=g[i];var j=g===null?null:g.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=g;function k(l){"use strict";this.$RegexMatchSearchSource0=new RegExp(l);}k.prototype.searchImpl=function(l,m,n){"use strict";if(this.$RegexMatchSearchSource0.test(l)){var o=new h({uniqueID:l,title:l});m([o],l);return;}m([],l);};e.exports=k;},null);
__d("WebAsyncPlusRegexSearchSource",["AbstractSearchSource","invariant"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();for(var i in g)if(g.hasOwnProperty(i))k[i]=g[i];var j=g===null?null:g.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=g;function k(l){"use strict";this.$WebAsyncPlusRegexSearchSource0=l.asyncSource;this.$WebAsyncPlusRegexSearchSource1=l.regexSource;h(!!this.$WebAsyncPlusRegexSearchSource0);h(!!this.$WebAsyncPlusRegexSearchSource1);}k.prototype.bootstrapImpl=function(l){"use strict";this.$WebAsyncPlusRegexSearchSource0.bootstrap(l);};k.prototype.searchImpl=function(l,m,n){"use strict";var o=this.$WebAsyncPlusRegexSearchSource0;this.$WebAsyncPlusRegexSearchSource1.search(l,function(p){m(p,l);o.search(l,function(q){var r=false,s=[],t;for(var u=0;u<p.length;u++){t=p[u].getTitle();for(var v=0;v<q.length;v++)if(t===q[v].getTitle()){r=true;break;}if(!r){s.push(p[u]);}else r=false;}m(s.concat(q),l);},n);},n);};e.exports=k;},null);
__d("AbstractAsyncSearchSource",["AbstractSearchSource","SearchSourceCallbackManager","SearchableEntry","TokenizeUtil","copyProperties","emptyFunction","isValidUniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();for(var n in g)if(g.hasOwnProperty(n))p[n]=g[n];var o=g===null?null:g.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=g;function p(q,r,s){"use strict";this.$AbstractAsyncSearchSource0=q.bootstrapRequests;this.$AbstractAsyncSearchSource1=q.queryRequests;this.$AbstractAsyncSearchSource2=q.auxiliaryFields;this.$AbstractAsyncSearchSource3=q.asyncErrorHandler||l;this.$AbstractAsyncSearchSource4=q.packageFn||this.$AbstractAsyncSearchSource5;this.$AbstractAsyncSearchSource6=q.getAllForEmptyQuery;this.$AbstractAsyncSearchSource7=[];this.$AbstractAsyncSearchSource8=new h({parseFn:j.parse,matchFn:j.isQueryMatch,indexFn:q.indexFn});this.$AbstractAsyncSearchSource9=r;this.$AbstractAsyncSearchSourcea=s;}p.prototype.bootstrapImpl=function(q){"use strict";if(!this.$AbstractAsyncSearchSource0||!this.$AbstractAsyncSearchSource0.length){q();return;}var r=this.$AbstractAsyncSearchSource0.length,s=0;this.$AbstractAsyncSearchSource0.forEach(function(t){this.$AbstractAsyncSearchSourceb({},t,function(u){this.$AbstractAsyncSearchSource8.addLocalEntries(u);this.$AbstractAsyncSearchSource7=this.$AbstractAsyncSearchSource7.concat(u);s++;if(s===r){q();q=null;}}.bind(this));}.bind(this));};p.prototype.searchImpl=function(q,r,s){"use strict";if(this.$AbstractAsyncSearchSource6&&q===''){this.getBootstrappedEntries(function(y){r(y,q);});return;}var t=null,u={},v=this.$AbstractAsyncSearchSource8.search(q,function(y){if(!t){t=y;t.forEach(function(z){u[z.getUniqueID()]=true;});}else y.forEach(function(z){var aa=z.getUniqueID();if(!u[aa]){t.push(z);u[aa]=true;}});r(t,q);},s);if(!v||!this.$AbstractAsyncSearchSource1||!this.$AbstractAsyncSearchSource1.length)return;var w={value:q,existing_ids:t&&t.map(function(y){return y.getUniqueID();}).join(',')},x=this.$AbstractAsyncSearchSource1.length;this.$AbstractAsyncSearchSource1.forEach(function(y){this.$AbstractAsyncSearchSourceb(w,y,function(z){this.$AbstractAsyncSearchSourcec(z,q);x--;if(!x)this.$AbstractAsyncSearchSource8.setQueryStringAsExhausted(q);}.bind(this));},this);};p.prototype.getBootstrappedEntries=function(q){"use strict";return this.bootstrap(function(){return q(this.$AbstractAsyncSearchSource7||[]);}.bind(this));};p.prototype.getAllEntriesMap=function(){"use strict";return this.$AbstractAsyncSearchSource8.getAllEntriesMap();};p.prototype.$AbstractAsyncSearchSourceb=function(q,r,s){"use strict";this.$AbstractAsyncSearchSource9(q,r,function(t){return s(this.$AbstractAsyncSearchSourcea(t,this.$AbstractAsyncSearchSource4).filter(function(u){return !!u;}));}.bind(this),this.$AbstractAsyncSearchSource3);};p.prototype.$AbstractAsyncSearchSourced=function(q){"use strict";this.$AbstractAsyncSearchSource8.addLocalEntries(q);};p.prototype.$AbstractAsyncSearchSourcec=function(q,r){"use strict";if(q.length)this.$AbstractAsyncSearchSource8.addQueryEntries(q,r);};p.prototype.$AbstractAsyncSearchSource5=function(q,r){"use strict";var s=q.title||q.text,t=q.uniqueID||q.uid;if(!s||!m(t))return null;return new i({uniqueID:t,order:q.order||q.index||r,title:s,subtitle:q.subtitle||q.category||q.subtext,keywordString:q.keywordString||q.tokens,type:q.type,photo:q.photo,uri:q.uri||q.path,auxiliaryData:this.$AbstractAsyncSearchSourcee(q)});};p.prototype.$AbstractAsyncSearchSourcee=function(q){"use strict";var r;if(this.$AbstractAsyncSearchSource2){r={};for(var s in this.$AbstractAsyncSearchSource2){var t=this.$AbstractAsyncSearchSource2[s];r[s]=q[t];}}if(q.aux_data){r=r||{};k(r,q.aux_data);}return r;};e.exports=p;},null);
__d("WebAsyncSearchSource",["AbstractAsyncSearchSource","AbstractSearchSource","AsyncRequest","copyProperties"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();for(var k in h)if(h.hasOwnProperty(k))m[k]=h[k];var l=h===null?null:h.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=h;function m(n){"use strict";this.$WebAsyncSearchSource0=new g(n,this.$WebAsyncSearchSource1,this.$WebAsyncSearchSource2);}m.prototype.bootstrapImpl=function(n){"use strict";this.$WebAsyncSearchSource0.bootstrap(n);};m.prototype.searchImpl=function(n,o,p){"use strict";this.$WebAsyncSearchSource0.search(n,o,p);};m.prototype.getBootstrappedEntries=function(n){"use strict";return this.$WebAsyncSearchSource0.getBootstrappedEntries(n);};m.prototype.getAllEntriesMap=function(){"use strict";return this.$WebAsyncSearchSource0.getAllEntriesMap();};m.prototype.$WebAsyncSearchSource1=function(n,o,p,q){"use strict";new i(o.uri).setData(j({},n,o.data)).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(p).setErrorHandler(q).send();};m.prototype.$WebAsyncSearchSource2=function(n,o){"use strict";var p=n.getPayload(),q;if(Array.isArray(p)){q=p;}else if(p&&p.entries){q=p.entries;}else q=[];return q.map(o,this);};e.exports=m;},null);
__d("ShareDialogObjectTagger.react",["Grid.react","React","RegexMatchSearchSource","ShareDialogTaggerPresenter","WebAsyncPlusRegexSearchSource","WebAsyncSearchSource","XUITypeahead.react","cx","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=g.GridItem,q=h,r=q.PropTypes,s=h.createClass({displayName:"ShareDialogObjectTagger",propTypes:{userId:r.string.isRequired,action:r.object,object:r.object,onClearAction:r.func,onSelect:r.func},getDefaultProps:function(){return {onActionReset:o,onClearAction:o,onSelect:o};},getInitialState:function(){return {query:this.props.object?this.props.object.getTitle():'',object:this.props.object};},componentWillReceiveProps:function(t){if(t.object&&this.props.object!==t.object)this.setState({object:t.object});},componentDidMount:function(){var t=new l({getAllForEmptyQuery:true,bootstrapRequests:[{uri:'/ajax/metacomposer/attachment/og/typeahead/query/object_loader',data:{at_id:this.props.action.getUniqueID(),is_bootstrap:true,query:this.state.query,viewer:this.props.userId}}],queryRequests:[{uri:'/ajax/metacomposer/attachment/og/typeahead/query/object_loader',data:{at_id:this.props.action.getUniqueID(),query:this.state.query,is_bootstrap:false,viewer:this.props.userId}}]}),u=new i('.+'),v=new k({asyncSource:t,regexSource:u});this.setState({dataSource:v});},_onChange:function(event){this.setState({query:event.target.value});},_onSelect:function(t){this.setState({object:t,query:t.getTitle()});this.props.onSelect(t);},_onClear:function(){this.setState({object:null,query:null});this.props.onSelect(null);},_onBackspace:function(event){if(event.target.value==='')this.props.onClearAction();if(this.state.object&&event.target.value===this.state.object.getTitle())this.setState({object:null});},focusInput:function(){if(this.refs.typeahead&&!this.state.object)setTimeout(this.refs.typeahead.focusInput,1);},render:function(){if(!this.state.dataSource)return h.createElement("noscript",null);var t=this.props.action.getAuxiliaryData(),u=t?t.prompt:'';return (h.createElement(g,{cols:2,className:"_20qo _2rlv"},h.createElement(p,{onClick:this.props.onClearAction,className:"_27tc",key:"prefix"},this.props.action.getTitle()),h.createElement(p,{className:"_2mzr",key:"suffix"},h.createElement(m,{presenter:j,clearable:true,focusedOnInit:true,showEntriesOnFocus:true,selectedEntry:this.state.object,placeholder:u,className:"_2qvi _20qp",ref:"typeahead",queryString:this.state.query,searchSource:this.state.dataSource,highlightOnSelect:true,onSelectAttempt:this._onSelect,onBackspace:this._onBackspace,onChange:this._onChange,onClear:this._onClear,tallInput:true}))));}});e.exports=s;},null);
__d("ShareDialogFeelingTagger.react",["Grid.react","React","ShareDialogTaggerPresenter","XUITypeahead.react","cx","emptyFunction","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=g.GridItem,o=h,p=o.PropTypes,q=h.createClass({displayName:"ShareDialogFeelingTagger",propTypes:{dataSource:p.object,initialFeeling:p.object,onSelect:p.func},getDefaultProps:function(){return {onSelect:l};},getInitialState:function(){return {feeling:this.props.initialFeeling,query:this.props.initialFeeling?this.props.initialFeeling.getTitle():''};},componentWillReceiveProps:function(r){if(r.initialFeeling&&this.props.initialFeeling!==r.initialFeeling)this.setState({feeling:r.initialFeeling});},_onChange:function(event){this.setState({query:event.target.value});},_onSelect:function(r){this.setState({feeling:r,query:r.getTitle()});this.props.onSelect(r);},_onClear:function(){this.setState({feeling:null,query:null});this.props.onSelect(null);},render:function(){return (h.createElement(g,{cols:2,className:"_5f _2rlv"},h.createElement(n,{className:"_27tc",key:"prefix",onClick:this._onClear},m._("Tout simplement...")),h.createElement(n,{className:"_2mzr",key:"suffix"},h.createElement(j,{presenter:i,clearable:true,focusedOnInit:true,showEntriesOnFocus:true,selectedEntry:this.state.feeling,placeholder:m._("Comment allez-vous\u00a0?"),className:"_2qvi _2-b5",queryString:this.state.query,searchSource:this.props.dataSource,highlightOnSelect:true,onSelectAttempt:this._onSelect,onClear:this._onClear,onChange:this._onChange,tallInput:true}))));}});e.exports=q;},null);
__d("ShareDialogTagger.react",["React","ShareDialogDataSources","ShareDialogTaggerTypes","ShareDialogPeopleTagger.react","ShareDialogPlaceTagger.react","ShareDialogActionTagger.react","ShareDialogObjectTagger.react","ShareDialogFeelingTagger.react","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=g,q=p.PropTypes,r=g.createClass({displayName:"ShareDialogTagger",propTypes:{activeTagger:function(s){if(!i.isValid(s.activeTagger))return new Error('The active tagger is invalid.');},dataSources:q.instanceOf(h),userId:q.string.isRequired,initialPeople:q.array,initialPlace:q.object,initialAction:q.object,initialObject:q.object,initialFeeling:q.object,onSelectPeople:q.func,onSelectPlace:q.func,onSelectAction:q.func,onSelectObject:q.func,onSelectFeeling:q.func,useCheckinBranding:q.bool},getDefaultProps:function(){return {activeTagger:i.NONE,initialPeople:[],onClearAction:o,onSelectPeople:o,onSelectPlace:o,onSelectAction:o,onSelectObject:o,onSelectFeeling:o};},getInitialState:function(){return {people:this.props.initialPeople,place:this.props.initialPlace,action:this.props.initialAction,object:this.props.initialObject,feeling:this.props.initialFeeling};},componentDidUpdate:function(){if(this.refs.objectTagger)this.refs.objectTagger.focusInput();},componentWillReceiveProps:function(s){this.setState({people:s.initialPeople,place:s.initialPlace,action:s.initialAction,object:s.initialObject,feeling:s.initialFeeling});},_onSelectPeople:function(s){this.setState({people:s});this.props.onSelectPeople(s);},_onSelectPlace:function(s){this.setState({place:s});this.props.onSelectPlace(s);},_onClearAction:function(){this.setState({action:null});},_onSelectAction:function(s){this.setState({action:s});this.props.onSelectAction(s);},_onSelectObject:function(s){this.setState({object:s});this.props.onSelectObject(s);},_onSelectFeeling:function(s){this.setState({feeling:s});this.props.onSelectFeeling(s);},render:function(){var s=this.props.dataSources;if(this.props.activeTagger===i.PEOPLE){var t=s.getSource(h.TYPES.PERSON);if(!t)return g.createElement("noscript",null);return (g.createElement(j,{userId:this.props.userId,dataSource:t,initialPeople:this.state.people,onSelect:this._onSelectPeople}));}else if(this.props.activeTagger===i.PLACE){var u=s.getSource(h.TYPES.PLACE);if(!u)return g.createElement("noscript",null);return (g.createElement(k,{dataSource:u,initialPlace:this.state.place,onSelect:this._onSelectPlace,useCheckinBranding:this.props.useCheckinBranding}));}else if(this.props.activeTagger===i.FEELING){var v=s.getSource(h.TYPES.FEELING);if(!v)return g.createElement("noscript",null);return (g.createElement(n,{dataSource:v,initialFeeling:this.state.feeling,onSelect:this._onSelectFeeling}));}else if(this.props.activeTagger===i.DOING){var w=s.getSource(h.TYPES.ACTION),x=s.getSource(h.TYPES.OBJECT);if(!w||!x)return g.createElement("noscript",null);return (g.createElement("div",null,this.state.action?g.createElement("noscript",null):g.createElement(l,{dataSource:w,action:this.state.action,onSelect:this._onSelectAction}),this.state.action?g.createElement(m,{ref:"objectTagger",action:this.state.action,dataSource:x,object:this.state.object,onClearAction:this._onClearAction,onSelect:this._onSelectObject,userId:this.props.userId}):g.createElement("noscript",null)));}return g.createElement("noscript",null);}});e.exports=r;},null);
__d("ShareDialogAudienceText.react",["React","ShareDialogAudienceTypes","fbt"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"ShareDialogAudienceText",propTypes:{audience:function(k){if(!h.isValid(k.audience))return new Error('The audience is invalid.');}},getDefaultProps:function(){return {audience:h.OWN};},_getText:function(){switch(this.props.audience){case h.OWN:return i._("Partager sur votre propre journal");case h.PERSON:return i._("Partager sur le journal d\u2019un ami");case h.GROUP:return i._("Partager dans un groupe");case h.PAGE:return i._("Partager sur une Page que vous g\u00e9rez");case h.MESSAGE:return i._("Partager dans un message priv\u00e9");default:return g.createElement("noscript",null);}},render:function(){return (g.createElement("span",g.__spread({},this.props),this._getText()));}});e.exports=j;},null);
__d("ShareDialogAudienceSelector.react",["arrayContains","cx","emptyFunction","React","ShareDialogAudienceText.react","ShareDialogAudienceTypes","XUIMenuSeparator.react","XUISelector.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=j,p=o.PropTypes,q=n.Option,r=j.createClass({displayName:"ShareDialogAudienceSelector",propTypes:{allowedAudiences:function(s){if(!(s.allowedAudiences.every(function(t){return l.isValid(t);})))return new Error('The allowed audiences are not valid.');},activeAudience:function(s){if(!l.isValid(s.activeAudience)||!(s.allowedAudiences.some(function(t){return t===s.activeAudience;})))return new Error('The active audience is either invalid or not included in the '+'allowed audience list.');},onAudienceSelect:p.func},getDefaultProps:function(){return {onAudienceSelect:i,activeAudience:l.OWN,allowedAudiences:l.ALL};},getInitialState:function(){return {activeAudience:this.props.activeAudience};},componentWillReceiveProps:function(s){this.setState({activeAudience:s.activeAudience});},onChange:function(s){this.setState({activeAudience:s.value});this.props.onAudienceSelect(s.value);},render:function(){var s=this.props.allowedAudiences,t=[];if(s.length==1)return (j.createElement("div",{className:"_94t"},j.createElement("div",{className:"_42ym _41kd"},j.createElement(k,{audience:this.props.activeAudience}))));if(g(s,l.OWN))t.push(j.createElement(q,{className:"_42ym _42yn",value:l.OWN,key:l.OWN},j.createElement(k,{audience:l.OWN})));if(g(s,l.PERSON))t.push(j.createElement(q,{className:"_42ym _42yp",value:l.PERSON,key:l.PERSON},j.createElement(k,{audience:l.PERSON})));if(g(s,l.GROUP))t.push(j.createElement(q,{className:"_42ym _2n3i",value:l.GROUP,key:l.GROUP},j.createElement(k,{audience:l.GROUP})));if(g(s,l.PAGE))t.push(j.createElement(q,{className:"_42ym _42y_",value:l.PAGE,key:l.PAGE},j.createElement(k,{audience:l.PAGE})));if(g(s,l.MESSAGE)){if(t.length>0)t.push(j.createElement(m,{key:"separator"}));t.push(j.createElement(q,{className:"_42ym _42z0",value:l.MESSAGE,key:l.MESSAGE},j.createElement(k,{audience:l.MESSAGE})));}var u=(("_94t")+(this.state.activeAudience===l.OWN?' '+"_47xt":'')+(this.state.activeAudience===l.PERSON?' '+"_47xu":'')+(this.state.activeAudience===l.GROUP?' '+"_47xv":'')+(this.state.activeAudience===l.PAGE?' '+"_47xw":'')+(this.state.activeAudience===l.MESSAGE?' '+"_47xx":''));return (j.createElement(n,{maxwidth:400,className:u,defaultValue:this.state.activeAudience,name:"audience_selector",onChange:this.onChange},t));}});e.exports=r;},null);
__d("ShareDialogTitle.react",["React","ShareDialogAudience.react","ShareDialogAudienceText.react","ShareDialogDataSources","ShareDialogAudienceSelector.react","XUICloseButton.react","XUIDialogTitle.react","cx","emptyFunction","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=h.TYPES,r=j.TYPES,s=g,t=s.PropTypes,u=g.createClass({displayName:"ShareDialogTitle",propTypes:{activeAudience:function(v){if(!q.isValid(v.activeAudience))return new Error('The active audience is invalid.');},status:t.shape({type:t.string.isRequired,title:t.oneOfType([t.string,t.object]),message:t.oneOfType([t.string,t.object])}).isRequired,dataSources:t.instanceOf(j),onAudienceSelect:t.func,onClose:t.func,renderInline:t.bool},getDefaultProps:function(){return {onAudienceSelect:o,onClose:o,status:{type:'composing'},renderInline:false};},render:function(){var v=this.props.dataSources,w=this.props.activeAudience,x=[];if(this.props.sharerType==='message_only'){x.push(q.MESSAGE);}else if(this.props.sharerType==='page_only'){x.push(q.PAGE);}else if(this.props.sharerType==='page_viewer'){x.push(q.OWN);}else{x.push(q.OWN);if(v.getSource(r.PERSON_WALL))x.push(q.PERSON);if(v.getSource(r.GROUP))x.push(q.GROUP);if(v.getSource(r.PAGE))x.push(q.PAGE);if(v.getSource(r.MESSAGE))x.push(q.MESSAGE);}var y;if(this.props.status.type==='composing'){y=g.createElement(k,{allowedAudiences:x,activeAudience:w,onAudienceSelect:this.props.onAudienceSelect});}else if(this.props.status.type==='posting'){y=g.createElement(i,{className:"_4zt0",audience:w});}else if(this.props.status.type==='error'){y=g.createElement("span",{className:"_4zt0"},this.props.status.title||p._("Nous sommes d\u00e9sol\u00e9s."));}else if(this.props.status.type==='success')return g.createElement("noscript",null);if(this.props.renderInline){return (g.createElement("div",{className:"_5t22"},y));}else return (g.createElement(m,{showCloseButton:false,className:"_5t22"},y,g.createElement(l,{className:"_51-t",label:p._("Fermer"),onClick:this.props.onClose})));}});e.exports=u;},null);
__d("ShareDialog.react",["Arbiter","DialogExpansionAtWidth","DOM","LayerAutoFocus","LayerFadeOnHide","OGComposerJSConstants","React","ShareDialogAttachment.react","ShareDialogAttribution.react","ShareDialogAudience.react","ShareDialogDataSources","ShareDialogFooter.react","ShareDialogInput.react","ShareDialogMetricMixin","ShareDialogTaggerTypes","ShareDialogTagSummary.react","ShareDialogTagger.react","ShareDialogTitle.react","XUIDialog.react","XUIDialogBody.react","XUINotice.react","XUISpinner.react","containsNode","cx","emptyFunction","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){b.__markCompiled&&b.__markCompiled();var ga=p.TYPES,ha=m,ia=ha.PropTypes,ja=400,ka=m.createClass({displayName:"ShareDialog",mixins:[t],propTypes:{postId:ia.string.isRequired,shareType:ia.string,privacySelector:ia.any.isRequired,status:ia.shape({type:ia.string.isRequired,title:ia.oneOfType([ia.string,ia.object]),message:ia.oneOfType([ia.string,ia.object])}).isRequired,userId:ia.string.isRequired,attachment:ia.object,dataSources:ia.instanceOf(q),messageTags:ia.array,messageTargets:ia.array,onCancel:ia.func,onPost:ia.func,publicityWarning:ia.object,sharerType:ia.oneOf(['all_modes','message_only','page_only']),showDoingNUX:ia.bool,via:ia.object,renderInline:ia.bool,useCheckinBranding:ia.bool},getDefaultProps:function(){return {onCancel:ea,onPost:ea,sharerType:'all_modes',shown:false,status:{type:'composing'},renderInline:false};},getInitialState:function(){var la=ga.OWN;if(this.props.sharerType==='message_only'){la=ga.MESSAGE;}else if(this.props.sharerType==='page_only')la=ga.PAGE;return {activeAudience:la,activeTagger:u.NONE,action:null,actorId:this.props.userId,audienceTargets:null,expanded:false,feeling:null,isPosting:false,message:'',object:null,people:[],place:null,shareType:this.props.shareType,status:this.props.status,via:this.props.via};},componentWillMount:function(){this._updateNubOffset(this.props.shareLinkNode);this.setState({shown:true});},componentWillReceiveProps:function(la){this._updateNubOffset(la.shareLinkNode);if(!la.dataSources.getSource(q.TYPES.PERSON))this.setState({people:[]});if(!la.dataSources.getSource(q.TYPES.PLACE))this.setState({place:null});if(!la.dataSources.getSource(q.TYPES.FEELING))this.setState({feeling:null});if(!la.dataSources.getSource(q.TYPES.ACTION)||!la.dataSources.getSource(q.TYPES.OBJECT))this.setState({action:null,object:null});this.setState({shown:la.shown,overflowing:this.refs.attachment?m.findDOMNode(this.refs.attachment).clientHeight>ja:false,activeTagger:u.NONE,status:la.status});},componentDidMount:function(){this.reflowSubscription=g.subscribe('inlineShare/reflow',function(){this._updateNubOffset(this.props.shareLinkNode);}.bind(this));this.ogSubscription=g.subscribe('composer/ogCustomIconSelected',function(event,ma){if(ma.triggerElement&&!ca(m.findDOMNode(this.refs.shareBody),ma.triggerElement))return;if(ma.action_type_id===l.ActionTypeIDs.COMPOSER_FEELS&&this.props.dataSources.getSource(q.TYPES.FEELING)){this.setState({feelingIconId:ma.icon_id});}else this.setState({actionIconId:ma.icon_id});}.bind(this));var la=false;if(this.props.attachment&&this.refs.attachment){i.setContent(m.findDOMNode(this.refs.attachment),this.props.attachment);la=m.findDOMNode(this.refs.attachment).clientHeight>ja;}this.setState({loaded:true,overflowing:la});this.logLoadHeights();},componentWillUnmount:function(){if(this.reflowSubscription)this.reflowSubscription.unsubscribe();if(this.ogSubscription)this.ogSubscription.unsubscribe();},_onTaggerClick:function(la){this.setState({activeTagger:la});},_onSelectPeople:function(la){this.setState({people:la});},_onSelectPlace:function(la){this.setState({place:la,activeTagger:u.NONE});},_onSelectAction:function(la){this.setState({action:la});},_onSelectObject:function(la){var ma={object:la,activeTagger:u.NONE};if(la==null)ma.actionIconId=null;this.setState(ma);},_onSelectFeeling:function(la){this.setState({feeling:la,activeTagger:u.NONE});},_onRemoveAttribution:function(){this.setState({via:null});},_onAudienceSelect:function(la){if(la===ga.GROUP||la===ga.MESSAGE){this.setState({activeAudience:la,activeTagger:u.NONE,audienceTargets:null,actorId:this.props.userId,people:[],place:null,action:null,object:null});}else this.setState({activeAudience:la,audienceTargets:null,actorId:this.props.userId});},_onChangeAudienceTargets:function(la){if(this.state.activeAudience===ga.PAGE){this.setState({audienceTargets:[la[0].pageId],actorId:la[0].actorId});}else this.setState({audienceTargets:la,actorId:this.props.userId});},_onClearAudienceTargets:function(){this.setState({audienceTargets:null});},_onBlur:function(la){this.setState({message:la});},_onExpand:function(){this.setState({expanded:true});},_onCollapse:function(){this.setState({expanded:false});},_getStatefulResponse:function(){var la=this.state,ma=la.people.map(function(sa){return sa.getUniqueID();}),na=null,oa=null;if(la.object){var pa=la.object.getUniqueID(),qa=la.object.getTitle();if(!pa||pa===qa){oa=qa;}else na=pa;}var ra={appId:this.props.appId,sharedAdId:this.props.sharedAdId,actorId:this.state.actorId,postId:this.props.postId,shareType:this.props.shareType,message:la.message,audienceType:la.activeAudience,audienceTargets:la.audienceTargets?la.audienceTargets:[],taggedPeople:ma,taggedPlace:la.place?la.place.getUniqueID():null,taggedActionId:la.action?la.action.getUniqueID():null,taggedActionIconId:this.state.actionIconId,taggedFeelingIconId:this.state.feelingIconId,taggedFeelingId:la.feeling?la.feeling.getUniqueID():null,taggedObjectId:na,taggedObjectStr:oa,attributionId:this.state.via?this.state.via.id:null,messageTags:this.props.messageTags};if(this.refs.footer)ra.privacy=this.refs.footer.getPrivacyValue();return ra;},_onCancel:function(){this.setState({shown:false});this.props.onCancel(this._getStatefulResponse());if(this.props.logHeight)this.logCancelHeights();},_onPost:function(){this.props.onPost(this._getStatefulResponse());this.setState({isPosting:true});if(this.props.logHeight)this.logPostHeights();},_getMessage:function(){var la=null;if(this.state.status.type==='error'){la=this.state.status.message||fa._("Impossible de partager cette publication actuellement. Veuillez r\u00e9essayer plus tard.");}else if(this.state.status.type==='success'){la=this.state.status.message||fa._("Votre partage a \u00e9t\u00e9 publi\u00e9.");if(this.state.shown)setTimeout(function(){this.setState({shown:false});}.bind(this),2500);}if(la){if(la.__html)return m.createElement("span",{dangerouslySetInnerHTML:la});return m.createElement("span",null,la);}return null;},_getWarning:function(){var la=m.createElement("noscript",null);if(this.props.publicityWarning)la=m.createElement(aa,{className:"_2nt0",size:"small"},m.createElement("span",{dangerouslySetInnerHTML:this.props.publicityWarning}));return la;},_getAttribution:function(){var la=m.createElement("noscript",null);if(this.state.via&&this.state.via.name&&this.state.activeAudience!==ga.MESSAGE)la=m.createElement(o,{onRemove:this._onRemoveAttribution,name:this.props.via.name});return la;},_getOverlay:function(){var la=m.createElement("noscript",null);if(this.state.status.type==='posting')la=m.createElement("div",{className:"_51jk"},m.createElement(ba,{size:"large",className:"_51jl"}));return la;},_getAttachment:function(){var la=m.createElement("noscript",null);if(!this.props.renderInline)la=m.createElement(n,{onCollapse:this._onCollapse,overflowing:this.state.overflowing,onExpand:this._onExpand},m.createElement("article",{ref:"attachment",className:"_51jo"}));return la;},render:function(){var la=m.createElement(x,{activeAudience:this.state.activeAudience,dataSources:this.props.dataSources,onAudienceSelect:this._onAudienceSelect,onClose:this._onCancel,sharerType:this.props.sharerType,status:this.state.status,renderInline:this.props.renderInline}),ma=m.createElement(r,{activeAudience:this.state.activeAudience,activeTagger:this.state.activeTagger,audienceTargets:this.state.audienceTargets,dataSources:this.props.dataSources,hasDoing:this.state.action!==null&&this.state.object!==null,hasPeople:this.state.people.length>0,hasPlace:this.state.place!==null,hasFeeling:this.state.feeling!==null,onCancel:this._onCancel,onPost:this._onPost,onTaggerClick:this._onTaggerClick,privacySelector:this.props.privacySelector,ref:"footer",status:this.state.status,sharerType:this.props.sharerType,showDoingNUX:this.props.showDoingNUX,renderInline:this.props.renderInline});if(this.props.renderInline){return (m.createElement("li",{className:"_2nt1"},m.createElement("div",{className:"_2phu",style:{left:this.state.nubOffset}}),la,this._getInlineBody(),ma));}else return (m.createElement(y,{shown:this.state.shown,width:496,behaviors:{DialogExpansion:h,LayerFadeOnHide:k,LayerAutoFocus:j},layerHideOnBlur:false,modal:true,className:"_51jd"},m.createElement("div",{ref:"dialog"},la,this._getDialogBody(),ma)));},_updateNubOffset:function(la){if(!la)return 0;var ma=12,na=la.offsetLeft,oa=la.offsetWidth/2,pa=8,qa=Math.round(ma+na+oa-pa);this.setState({nubOffset:qa});},_getInlineBody:function(){var la=this._getMessage();if(la)return (m.createElement("div",{className:"_2pid _2pin",ref:"message"},la));return (m.createElement("div",{className:"_2nt2"},this._getBodyContent()));},_getDialogBody:function(){var la=this._getMessage();if(la)return (m.createElement(z,{ref:"message"},la));return (m.createElement(z,{className:"_51jm"},this._getBodyContent()));},_getBodyContent:function(){var la=this._getWarning(),ma=this._getAttribution(),na=this._getOverlay(),oa=this._getAttachment();return (m.createElement("div",{ref:"shareBody"},m.createElement(p,{userId:this.props.userId,activeAudience:this.state.activeAudience,messageTargets:this.props.messageTargets,dataSources:this.props.dataSources,onChange:this._onChangeAudienceTargets,onClear:this._onClearAudienceTargets}),m.createElement(s,{activeAudience:this.state.activeAudience,className:"_2nt3 autofocus",dataSources:this.props.dataSources,initialValue:this.state.message,onBlur:this._onBlur}),m.createElement(v,{people:this.state.people,place:this.state.place,action:this.state.action,object:this.state.object,feeling:this.state.feeling,actionIconId:this.state.actionIconId,feelingIconId:this.state.feelingIconId,onIconChange:this._onIconChange}),ma,oa,la,m.createElement(w,{activeTagger:this.state.activeTagger,dataSources:this.props.dataSources,initialPeople:this.state.people,initialPlace:this.state.place,initialAction:this.state.action,initialObject:this.state.object,initialFeeling:this.state.feeling,onSelectPeople:this._onSelectPeople,onSelectPlace:this._onSelectPlace,onSelectAction:this._onSelectAction,onSelectObject:this._onSelectObject,onSelectFeeling:this._onSelectFeeling,userId:this.props.userId,useCheckinBranding:this.props.useCheckinBranding}),na));}});e.exports=ka;},null);
__d("XShareDialogSubmitController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/share\/dialog\/submit\/",{post_id:{type:"Int"},share_type:{type:"Int"},audience_type:{type:"String"},app_id:{type:"Int"},message:{type:"String"},shared_ad_id:{type:"Int"},audience_targets:{type:"IntVector"},tagged_people:{type:"IntVector"},tagged_place:{type:"Int"},tagged_feeling:{type:"Int"},tagged_action:{type:"Int"},tagged_object:{type:"Int"},tagged_object_str:{type:"String"},tagged_action_icon:{type:"Int"},tagged_feeling_icon:{type:"Int"},attribution:{type:"Int"},privacy:{type:"String"},messaging_tags:{type:"StringVector"}});},null);
__d("ShareDialogController",["ActorURI","AsyncRequest","Event","React","ShareDialog.react","ShareDialogDataSources","XShareDialogSubmitController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n,o;function p(){s({type:'posting'});}function q(u){s({type:'success',message:u.payload.message});}function r(u){s({type:'error',title:u.errorSummary,message:u.errorDescription});}function s(u){j.render(j.createElement(k,j.__spread({},n,{shown:true,onPost:function(v){t.onPost(v,p,q,r);},status:u})),o);}var t={getPropsFromAsyncResponse:function(u){var v=u,w=v.sources,x=(function(ka,la){var ma={},na=Object.prototype.hasOwnProperty;if(ka==null)throw new TypeError();for(var oa in ka)if(na.call(ka,oa)&&!na.call(la,oa))ma[oa]=ka[oa];return ma;})(v,{sources:1}),y=w,z=y.person,aa=y.personTag,ba=y.personWall,ca=y.group,da=y.page,ea=y.mentions,fa=y.place,ga=y.feeling,ha=y.action,ia=y.object,ja=(new l()).addSource(l.TYPES.ACTION,ha).addSource(l.TYPES.GROUP,ca).addSource(l.TYPES.FEELING,ga).addSource(l.TYPES.MENTIONS,ea).addSource(l.TYPES.MESSAGE,z).addSource(l.TYPES.OBJECT,ia).addSource(l.TYPES.PAGE,da).addSource(l.TYPES.PERSON,aa).addSource(l.TYPES.PERSON_WALL,ba).addSource(l.TYPES.PLACE,fa);return Object.assign({dataSources:ja},x);},onPost:function(u,v,w,x){v&&v();var y=m.getURIBuilder().setInt('app_id',u.appId||(n&&n.appId)).setInt('post_id',u.postId).setInt('share_type',u.shareType).setInt('shared_ad_id',u.sharedAdId||(n&&n.sharedAdId)).setString('privacy',u.privacy).setString('message',u.message).setString('audience_type',u.audienceType).setIntVector('audience_targets',u.audienceTargets).setIntVector('tagged_people',u.taggedPeople).setInt('tagged_place',u.taggedPlace).setInt('tagged_action',u.taggedActionId).setInt('tagged_object',u.taggedObjectId).setInt('tagged_feeling',u.taggedFeelingId).setInt('tagged_feeling_icon',u.taggedFeelingIconId).setString('tagged_object_str',u.taggedObjectStr).setInt('tagged_action_icon',u.taggedActionIconId).setInt('attribution',u.attributionId).setStringVector('messaging_tags',u.messageTags).getURI();y=g.create(y,u.actorId);(new h()).setURI(y).setMethod('POST').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(w).setErrorHandler(x).send();},setup:function(u,v){n=t.getPropsFromAsyncResponse(u);o=v;s({type:'composing'});},setupInline:function(u,v){var w=t.getPropsFromAsyncResponse(u);i.fire(v,'propsReceived',{props:w});}};e.exports=t;},null);
__d("ShareNowController",["Dialog","Event","fbt"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=i._("Votre partage a \u00e9t\u00e9 publi\u00e9."),k=i._("Impossible de partager cette publication actuellement. Veuillez r\u00e9essayer plus tard."),l,m={initMenu:function(n){var o=n.getTriggerElem();h.listen(o,'success',function(event){try{this.showSuccess(event.data.response.payload.message);}catch(p){this.showSuccess();}}.bind(this));h.listen(o,'error',function(event){try{this.showError(event.data.response.payload.message);}catch(p){this.showError();}}.bind(this));},showSuccess:function(n){this.showDialog(n||j);},showError:function(n){this.showDialog(n||k);},showDialog:function(n){if(l)l.destroy();l=new g().setBody(n).setAutohide(2500).setModal(true).show();}};e.exports=m;},null);
__d("UFIAddCommentLink.react",["React","UFIClassNames","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=g.createClass({displayName:"UFIAddCommentLink",propTypes:{'data-ft':m.string,isFirstCommentComponent:m.bool,isFirstComponent:m.bool,isLastCommentComponent:m.bool,isLastComponent:m.bool,isQAndA:m.bool,onClick:m.func},render:function(){var o=k(h.ROW,(("UFIAddCommentLink")+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),p;if(this.props.isQAndA){p=j._("Posez une question...");}else p=j._("\u00c9crire un commentaire...");return (g.createElement("li",{className:o,"data-ft":this.props['data-ft']},g.createElement("a",{className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},p)));}});e.exports=n;},null);
__d("UFICommentLikeCount.react",["NumberFormat","ProfileBrowserLink","ProfileBrowserTypes","React","URI","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=j,n=m.PropTypes,o=function(q,r){var s=new k('/ajax/like/tooltip.php').setQueryData({comment_fbid:q.fbid,comment_from:q.author,comment_likecount:q.likecount||0,comment_id:q.id,cache_buster:q.likeconfirmhash||0});if(r)s.addQueryData({viewas:r});return s;},p=j.createClass({displayName:"UFICommentLikeCount",propTypes:{comment:n.object.isRequired,contextArgs:n.object.isRequired},render:function(){var q=this.props.comment,r=g.formatIntegerWithDelimiter(q.likecount||0,this.props.contextArgs.numberdelimiter),s=i.LIKES,t={id:q.fbid},u=o(this.props.comment,this.props.contextArgs.viewas),v=j.createElement("i",{className:"UFICommentLikeIcon"}),w=j.createElement("span",null,r),x=(("UFICommentLikeButton")+(this.props.comment.hasviewerliked?' '+"UFICommentLikedButton":''));return (j.createElement("a",{ajaxify:h.constructDialogURI(s,t).toString(),className:x,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":u.toString(),href:h.constructPageURI(s,t).toString(),rel:"dialog",role:"button"},v,w));}});e.exports=p;},null);
__d("HelpLink.react",["React","joinClasses","TooltipLink.react"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"HelpLink",render:function(){return (g.createElement(i,g.__spread({},this.props,{className:h(this.props.className,"uiHelpLink mls")}),(void 0)));}});e.exports=j;},null);
__d("UFICreatorInfo.react",["HelpLink.react","React","URI","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=h,m=l.PropTypes,n=h.createClass({displayName:"UFICreatorInfo",propTypes:{creatorID:m.string.isRequired,creatorType:m.string.isRequired,creatorName:m.string.isRequired,labelType:m.string.isRequired,pageID:m.string.isRequired,profileURI:m.string},render:function(){var o,p=this.getCreatorLink();switch(this.props.labelType){case 'commented':o=k._("Comment\u00e9 par {creator}",[k.param("creator",p)]);break;case 'edited_comment':o=k._("Modifi\u00e9 par {creator}",[k.param("creator",p)]);break;case 'sent_message':o=k._("Envoy\u00e9 par {creator}",[k.param("creator",p)]);break;default:return;}return (h.createElement("span",null,o,h.createElement(g,{tooltip:this.getHelpText()})));},getCreatorLink:function(){switch(this.props.creatorType){case 'application':case 'gray_account':case 'indirect_admin':return (h.createElement("a",{className:"uiLinkSubtle","aria-label":this.getTooltipText(),"data-hover":"tooltip"},this.props.creatorName));case 'business_admin':return (h.createElement("a",{className:"uiLinkSubtle",href:this.props.profileURI},this.props.creatorName));case 'direct_admin':return this.getProfileLinkWithHovercard();case 'former_admin':return (h.createElement("span",{className:"uiLinkSubtle"},h.createElement("img",{src:"/images/privacy/cant-see.png",width:9,height:9,className:"_3-8_"}),this.getProfileLinkWithHovercard()));default:return (h.createElement("span",{className:"uiLinkSubtle"},this.props.creatorName));}},getTooltipText:function(){switch(this.props.creatorType){case 'application':return this.getApplicationText();case 'gray_account':return this.getGrayAccountText();case 'indirect_admin':return this.getIndirectAdminText();}},getProfileLinkWithHovercard:function(){if(!this.props.profileURI)return h.createElement("span",null,this.props.creatorName);var o=new i('/ajax/hovercard/user.php').setQueryData({id:this.props.creatorID}).addQueryData({type:'page_admin',extragetparams:JSON.stringify({directed_target_id:this.props.pageID})});return (h.createElement("a",{className:"uiLinkSubtle","data-hovercard":o,href:this.props.profileURI},this.props.creatorName));},getApplicationText:function(){switch(this.props.labelType){case 'commented':return (k._("Ceci a \u00e9t\u00e9 comment\u00e9 par quelqu\u2019un qui utilise {application}.",[k.param("application",this.props.creatorName)]));case 'edited_comment':return (k._("Ceci a \u00e9t\u00e9 modifi\u00e9 par quelqu\u2019un qui utilise {application}.",[k.param("application",this.props.creatorName)]));case 'sent_message':return (k._("Ceci a \u00e9t\u00e9 envoy\u00e9 par quelqu\u2019un depuis {application}.",[k.param("application",this.props.creatorName)]));}},getIndirectAdminText:function(){switch(this.props.labelType){case 'commented':return (k._("Ceci a \u00e9t\u00e9 comment\u00e9 par quelqu\u2019un de {page}.",[k.param("page",this.props.creatorName)]));case 'edited_comment':return (k._("Ceci a \u00e9t\u00e9 modifi\u00e9 par quelqu\u2019un de {page}.",[k.param("page",this.props.creatorName)]));case 'sent_message':return (k._("Ceci a \u00e9t\u00e9 envoy\u00e9 par quelqu\u2019un depuis {page}.",[k.param("page",this.props.creatorName)]));}},getGrayAccountText:function(){switch(this.props.labelType){case 'commented':return (k._("Ceci a \u00e9t\u00e9 comment\u00e9 par quelqu\u2019un qui n\u2019a pas de compte personnel Facebook."));case 'edited_comment':return (k._("Ceci a \u00e9t\u00e9 modifi\u00e9 par quelqu\u2019un qui n\u2019a pas de compte personnel Facebook."));case 'sent_message':return (k._("Ceci a \u00e9t\u00e9 envoy\u00e9 par quelqu\u2019un qui ne poss\u00e8de pas de compte Facebook."));}},getHelpText:function(){switch(this.props.labelType){case 'commented':return (k._("Seuls les gestionnaires de cette Page peuvent voir qui a publi\u00e9 un commentaire"));case 'edited_comment':return (k._("Seuls les gestionnaires de cette Page peuvent voir qui a modifi\u00e9 un commentaire"));case 'sent_message':return (k._("Seuls ceux qui administrent cette Page peuvent voir qui a envoy\u00e9 un message"));}}});e.exports=n;},null);
__d("UFICommentMetadata.react",["Bootloader","React","Timestamp.react","TrackingNodes","UFIConstants","URI","UFICreatorInfo.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=h,q=p.PropTypes,r=k.UFIStatus,s=' \u00b7 ',t="UFIFailureMessageIcon",u="UFIFailureMessage",v="uiLinkSubtle",w=function(y){var z=y.status;return z===r.FAILED_ADD||z===r.FAILED_EDIT;},x=h.createClass({displayName:"UFICommentMetadata",propTypes:{comment:q.object.isRequired,onRetrySubmit:q.func,permalink:q.string,shortenTimestamp:q.bool,showPermalink:q.bool,permalinkTarget:q.string},render:function(){var y=this.props.comment,z=this.props.onRetrySubmit,aa,ba;if(w(y)){aa=[h.createElement("span",{key:"failure",className:u},h.createElement("i",{className:t}),o._("Impossible de publier ce commentaire.")),y.allowRetry&&z?[' ',h.createElement("a",{key:"rety-submit",onClick:z,href:"#",role:"button"},o._("Veuillez r\u00e9essayer"))]:null];}else{var ca=j.getTrackingInfo(j.types.SOURCE);ba=h.createElement(i,{shorten:this.props.shortenTimestamp,time:y.timestamp.time,text:y.timestamp.text,verbose:y.timestamp.verbose});if(this.props.showPermalink)ba=h.createElement("a",{key:"timestamp-message",className:v,href:this.props.permalink,"data-ft":ca,target:this.props.permalinkTarget},ba);}var da=null;if(y.originalTimestamp){var ea=new l('/ajax/edits/browser/comment').addQueryData({comment_token:y.id}).toString();da=[s,h.createElement("a",{ajaxify:ea,"aria-label":o._("Afficher l\u2019historique des modifications"),className:"uiLinkSubtle","data-hover":"tooltip",href:"#",key:"edit-link",ref:"EditLink",rel:"dialog",role:"button",title:o._("Afficher l\u2019historique des modifications")},o._("Modifi\u00e9"))];}var fa=null;if(y.creator_data)fa=[h.createElement(m,{creatorID:y.creator_data.creatorID,creatorType:y.creator_data.creatorType,creatorName:y.creator_data.creatorName,labelType:y.creator_data.labelType,pageID:y.creator_data.pageID,profileURI:y.creator_data.profileURI}),s];return (h.createElement("span",null,fa,ba,aa,da));},componentWillUpdate:function(y){var z=this.props.comment,aa=y.comment;if(!z.editnux&&!!aa.editnux)g.loadModules(["LegacyContextualDialog"],function(ba){var ca=new ba();ca.init(aa.editnux).setContext(h.findDOMNode(this.refs.EditLink)).setWidth(300).setPosition('below').show();}.bind(this));}});e.exports=x;},null);
__d("UFIReplyLink.react",["React","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g,j=i.PropTypes,k=g.createClass({displayName:"UFIReplyLink",propTypes:{onClick:j.func},render:function(){return (g.createElement("a",{className:"UFIReplyLink",href:"#",onClick:this.props.onClick},h._("R\u00e9pondre")));}});e.exports=k;},null);
__d("UFICommentActions.react",["React","ReactFragment","TrackingNodes","UFICommentLikeCount.react","UFICommentMetadata.react","UFIConstants","UFIPrivateReplyLink.react","UFIReplyLink.react","UFISpamCount","cx","fbt","PagesPrivateReplyConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=b('PagesPrivateReplyConstants').Status,s=g,t=s.PropTypes,u=l.UFIStatus,v=' \u00b7 ',w="fsm fwn fcg UFICommentActions",x="UFIDeletedMessageIcon",y="UFIDeletedMessage",z=g.createClass({displayName:"UFICommentActions",propTypes:{comment:t.object.isRequired,contextArgs:t.object.isRequired,feedback:t.object.isRequired,hideAsSpamForPageAdmin:t.bool,markedAsSpamHere:t.bool,onCommentLikeToggle:t.func,onCommentReply:t.func,onMarkAsNotSpam:t.func,onPreviewRemove:t.func,onRetrySubmit:t.func,permalink:t.string,shortenTimestamp:t.bool,showPermalink:t.bool,showReplyLink:t.bool,viewerCanMarkNotSpam:t.bool},render:function(){var aa=this.props,ba=aa.comment,ca=aa.permalink,da=aa.feedback,ea=aa.markedAsSpamHere,fa=ba.status===u.SPAM_DISPLAY,ga=aa.showReplyLink,ha=aa.hideAsSpamForPageAdmin,ia,ja,ka,la,ma,na,oa,pa=!ba.islocal&&ba.status!==u.LIVE_DELETED;if(pa){if(fa&&!ea){if(aa.viewerCanMarkNotSpam)ia=g.createElement("a",{onClick:aa.onMarkAsNotSpam,className:"UFICommentNotSpamLink",href:"#",role:"button"},q._("Afficher"));if(ha&&da.isthreaded&&ba.cancomment&&ga)ma=g.createElement(n,{comment:ba,onClick:aa.onCommentReply,contextArgs:aa.contextArgs});}else{if(ba.viewercanlike){var qa=i.getTrackingInfo(ba.hasviewerliked?i.types.UNLIKE_LINK:i.types.LIKE_LINK),ra=ba.hasviewerliked?q._("Je n\u2019aime plus ce commentaire"):q._("J\u2019aime ce commentaire");ja=g.createElement("a",{className:"UFILikeLink","data-ft":qa,href:"#",onClick:aa.onCommentLikeToggle,role:"button",title:ra},ba.hasviewerliked?q._("Je n\u2019aime plus"):q._("J\u2019aime"));}if((this.props.contextArgs.simplereply&&this.props.feedback.cancomment)||(da.isthreaded&&ba.cancomment&&ga))ma=g.createElement(n,{comment:ba,contextArgs:aa.contextArgs,onClick:aa.onCommentReply});if(ba.likecount>0)ka=g.createElement(j,{comment:ba,contextArgs:aa.contextArgs});if(ba.spamcount&&o.enabled)la=g.createElement(o,{count:ba.spamcount});if(ba.messagereply&&((ba.messagereply.hasReplyPermission&&da.actorforpost===ba.messagereply.pageID)||(ba.messagereply.status===r.ALREADY_REPLIED)))na=g.createElement(m,{actorID:da.actorforpost,activityID:ba.id,context:ba.messagereply});}if(ba.attachment&&ba.attachment.type=="share"&&ba.canremove)oa=g.createElement("a",{href:"#",onClick:aa.onPreviewRemove,role:"button"},q._("Supprimer l\u2019aper\u00e7u"));}var sa=g.createElement(k,{comment:ba,onRetrySubmit:aa.onRetrySubmit,permalink:ca,shortenTimestamp:aa.shortenTimestamp,showPermalink:aa.showPermalink}),ta;if(da.isqanda){ta={likeCount:ka,spamCount:la,likeToggle:ja,commentReply:ma,messageReply:na,spamToggle:ia,metadata:sa,removePreview:oa};}else if(aa.contextArgs.entstream){ta={metadata:sa,likeToggle:ja,likeCount:ka,commentReply:ma,messageReply:na,spamCount:la,spamToggle:ia,removePreview:oa};}else if(da.isthreaded){ta={likeToggle:ja,commentReply:ma,messageReply:na,spamToggle:ia,removePreview:oa,likeCount:ka,spamCount:la,metadata:sa};}else ta={metadata:sa,likeToggle:ja,likeCount:ka,spamCount:la,commentReply:ma,messageReply:na,spamToggle:ia,removePreview:oa};if(ba.status===u.LIVE_DELETED){var ua=g.createElement("span",{className:y},g.createElement("i",{className:x,"data-hover":"tooltip","aria-label":q._("Commentaire supprim\u00e9")}));ta.deletionWarning=ua;}var va=true,wa={};for(var xa in ta){var ya=ta[xa];if(ya){wa[xa]=va?ya:h.create({MIDDOT:v,action:ya});va=false;}}return (g.createElement("div",{className:w},h.create(wa)));}});e.exports=z;},null);
__d("StringTrims",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={trimLeft:function(h){return h.replace(/^\s+/,'');},trimRight:function(h){return h.replace(/\s+$/,'');}};e.exports=g;},null);
__d("LitestandEllipsis",["DOM","DOMDimensions","StringTrims","concatMap","createArrayFromMixed","getElementText"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m,n={add:function(q,r,s){s=s||q;g.scry(q,'br').forEach(g.remove);var t=h.getElementDimensions(s).height;if(t<=r)return q;var u,v='...',w=p(q),x=w.length-1,y=l(w[x]);if(x===0)y=i.trimLeft(y);while(x>=0&&t>r){u=Math.max(y.lastIndexOf(' '),y.lastIndexOf('\n'));if(u===-1)u=y.length-v.length-1;if(u<=0){o(w[x],'');x--;y=l(w[x]);}else{y=i.trimRight(y.substr(0,u))+v;o(w[x],y);}t=h.getElementDimensions(s).height-1;}}};function o(q,r){m=m||(q.textContent!=null?'textContent':'innerText');q[m]=r;}function p(q){if(g.isTextNode(q))return [q];return j(p,k(q.childNodes));}e.exports=n;},null);
__d("LitestandShareAttachment",["CSS","DOM","LitestandEllipsis","csx","cx","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=16,n=22,o=20,p=5,q=3,r=2,s=2,t=5,u=5,v={init:function(z){var aa,ba,ca,da=w(z);l(function(){aa=h.scry(z,"._6m6")[0];ba=h.scry(z,"._6m7")[0];ca=x(z,aa,da);},function(){if(!ca){ba&&g.hide(ba);aa&&i.add(aa,da*y(z));}else if(ba&&ca){g.show(ba);i.add(ba,ca*m);}});},getNumDescriptionLines:function(z){return x(z,h.scry(z,"._6m6")[0],w(z));},getDescriptionLineHeight:function(){return m;}};function w(z){var aa=g.hasClass(z,"_59ap"),ba=g.hasClass(z,"_pb2"),ca=h.scry(z,"^div._4rtc").length>0,da;if(ba){da=s;}else if(ca){da=r;}else if(aa){da=q;}else da=p;return da;}function x(z,aa,ba){var ca=h.scry(z,"._6m3")[0];if(!aa||!ca)return 0;var da=h.scry(z,"._59tj")[0],ea=g.hasClass(z,"_59ap"),fa=g.hasClass(z,"_pb2"),ga=Math.round(aa.scrollHeight/y(z));if(ga>ba&&!fa)return 0;var ha=ca.offsetHeight-t-aa.offsetHeight-(da?da.offsetHeight:0)-(ea?0:u)+1;return Math.floor(Math.max(ha,0)/m);}function y(z){return g.hasClass(z,"_pb2")?o:n;}e.exports=v;},null);
__d("UFICommentAttachment.react",["DOM","HTML","LitestandShareAttachment","React","Sticker.react"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=j,m=l.PropTypes,n=80,o=j.createClass({displayName:"UFICommentAttachment",propTypes:{comment:m.object.isRequired},_attachmentFromCommentData:function(p){return p.photo_comment||p.attachment;},_getScaledDimensions:function(p,q){var r,s,t;if(q>p){t=n/q;r=p*t;s=q*t;}else{t=n/p;r=p*t;s=q*t;}return {height:Math.round(r),width:Math.round(s)};},componentDidMount:function(){var p=this._attachmentFromCommentData(this.props.comment);if(p)this.renderAttachment(p);},shouldComponentUpdate:function(p,q){var r=this._attachmentFromCommentData(this.props.comment),s=this._attachmentFromCommentData(p.comment);if(!r&&!s)return false;if(!r||!s||r.markup!=s.markup){return true;}else return false;},componentDidUpdate:function(p){var q=this._attachmentFromCommentData(this.props.comment);if(q.type!=='sticker')this.renderAttachment(q);},renderAttachment:function(p){if(p&&this.refs&&this.refs.contents&&p.markup){var q=p.markup;if(h.isHTML(q.markup))q=h.replaceJSONWrapper(q.markup).getRootNode();var r=q.parentNode,s=j.findDOMNode(this.refs.contents);if(r&&r!==s)q=q.cloneNode(true);g.setContent(s,q);if(p.type=="share")i.init(s);}},renderSticker:function(p){var q=this._getScaledDimensions(p.metadata.height,p.metadata.width),r=null,s=null;if(window.devicePixelRatio&&window.devicePixelRatio>1&&p.metadata.source_uri_2x){r=p.metadata.sprite_uri_2x;s=p.metadata.source_uri_2x;}else{r=p.metadata.sprite_uri;s=p.metadata.source_uri;}return (j.createElement(k,{animationTrigger:"load_and_hover",frameCount:p.metadata.frameCount,frameRate:p.metadata.frameRate,framesPerCol:p.metadata.framesPerCol,framesPerRow:p.metadata.framesPerRow,spriteURI:r,sourceHeight:q.height,sourceURI:s,sourceWidth:q.width}));},render:function(){var p=this._attachmentFromCommentData(this.props.comment);if(p)if(p&&p.type==='sticker'){return this.renderSticker(p);}else return j.createElement("div",{ref:"contents"});return j.createElement("span",null);}});e.exports=o;},null);
__d("UFIActor.react",["Badge.react","Focus","HovercardLink","Locale","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=k,n=m.PropTypes,o=k.createClass({displayName:"UFIActor",propTypes:{author:n.object.isRequired,'data-ft':n.string,focusOnMount:n.bool,showHovercard:n.bool,isAuthorWeakReference:n.bool,groupOrEventID:n.number,useFirstName:n.bool,delimiter:n.string},getDefaultProps:function(){return {delimiter:" \u00b7 "};},componentDidMount:function(){if(this.props.focusOnMount)h.setWithoutOutline(k.findDOMNode(this.refs.authorName));},render:function(){var p=this.props.author,q=j.isRTL()?'rtl':'ltr',r=((this.props.isAuthorWeakReference?"weakReference":'')+(' '+"UFICommentActorName")),s=[];if(this.props.isAuthorWeakReference)s.push(k.createElement("i",{className:"UFIWeakReferenceIcon",key:"icon"}));if(this.props.useFirstName){s.push(p.firstName);}else s.push(p.name);var t=p.uri?k.createElement("a",k.__spread({},this.props,{className:r,"data-hovercard":this.props.showHovercard?i.constructEndpointWithGroupAndLocation(p,this.props.groupOrEventID,'ufi',this.props.isAuthorWeakReference).toString():null,"data-ft":this.props['data-ft'],dir:q,href:p.uri,ref:"authorName"}),s):k.createElement("span",{className:r,dir:q,ref:"authorName"},s);return (k.createElement("span",null,t,k.Children.map(this.props.children,function(u){return u?[u.type===g?'':this.props.delimiter,u]:null;}.bind(this))));}});e.exports=o;},null);
__d("UFISocialContext.react",["HovercardLink","ProfileBrowserLink","ProfileBrowserTypes","React","URI","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=j,n=m.PropTypes,o=27,p=j.createClass({displayName:"UFISocialContext",propTypes:{commentAuthor:n.object.isRequired,otherMutualCount:n.number.isRequired,topMutualFriend:n.object.isRequired},render:function(){var q=this.props.topMutualFriend,r=this.props.otherMutualCount,s=this.props.commentAuthor,t=g.constructEndpoint(q).toString(),u=j.createElement("a",{href:q.uri,"data-hovercard":t,key:"top"},q.name),v=s.name.length+q.name.length,w;if(r===0){w=l._("Amis avec {name}",[l.param("name",u)]);}else if(v<o){var x;if(r==1){x=l._("1 autre personne");}else x=l._({"*":"{count} autres personnes"},[l.param("count",r,[0])]);w=l._("Ami(e) avec {name} et {others}",[l.param("name",u),l.param("others",this.getOthersLink(x,s,q))]);}else{var y=l._({"*":"{count} amis en commun"},[l.param("count",r+1,[0])]);w=this.getOthersLink(y,s);}return (j.createElement("span",{className:"UFICommentSocialContext"},w));},getOthersLink:function(q,r,s){var t=i.MUTUAL_FRIENDS,u={uid:r.id},v=new k('/ajax/mutual_friends/tooltip.php').setQueryData({friend_id:r.id});if(s)v.addQueryData({exclude_id:s.id});var w=h.constructDialogURI(t,u).toString();return (j.createElement("a",{ajaxify:w,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":v.toString(),href:h.constructPageURI(t,u).toString(),key:"others",rel:"dialog"},q));}});e.exports=p;},null);
__d("UFICommentAuthorName.react",["Badge.react","React","TrackingNodes","UFIActor.react","UFISocialContext.react"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=h,m=l.PropTypes,n=h.createClass({displayName:"UFICommentAuthorName",propTypes:{author:m.object.isRequired,authorProfiles:m.object.isRequired,showHovercard:m.bool,isAuthorWeakReference:m.bool,focusOnMount:m.bool,groupOrEventID:m.number,isFeatured:m.bool,socialContext:m.object,useFirstName:m.bool},render:function(){var o=this.props,p=o.author,q=i.getTrackingInfo(i.types.USER_NAME);return (h.createElement(j,{author:p,showHovercard:o.showHovercard,key:"author",focusOnMount:o.focusOnMount,"data-ft":q,isAuthorWeakReference:o.isAuthorWeakReference,groupOrEventID:o.groupOrEventID,useFirstName:o.useFirstName},o.isFeatured?h.createElement(g,{key:"badge",size:"xsmall",type:"verified"}):null,o.socialContext?h.createElement(k,{topMutualFriend:o.authorProfiles[o.socialContext.topmutualid],otherMutualCount:o.socialContext.othermutualcount,commentAuthor:p}):null));}});e.exports=n;},null);
__d("SeeMore.react",["React","cx","fbt"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"SeeMore",getInitialState:function(){return {isCollapsed:true};},handleClick:function(){this.setState({isCollapsed:false});},render:function(){var k=this.state.isCollapsed,l=k?g.createElement("span",{className:"_5uzb"},i._("...")):null,m=this.props.children[0],n=k?null:g.createElement("span",null,this.props.children[1]),o=!k?null:g.createElement("a",{className:"_5v47 fss",onClick:this.handleClick,href:"#",role:"button"},i._("Voir plus"));return (g.createElement("span",{className:this.props.className},m,l,o,n));}});e.exports=j;},null);
__d("findSplitPointForText",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i,j){var k=null,l=h.split('\n');if(i&&h.length>i)k=i;if(j&&l.length>j){var m=l.slice(0,j).join('\n').length;if(k!==null){k=Math.min(m,k);}else k=m;}return k;}e.exports=g;},null);
__d("partitionTextAndRanges",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(j,k){var l=j.offset+j.length;return k>j.offset&&k<l;}function h(j,k){for(var l=0;l<j.length;l++){var m=j[l];if(g(m,k))return m.offset;}return k;}var i=function(j,k,l){var m=[],n=[],o=h(k,l);for(var p=0;p<k.length;p++){var q=k[p];if(q.offset<o){m.push(q);}else n.push({offset:q.offset-o,length:q.length,entity:q.entity});}return {before:{ranges:m,text:j.substr(0,o)},after:{ranges:n,text:j.substr(o)}};};e.exports=i;},null);
__d("TruncatedTextWithEntities.react",["React","TextWithEntities.react","SeeMore.react","findSplitPointForText","partitionTextAndRanges"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g.createClass({displayName:"TruncatedTextWithEntities",render:function(){var m=this.props.text||'',n=this.props.ranges||[];m=m.replace(/\s*$/,'');var o=this.props.maxLines,p=this.props.maxLength;if(p&&m.length>p){var q=this.props.truncationPercent||.6;p=Math.floor(q*p);}var r=j(m,p,o);if(r!==null){while(m[r-1]==='\n')r--;var s=k(m,n,r);return (g.createElement("span",{"data-ft":this.props['data-ft'],dir:this.props.dir},g.createElement(i,{className:this.props.className},g.createElement(h,{interpolator:this.props.interpolator,ranges:s.before.ranges,aggregatedRanges:this.props.aggregatedRanges,text:s.before.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}),g.createElement(h,{interpolator:this.props.interpolator,ranges:s.after.ranges,aggregatedRanges:this.props.aggregatedRanges,text:s.after.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}))));}else return (g.createElement("span",{"data-ft":this.props['data-ft'],dir:this.props.dir},g.createElement(h,{className:this.props.className,interpolator:this.props.interpolator,ranges:n,imageRanges:this.props.imageRanges,aggregatedRanges:this.props.aggregatedRanges,text:m,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji})));}});e.exports=l;},null);
__d("HovercardLinkInterpolator",["HovercardLink","Link.react","React","URI","WWWBase","cx","fbt","isRTL"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();function o(p,q,r,s,t){var u=q.entity,v=r||(u.external?'_blank':null),w,x=((!u.external?"profileLink":'')+(u.weakreference?' '+"weakReference":'')),y,z=u.hashtag?p.substring(1):p;y=n(z)?'rtl':'ltr';var aa=new j(u.url).addQueryData({hc_location:t});if(u.hashtag){var ba=aa.setDomain(new j(k.uri).getDomain());w=i.createElement("a",{className:"_58cn",dir:y,href:ba.toString(),target:v},i.createElement("span",{"aria-label":m._("hashtag"),className:"_58cl"},p.substring(0,1)),i.createElement("span",{className:"_58cm"},p.substring(1)));}else if(u.weakreference){w=i.createElement(h,{className:x,dir:y,href:aa,target:v},i.createElement("i",{className:"UFIWeakReferenceIcon"}),p);}else w=i.createElement(h,{className:x,dir:y,href:aa,target:v},p);if(!u.external&&!u.hashtag&&!u.photo)w.props['data-hovercard']=g.constructEndpointWithGroupAndLocation(u,s,t).toString();return w;}e.exports=o;},null);
__d("URITruncator",["URI","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=3;function j(k,l){var m=h._("..."),n=m.length;if(!k||l===(void 0)||k.length<=l||l<=n||k.toString().length<=n)return k;if(!g.isValidURI(k))return k.substring(0,l-n)+m;var o=new g(k),p=o.getOrigin();if(p.length>l-n)return p.substring(0,l-n)+m;var q=false;if(!!o.getFragment()){q=true;o.setFragment('');if(o.toString().length<=l-n)return o.toString()+m;}var r=o.getQueryData();if(r){var s=Object.keys(r);if(s.length>0){q=true;for(var t=s.length-1;t>=0;t--){o.removeQueryData(s[t]);if(o.toString().length<=l-n)return o.toString()+m;}}}var u=o.getPath()+(q?m:''),v=u.split('/'),w=(p.length+u.length)-l,x=0;while(w>0&&v.length>x+1){var y=x+1,z=v[y];if(w+n+i<=z.length){var aa=z.length-1,ba=z.length-w-n,ca=/[a-zA-Z0-9]/;w+=n;while(w>0){while(aa>0&&ca.test(z[aa])){aa--;w--;}while(aa>0&&!ca.test(z[aa])){aa--;w--;}}if(aa===0)aa=ba-1;v[y]=z.substring(0,aa+1)+m;}else{x++;w-=z.length;if(x===1){w+=n;}else w--;}}if(x>0){if(v[v.length-1].length===0&&v.length===x+2)x++;v.splice(1,x,m);}var da=p+v.join('/');if(da.length>l)da=da.substring(0,l-n)+m;return da;}e.exports=j;},null);
__d("transformTextRanges",["UnicodeUtils"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=function(i,j,k){if(!i||!j||!k)return i;j.sort(function(r,s){return r.offset-s.offset;});var l=0;for(var m=0;m<j.length;m++){j[m].offset+=l;var n=g.substr(i,j[m].offset,j[m].length),o=g.strlen(n),p=k(n,j[m]),q=g.strlen(p);if(n!==p){i=g.substr(i,0,j[m].offset)+p+g.substr(i,j[m].offset+j[m].length);j[m].length=q;l+=q-o;}}return i;};e.exports=h;},null);
__d("UFICommentUtils.react",["HovercardLinkInterpolator","UFIConstants","URITruncator","copyProperties","transformTextRanges"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l={getCommentTextWithTruncatedURIs:function(m,n){if(h.commentURLTruncationLength)if(m&&m.length>0)n=k(n,m,function(o,p){return p.entity.external?i(o,h.commentURLTruncationLength):o;});return n;},getCommentBodyInterpolator:function(m){return function(n,o){return g(n,o,'_blank',m,'ufi');};},shallowCopyRanges:function(m){if(!m)return m;var n=[];m.forEach(function(o){n.push(j({},o));});return n;}};e.exports=l;},null);
__d("UFICommentBody.react",["Locale","React","TrackingNodes","TruncatedTextWithEntities.react","UnicodeBidi","UFICommentUtils.react","UFIConfig","UFIConstants","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=h,q=p.PropTypes,r=h.createClass({displayName:"UFICommentBody",propTypes:{commentText:q.string.isRequired,commentRanges:q.array,groupOrEventID:q.number,useWhitespacesRender:q.bool,maxLength:q.number,maxLines:q.number,socialContext:q.object},render:function(){var s=this.props,t=s.commentText,u=i.getTrackingInfo(i.types.USER_MESSAGE),v=k.isDirectionLTR(t),w=!v,x=v&&g.isRTL()?'ltr':w&&!g.isRTL()?'rtl':null,y=l.getCommentBodyInterpolator(s.groupOrEventID),z=h.createElement(j,{key:"comment-body",className:(("UFICommentBody")+(this.props.useWhitespacesRender?' '+"UFICommentBodyPreserveWhitespace":'')),interpolator:y,ranges:s.commentRanges,text:t,truncationPercent:n.commentTruncationPercent,maxLength:s.maxLength,maxLines:s.maxLines,renderEmoticons:m.renderEmoticons,renderEmoji:m.renderEmoji,"data-ft":u,dir:x});if(s.socialContext){z=h.createElement("div",{key:"body"},z);}else{var aa=((v&&g.isRTL()?"_5wjy":'')+(v&&g.isRTL()?' '+"_5wjz":'')+(w&&!g.isRTL()?' '+"_5wj-":'')+(w&&!g.isRTL()?' '+"_5wj_":''));z=aa?h.createElement("div",{key:"body",className:aa},z):[' ',z];}return h.createElement("span",null,z);}});e.exports=r;},null);
__d("XUIEditButton.react",["XUIAbstractGlyphButton.react","React","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=h.createClass({displayName:"XUIEditButton",render:function(){var m=this.props.label,n=this.props.title;if(!this.props.title&&!this.props.tooltip){if(!m)m=j._("Modifier");n=m;}return (h.createElement(g,h.__spread({},this.props,{label:m,title:n,"aria-label":this.props.tooltip,"data-hover":this.props.tooltip&&'tooltip',"data-tooltip-alignh":this.props.tooltip&&'center',className:k(this.props.className,"_5upq _5upr")})));}});e.exports=l;},null);
__d("UFICommentMenu.react",["Bootloader","React","XUICloseButton.react","XUIEditButton.react","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=h,m=l.PropTypes,n,o,p,q,r=k({EDIT:true,CLOSE:true}),s=h.createClass({displayName:"UFICommentMenu",propTypes:{menuData:m.array,menuType:m.oneOf(Object.keys(r)).isRequired,onAction:m.func,onClick:m.func},getInitialState:function(){return {bootloading:false,bootloaded:false,needsExpand:false};},onClickGuard:function(event){if(this.state.bootloading){return;}else if(!this.state.bootloaded&&this.props.menuData){this.setState({bootloading:true});g.loadModules(["ContextualDialogArrow","PopoverMenu.react","ReactXUIMenu"],function(t,u,v){n=t,o=u;p=v;q=p.Item;this.setState({bootloading:false,bootloaded:true,needsExpand:true});}.bind(this));}else if(this.props.onClick)this.props.onClick(event);},shouldComponentUpdate:function(t,u,v){if(this.state.needsExpand&&!u.needsExpand)return false;return true;},render:function(){var t=null;if(this.props.menuType===r.EDIT){t=j;}else t=i;if(this.props.menuData&&this.state.bootloaded){var u=this.props.menuData.map(function(w){return (h.createElement(q,{value:w.value},w.label));}),v=h.createElement(p,{onItemClick:this.props.onAction},u);return (h.createElement(o,h.__spread({},this.props,{alignh:"right",layerBehaviors:[n],menu:v,ref:"menu"}),h.createElement(t,{href:"#",onClick:this.onClickGuard})));}return h.createElement(t,h.__spread({},this.props,{href:"#",onClick:this.onClickGuard}));},componentDidUpdate:function(){if(this.state.needsExpand){this.refs.menu.showPopover();this.setState({needsExpand:false});}}});s.MenuType=r;e.exports=s;},null);
__d("UFIComment.react",["Bootloader","HovercardLink","React","TrackingNodes","TextWithEntities.react","UFIClassNames","UFICommentActions.react","UFICommentAttachment.react","UFICommentAuthorName.react","UFICommentBody.react","UFICommentMenu.react","UFICommentUtils.react","UFIConfig","UFIConstants","UFIImageBlock.react","UFITranslationConstants","URI","XUICloseButton.react","cx","joinClasses","keyMirror","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){b.__markCompiled&&b.__markCompiled();'use strict';var ca=i,da=ca.PropTypes,ea=t.UFIStatus,fa=aa({edit:true,hide:true,remove:true}),ga="UFITranslateLink",ha="UFITranslatedText",ia="UFITranslationErrorText",ja="UFITranslateAttribution",ka="fcg",la=null,ma=function(pa){var qa=pa.status;return qa===ea.FAILED_ADD||qa===ea.FAILED_EDIT;};function na(pa){return pa.commenterIsFOF!==undefined&&pa.userIsMinor!==undefined&&pa.reportLink!==undefined;}var oa=i.createClass({displayName:"UFIComment",propTypes:{authorProfiles:da.object.isRequired,comment:da.object.isRequired,contextArgs:da.object.isRequired,feedback:da.object.isRequired,'data-ft':da.string,focusOnMount:da.bool,hasPartialBorder:da.bool,hideAsSpamForPageAdmin:da.bool,isFeatured:da.bool,isFirst:da.bool,isFirstCommentComponent:da.bool,isFirstComponent:da.bool,isLast:da.bool,isLastCommentComponent:da.bool,isLastComponent:da.bool,isLocallyComposed:da.bool,isReply:da.bool,onBlingBoxClick:da.func,onCommentLikeToggle:da.func,onCommentReply:da.func,onCommentTranslate:da.func,onEdit:da.func,onHideAsSpam:da.func,onInlineBan:da.func,onMarkAsNotSpam:da.func,onPreviewRemove:da.func,onRemove:da.func,onRetrySubmit:da.func,onUndoInlineBan:da.func,permalink:da.string,shortenTimestamp:da.bool,showPermalink:da.bool,showRemoveReportMenu:da.bool,showReplyLink:da.bool,viewerIsAuthor:da.bool},getInitialState:function(){return {isHighlighting:this.props.comment.highlightcomment,wasHighlighted:this.props.comment.highlightcomment,markedAsSpamHere:false,isInlinePageDeleted:false,isInlineBanned:false};},_onHideAsSpam:function(event){this.props.onHideAsSpam(event);this.setState({markedAsSpamHere:true});},_onMarkAsNotSpam:function(event){this.props.onMarkAsNotSpam(event);this.setState({markedAsSpamHere:false});},_onDeleteSpam:function(event){this.props.onRemove(event,this);},_onInlineBan:function(event){this.props.onInlineBan(event);this.setState({isInlineBanned:true});},_onUndoInlineBan:function(event){this.props.onUndoInlineBan(event);this.setState({isInlineBanned:false});},_onAction:function(event,pa){var qa=pa.item,ra=qa.getValue();setTimeout(function(){if(ra===fa.remove){this.props.onRemove(event);}else if(ra===fa.edit){this.props.onEdit(event);}else if(ra===fa.hide)this._onHideAsSpam(event);}.bind(this),0);},_createRemoveReportMenuData:function(){return [{value:fa.remove,label:ba._("Supprimer le commentaire...")},{value:fa.hide,label:ba._("Masquer le commentaire")}];},_createEditDeleteMenuData:function(){return [{value:fa.edit,label:ba._("Modifier...")},{value:fa.remove,label:ba._("Supprimer...")}];},_renderCloseButton:function(){var pa=this.props.comment,qa=this.props.feedback,ra=null,sa=null,ta=null,ua=false;if(pa.canremove&&!this.props.hideAsSpamForPageAdmin){if(this.props.viewerIsAuthor){if(pa.canedit){ta=ba._("Modifier ou supprimer");sa=this._createEditDeleteMenuData();ua=true;}else{ta=ba._("Supprimer");ra=this.props.onRemove;}}else if(qa.canremoveall)if(this.props.showRemoveReportMenu){ta=ba._("Supprimer ou signaler");sa=this._createRemoveReportMenuData();}else{ta=ba._("Supprimer");ra=this.props.onRemove;}}else if(pa.canreport){ta=ba._("Masquer");ra=this._onHideAsSpam;}var va=(("UFICommentCloseButton")+(ra===null&&sa===null?' '+"hdn":'')),wa=null,xa=null;if(this.props.contextArgs.viewas){wa="/ajax/profile/link_disabled_in_viewas.php";xa="dialog";ra=null;}var ya=ua?q.MenuType.EDIT:q.MenuType.CLOSE;return (i.createElement(q,{ajaxify:wa,className:va,onClick:ra,rel:xa,tooltip:ta,menuData:sa,menuType:ya,onAction:this._onAction}));},_renderFakeCloseButton:function(){return (i.createElement(x,{className:"UFICommentCloseButtonFake",tabIndex:"-1"}));},componentDidMount:function(){if(this.state.isHighlighting){var pa=i.findDOMNode(this),qa=parseInt(this.props.comment.scrolltopoffset||0,10);g.loadModules(["UFIScrollHighlight"],function(ra){setTimeout(ra.actOn.bind(null,pa,qa),0);});this.setState({isHighlighting:false});}},shouldComponentUpdate:function(pa,qa){var ra=this.props,sa=this.state;return (pa.comment!==ra.comment||pa.showReplyLink!==ra.showReplyLink||pa.isFirst!==ra.isFirst||pa.isLast!==ra.isLast||pa.isFirstCommentComponent!==ra.isFirstCommentComponent||pa.isLastCommentComponent!==ra.isLastCommentComponent||pa.isFirstComponent!==ra.isFirstComponent||pa.isLastComponent!==ra.isLastComponent||pa.isFeatured!==ra.isFeatured||pa.hasPartialBorder!==ra.hasPartialBorder||qa.wasHighlighted!==sa.wasHighlighted||qa.isHighlighting!==sa.isHighlighting||qa.markedAsSpamHere!==sa.markedAsSpamHere||qa.isInlinePageDeleted!==sa.isInlinePageDeleted||qa.isInlineBanned!==sa.isInlineBanned);},render:function(){var pa=this.props.comment,qa=this.props.feedback,ra=pa.status===ea.DELETED,sa=pa.status===ea.LIVE_DELETED,ta=pa.status===ea.SPAM_DISPLAY,ua=this.state.markedAsSpamHere,va=this.state.isInlinePageDeleted,wa=this.props.hideAsSpamForPageAdmin,xa=this.state.isInlineBanned,ya=na(pa),za=!pa.status&&(pa.isunseen||pa.islocal);if(!pa.status&&qa.lastseentime){var ab=pa.originalTimestamp||pa.timestamp.time;za=za||ab>qa.lastseentime;}var bb=this.props.contextArgs.markedcomments;if(bb&&bb[pa.legacyid])za=true;var cb=((this.props.isFirst?"UFIFirstComment":'')+(this.props.isLast?' '+"UFILastComment":'')+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''));if(ya)if(la){var db,eb=null,fb=null,gb=null;if(wa){fb=xa?this._onUndoInlineBan:this._onInlineBan;if(va){db=ba._("You've deleted this comment so no one can see it.");}else if(ua){db=ba._("Ce contenu est d\u00e9sormais visible de son auteur et ses amis.");gb=this._onDeleteSpam;eb=this._onMarkAsNotSpam;}}else if(ua){db=ba._("Ce commentaire a \u00e9t\u00e9 masqu\u00e9.");gb=this._onDeleteSpam;eb=this._onMarkAsNotSpam;}if(db)return (i.createElement("li",{className:z(l.ROW,cb,"UFIHide")},i.createElement(la,{notice:db,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:eb,onBanAction:fb,onDeleteAction:gb,isInlineBanned:xa,isInlinePageDeleted:va,hideAsSpamForPageAdmin:wa,pageID:this.props.feedback.ownerid})));}else g.loadModules(["UFICommentRemovalControls.react"],function(kb){la=kb;setTimeout(function(){this.forceUpdate();}.bind(this));}.bind(this));var hb=!ra,ib=z(l.ROW,cb,(("UFIComment")+(ma(pa)?' '+"UFICommentFailed":'')+(ra||sa||ta?' '+"UFITranslucentComment":'')+(this.state.isHighlighting?' '+"highlightComment":'')+(!hb?' '+"noDisplay":'')+(hb?' '+"display":'')+(' '+"UFIComponent")+(this.props.hasPartialBorder?' '+"UFIPartialBorder":''))),jb=this.renderComment();if(za)ib=z(ib,l.UNSEEN_ITEM);return (i.createElement("li",{className:ib,"data-ft":this.props['data-ft']},jb));},renderComment:function(){var pa=this.props,qa=pa.comment,ra=qa.body.text,sa=r.shallowCopyRanges(qa.body.ranges),ta=pa.permalink,ua=pa.feedback,va=pa.authorProfiles[qa.author],wa=qa.status===ea.SPAM_DISPLAY,xa=qa.status===ea.LIVE_DELETED,ya=!(wa||xa),za=ua.canremoveall||qa.hiddenbyviewer;ra=r.getCommentTextWithTruncatedURIs(sa,ra);var ab=null,bb=null;if(!pa.isLocallyComposed&&!this.state.wasHighlighted){bb=t.commentTruncationLength;ab=t.commentTruncationMaxLines;}var cb=j.getTrackingInfo(j.types.SMALL_ACTOR_PHOTO),db=j.getTrackingInfo(j.types.USER_MESSAGE),eb=null,fb=null,gb=null,hb=null;if(qa.istranslatable&&(qa.translatedbody===undefined))eb=i.createElement("a",{href:"#",role:"button",title:ba._("Traduire ce commentaire"),className:ga,onClick:pa.onCommentTranslate},ba._("Voir la traduction"));if(qa.translatedbody!==undefined)if(qa.translatedbody!==null&&qa.translatedbody.text!==''){var ib=v.BING_PAGE_URL,jb=v.BING_TRANSLATOR_APP,kb=null;if(qa.translatorapp===jb){var lb=new w(ib).addQueryData({text:ra});kb=i.createElement("a",{href:lb.toString(),target:"_blank",className:ka},ba._("Traduction fournie par Bing"));}else kb=ba._("Traduit automatiquement");hb=i.createElement("span",{className:ja},kb);var mb=r.shallowCopyRanges(qa.translatedbody.ranges),nb=qa.translatedbody.text,ob=qa.translatedbody.dir,pb=i.createElement("span",{key:"comment-body","data-ft":db,dir:ob},i.createElement(k,{className:(("UFICommentBody")+(this.props.contextArgs.useWhitespacesRender?' '+"UFICommentBodyPreserveWhitespace":'')),interpolator:r.getCommentBodyInterpolator(pa.feedback.grouporeventid),ranges:mb,text:nb,renderEmoticons:s.renderEmoticons,renderEmoji:s.renderEmoji}));fb=i.createElement("span",{className:ha},pb);}else gb=i.createElement("span",{className:ia},ba._("Aucune traduction disponible"));var qb=i.createElement(p,{socialContext:qa.socialcontext,commentText:ra,commentRanges:sa,groupOrEventID:ua.grouporeventid,useWhitespacesRender:this.props.contextArgs.useWhitespacesRender,maxLength:bb,maxLines:ab}),rb=pa.contextArgs.viewas?null:h.constructEndpointWithGroupAndLocation(va,ua.grouporeventid,'ufi',qa.isauthorweakreference).toString(),sb=i.createElement(o,{author:va,authorProfiles:pa.authorProfiles,showHovercard:!!rb,isAuthorWeakReference:qa.isauthorweakreference,focusOnMount:pa.focusOnMount,groupOrEventID:ua.grouporeventid,isFeatured:pa.isFeatured,socialContext:qa.socialcontext}),tb=null;if(qa.photo_comment_status)tb=i.createElement("div",{className:"_50f8"},qa.photo_comment_status);var ub=null;if(qa.sticker_attachment_status)ub=i.createElement("div",{className:"_50f8"},qa.sticker_attachment_status);var vb=null;if(qa.status!==ea.DELETED)vb=i.createElement(n,{comment:pa.comment});return (i.createElement(u,{spacing:"medium"},i.createElement("a",{href:va.uri,"data-hovercard":rb,"data-ft":cb},i.createElement("img",{src:va.thumbSrc,className:l.ACTOR_IMAGE,alt:""})),i.createElement("div",{className:"UFICommentContentBlock"},i.createElement("div",{className:"UFICommentContent"},sb,qb,eb,fb,hb,gb,vb),tb,ub,i.createElement(m,{comment:qa,feedback:ua,onBlingBoxClick:pa.onBlingBoxClick,onCommentLikeToggle:pa.onCommentLikeToggle,onCommentReply:pa.onCommentReply,onPreviewRemove:pa.onPreviewRemove,onRetrySubmit:pa.onRetrySubmit,onMarkAsNotSpam:this._onMarkAsNotSpam,permalink:ta,viewerCanMarkNotSpam:za,shortenTimestamp:pa.shortenTimestamp,showPermalink:pa.showPermalink,showReplyLink:pa.showReplyLink,contextArgs:pa.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere,hideAsSpamForPageAdmin:pa.hideAsSpamForPageAdmin}),ya?this._renderCloseButton():null),ya?this._renderFakeCloseButton():null));}});e.exports=oa;},null);
__d("UFIContainer.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"UFIContainer",render:function(){var j=null;if(this.props.hasNub)j=g.createElement("li",{className:"UFIArrow"},g.createElement("i",null));var k=((!this.props.isReplyList?"UFIList":'')+(this.props.isReplyList?' '+"UFIReplyList":'')+(this.props.isParentLiveDeleted?' '+"UFITranslucentReplyList":'')+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''));return (g.createElement("ul",{className:k},j,this.props.children));}});e.exports=i;},null);
__d("UFILikeSentenceText.react",["ActorURI","HovercardLinkInterpolator","ProfileBrowserLink","ProfileBrowserTypes","React","TextWithEntities.react","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=k,o=n.PropTypes;function p(r,s,t,u){if(u.count!=null){var v=j.LIKES,w={id:r.targetfbid,actorid:r.actorid},x=[],y;for(var z=0;z<s.length;z++)if(!s[z].count){y=s[z];var aa=y.entity;x.push(aa.id);}var ba=new m('/ajax/like/tooltip.php').setQueryData({comment_fbid:r.targetfbid,comment_from:r.actorforpost,seen_user_fbids:x.length?x:true});ba=g.create(ba,r.actorforpost);return (k.createElement("a",{rel:"dialog",ajaxify:i.constructDialogURI(v,w).toString(),href:i.constructPageURI(v,w).toString(),"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":ba.toString(),role:"button"},t));}else return h(t,u,null,null,'ufi');}var q=k.createClass({displayName:"UFILikeSentenceText",propTypes:{contextArgs:o.object.isRequired,feedback:o.object.isRequired,likeSentenceData:o.object.isRequired},render:function(){var r=this.props.feedback,s=this.props.likeSentenceData,t;t=p;t=t.bind(null,r,s.ranges);return (k.createElement(l,{interpolator:t,ranges:s.ranges,aggregatedRanges:s.aggregatedranges,text:s.text}));}});e.exports=q;},null);
__d("UFILikeSentence.react",["Bootloader","LeftRight.react","ProfileBrowserLink","ProfileBrowserTypes","React","UFIClassNames","UFIImageBlock.react","UFILikeSentenceText.react","URI","cx","joinClasses","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=k,t=s.PropTypes,u=k.createClass({displayName:"UFILikeSentence",propTypes:{contextArgs:t.object.isRequired,feedback:t.object.isRequired,isFirstComponent:t.bool,isLastComponent:t.bool,onOrderingModeChange:t.func,onTargetLikeToggle:t.func,orderingMode:t.string,showOrderingModeSelector:t.bool},getInitialState:function(){return {selectorModule:null,bootloadedSelectorModule:false};},componentWillMount:function(){this._bootloadSelectorModule(this.props);},componentWillReceiveProps:function(v){this._bootloadSelectorModule(v);},_bootloadSelectorModule:function(v){if(v.showOrderingModeSelector&&!this.state.bootloadedSelectorModule){var w=function(x){this.setState({selectorModule:x});}.bind(this);if(v.contextArgs.entstream){g.loadModules(["UFIEntStreamOrderingModeSelector.react"],w);}else g.loadModules(["UFIOrderingModeSelector.react"],w);this.setState({bootloadedSelectorModule:true});}},render:function(){var v=this.props.feedback,w=v.likesentences.current,x=this.props.contextArgs.entstream,y=q(l.ROW,v.likesentences.isunseen?l.UNSEEN_ITEM:'',(("UFILikeSentence")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),z=null,aa=null;if(w.text)aa=k.createElement("div",{className:"UFILikeSentenceText"},k.createElement(n,{contextArgs:this.props.contextArgs,feedback:v,likeSentenceData:w}));var ba=this.props.contextArgs.ufiexperiments||{};if(aa&&!x&&!ba.showRevisedUFI){z=k.createElement("i",{className:"UFILikeIcon"});if(v.viewercanlike&&!v.hasviewerliked)z=k.createElement("a",{className:"UFILikeThumb",href:"#",tabIndex:"-1",title:r._("Aimer \u00e7a"),onClick:this.props.onTargetLikeToggle,role:"button","aria-label":r._("Aimer \u00e7a")},z);}var ca=aa,da=null;if(v.seencount>0&&!x){var ea=j.GROUP_MESSAGE_VIEWERS,fa={id:v.targetfbid},ga=i.constructDialogURI(ea,fa),ha=i.constructPageURI(ea,fa),ia=new o('/ajax/ufi/seen_tooltip.php').setQueryData({ft_ent_identifier:v.entidentifier,displayed_count:v.seencount}),ja;if(v.seenbyall){ja=r._("Vu par tout le monde");}else ja=v.seencount==1?r._("Vu par une personne"):r._("Vu par {count} personnes",[r.param("count",v.seencount)]);da=k.createElement("a",{rel:"dialog",ajaxify:ga.toString(),href:ha.toString(),"data-hover":"tooltip","data-tooltip-alignh":"left","data-tooltip-uri":ia.toString(),className:(("UFISeenCount")+(!!w.text?' '+"UFISeenCountRight":''))},k.createElement("span",{className:"UFISeenCountIcon"}),ja);}else if(this.props.showOrderingModeSelector&&this.state.selectorModule){var ka=this.state.selectorModule;da=k.createElement(ka,{currentOrderingMode:this.props.orderingMode,entstream:x,orderingmodes:v.orderingmodes,onOrderChanged:this.props.onOrderingModeChange});if(!ca)ca=k.createElement("div",null);}var la=null;if(z&&aa){la=k.createElement(m,null,z,aa,da);}else if(ca){la=k.createElement(h,{direction:h.DIRECTION.right},ca,da);}else la=da;return (k.createElement("li",{className:y},la));}});e.exports=u;},null);
__d("UFIPager.react",["LeftRight.react","React","UFIClassNames","UFIImageBlock.react","XUISpinner.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=h,o=n.PropTypes,p=h.createClass({displayName:"UFIPager",propTypes:{contextArgs:o.object.isRequired,pagerLabel:o.string.isRequired,'data-ft':o.string,countSentence:o.string,isFirstCommentComponent:o.bool,isFirstComponent:o.bool,isLastCommentComponent:o.bool,isLastComponent:o.bool,isLoading:o.bool,isUnseen:o.bool,onPagerClick:o.func},onPagerClick:function(q){!this.props.isLoading&&this.props.onPagerClick&&this.props.onPagerClick();q.nativeEvent.prevent();},render:function(){var q=this.onPagerClick,r=m(i.ROW,this.props.isUnseen?i.UNSEEN_ITEM:'',(("UFIPagerRow")+(' '+"UFIComponent")+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),s=null;if(this.props.isLoading)s=h.createElement(k,{className:"mls",background:"light",size:"small"});var t=h.createElement("a",{className:"UFIPagerLink",onClick:q,href:"#",role:"button"},this.props.pagerLabel,s),u=(("fcg")+(' '+"UFIPagerCount")),v=h.createElement("span",{className:u},this.props.countSentence),w,x=this.props.contextArgs.ufiexperiments||{};if(this.props.contextArgs.entstream||x.showRevisedUFI){w=(h.createElement(g,{direction:g.DIRECTION.right},t,v));}else w=(h.createElement(j,null,h.createElement("a",{className:"UFIPagerIcon",onClick:q,href:"#",role:"button"}),t,v));return (h.createElement("li",{className:r,"data-ft":this.props['data-ft']},w));}});e.exports=p;},null);
__d("UFIPagerLabel",["fbt","intlList","NumberFormat"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={VIEW_ONE:'view_one',VIEW_ONE_MORE:'view_one_more',VIEW_ALL:'view_all',VIEW_MORE_EXPLICIT:'view_more_explicit',VIEW_MORE:'view_more',VIEW_PREVIOUS:'view_previous',_getReplyLabel:function(k,l){var m;switch(k){case j.VIEW_ONE:return g._("Afficher 1 r\u00e9ponse");case j.VIEW_ONE_MORE:return g._("Afficher une autre r\u00e9ponse");case j.VIEW_ALL:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Voir les {count} r\u00e9ponses"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE_EXPLICIT:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Afficher {count} autres r\u00e9ponses"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE:return g._("Voir plus de r\u00e9ponses");case j.VIEW_PREVIOUS:return g._("Voir les r\u00e9ponses pr\u00e9c\u00e9dentes");default:return null;}},_getCommentLabel:function(k,l){if(l.commenters)return this._getCommentLabelWithCommentSentence(k,l);var m;switch(k){case j.VIEW_ONE:return g._("Voir 1 commentaire");case j.VIEW_ONE_MORE:return g._("Afficher 1 autre commentaire");case j.VIEW_ALL:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Afficher les {count} commentaires"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE_EXPLICIT:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Afficher {count} autres commentaires"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE:return g._("Afficher plus de commentaires");case j.VIEW_PREVIOUS:return g._("Voir les commentaires pr\u00e9c\u00e9dents");default:return null;}},_getCommentLabelWithCommentSentence:function(k,l){var m=h(l.commenters),n=l.othersCount,o=i.formatIntegerWithDelimiter(n,l.delimiter),p=i.formatIntegerWithDelimiter(l.count,l.delimiter);switch(k){case j.VIEW_ONE:return g._("Afficher un commentaire de {names}",[g.param("names",m)]);case j.VIEW_ONE_MORE:return g._("Afficher un autre commentaire de {names}",[g.param("names",m)]);case j.VIEW_ALL:switch(n){case 0:return g._({"*":"Afficher les {count} commentaires de {names}"},[g.param("count",p,[0,l.count]),g.param("names",m)]);case 1:return g._({"*":"Afficher les {count} commentaires de {names} et une autre personne"},[g.param("count",p,[0,l.count]),g.param("names",m)]);default:return g._({"*":{"*":"Afficher les {count} commentaires de {names} et {othersCount} autres personnes"}},[g.param("count",p,[0,l.count]),g.param("names",m),g.param("othersCount",o,[0,n])]);}break;case j.VIEW_MORE_EXPLICIT:case j.VIEW_MORE:switch(n){case 0:return g._("Afficher plus de commentaires de {names}",[g.param("names",m)]);case 1:return g._("Afficher plus de commentaires de {names} et une autre personne",[g.param("names",m)]);default:return g._({"*":"Afficher plus de commentaires de {names} et {othersCount} autres personnes"},[g.param("names",m),g.param("othersCount",o,[0,n])]);}break;case j.VIEW_PREVIOUS:switch(n){case 0:return g._("Afficher les commentaires pr\u00e9c\u00e9dents de {names}",[g.param("names",m)]);case 1:return g._("Afficher les commentaires pr\u00e9c\u00e9dents de {names} et une autre personne",[g.param("names",m)]);default:return g._({"*":"Afficher les commentaires pr\u00e9c\u00e9dents de {names} et {othersCount} autres personnes"},[g.param("names",m),g.param("othersCount",o,[0,n])]);}break;default:return null;}},_getQuestionLabel:function(k,l){var m;switch(k){case j.VIEW_ONE:return g._("Afficher une question");case j.VIEW_ONE_MORE:return g._("Afficher une autre question");case j.VIEW_ALL:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Afficher les {count} questions"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE_EXPLICIT:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Afficher {count} questions suppl\u00e9mentaires"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE:return g._("Afficher plus de questions");case j.VIEW_PREVIOUS:return g._("Afficher les questions pr\u00e9c\u00e9dentes");default:return null;}},getLabel:function(k,l,m,n){if(l){return j._getReplyLabel(k,n);}else if(m){return j._getQuestionLabel(k,n);}else return j._getCommentLabel(k,n);}};e.exports=j;},null);
__d("UFIReplySocialSentence.react",["Badge.react","LiveTimer","React","Timestamp.react","UFIClassNames","UFIConstants","UFIImageBlock.react","cx","joinClasses","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=i,r=q.PropTypes,s=' \u00b7 ',t=43200,u=i.createClass({displayName:"UFIReplySocialSentence",propTypes:{author:r.object,'data-ft':r.string,isExpanded:r.bool,isFirstComponent:r.bool,isLastComponent:r.bool,isLoading:r.bool,onClick:r.func,orderingMode:r.string,replies:r.number,shortenTimestamp:r.bool,showVerified:r.bool,timestamp:r.object},render:function(){var v=((this.props.isLoading?"UFIReplySocialSentenceLoading":'')),w=o(k.ROW,(("UFIReplySocialSentenceRow")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),x,y;if(this.props.isExpanded){x=this.props.replies>1?p._({"*":"Masquer {count} r\u00e9ponses"},[p.param("count",this.props.replies,[0])]):p._("Masquer une r\u00e9ponse");}else{x=this.props.replies>1?p._({"*":"{count} r\u00e9ponses"},[p.param("count",this.props.replies,[0])]):p._("1 r\u00e9ponse");if(this.props.timestamp){var z=h.getApproximateServerTime()/1000-this.props.timestamp.time;if(z<t||this.props.orderingMode==l.UFICommentOrderingMode.RECENT_ACTIVITY)y=i.createElement("span",{className:"fcg"},s,i.createElement(j,{shorten:this.props.shortenTimestamp,time:this.props.timestamp.time,text:this.props.timestamp.text,verbose:this.props.timestamp.verbose}));}}var aa=this.props.author,ba=aa&&!this.props.isExpanded,ca=null,da;if(ba){ca=i.createElement("img",{alt:"",src:aa.thumbSrc,className:k.ACTOR_IMAGE});var ea=null;if(this.props.showVerified)ea=i.createElement(g,{size:"xsmall",type:"verified"});da=[p._("{author}{verified_badge} a r\u00e9pondu",[p.param("author",aa.name),p.param("verified_badge",ea)]),s,x];}else da=x;var fa=null,ga=false;if(!ba||this.props.contextArgs.feedcarded){if(ba)ga=true;fa=i.createElement("i",{className:((!this.props.isExpanded?"UFIPagerIcon":'')+(this.props.isExpanded?' '+"UFICollapseIcon":'')+(ga?' '+"UFIFeedCardedIconWithActor":''))});}return (i.createElement("li",{className:w,"data-ft":this.props['data-ft']},i.createElement("a",{className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},i.createElement(m,null,i.createElement("div",{className:((ba?"UFIReplyActorPhotoWrapper":'')+(ga?' '+"UFIFeedCardedReplyActor":''))},fa,ca),i.createElement("span",{className:v},i.createElement("span",{className:(("UFIReplySocialSentenceLinkText")+(this.props.showVerified?' '+"UFIReplySocialSentenceVerified":''))},da),y)))));}});e.exports=u;},null);
__d("UFIShareRow.react",["NumberFormat","React","UFIClassNames","UFIImageBlock.react","URI","cx","joinClasses","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=h,p=o.PropTypes,q=h.createClass({displayName:"UFIShareRow",propTypes:{contextArgs:p.object.isRequired,shareCount:p.number.isRequired,targetID:p.any.isRequired,isFirstComponent:p.bool,isLastComponent:p.bool},render:function(){var r=new k('/ajax/shares/view').setQueryData({target_fbid:this.props.targetID}),s=new k('/shares/view').setSubdomain('www').setQueryData({id:this.props.targetID}),t;if(this.props.shareCount>1){var u=g.formatIntegerWithDelimiter(this.props.shareCount,this.props.contextArgs.numberdelimiter||',');t=n._({"*":"{count} partages","268435456":"{count} partage"},[n.param("count",u,[0,this.props.shareCount])]);}else t=n._("1 partage");var v=m(i.ROW,(("UFIShareRow")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),w=h.createElement("a",{className:"UFIShareLink",rel:"dialog",ajaxify:r.toString(),href:s.toString()},t),x=h.createElement(j,null,h.createElement("a",{className:"UFIShareIcon",rel:"dialog",ajaxify:r.toString(),href:s.toString()}),w),y=this.props.contextArgs.ufiexperiments||{};return (h.createElement("li",{className:v},y.showRevisedUFI?w:x));}});e.exports=q;},null);
__d("UFISpamPlaceholder.react",["React","UFIClassNames","XUISpinner.react","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"UFISpamPlaceholder",propTypes:{numHidden:l.number.isRequired,isLoading:l.bool,onClick:l.func},render:function(){if(this.props.isLoading)return (g.createElement("li",{className:h.ROW},g.createElement("span",{className:"UFISpamCommentWrapper"},g.createElement(i,{className:"mls",background:"light",size:"small"}))));return (g.createElement("li",{className:h.ROW},g.createElement("a",{href:"#",role:"button",className:"UFISpamCommentLink",onClick:this.props.onClick,"aria-label":j._("Afficher les commentaires marqu\u00e9s comme ind\u00e9sirables")},g.createElement("span",{"data-hover":"tooltip","data-tooltip-alignh":"center","aria-label":j._({"*":"{count} cach\u00e9s","268435456":"{count} cach\u00e9"},[j.param("count",this.props.numHidden,[0])]),className:"UFISpamCommentWrapper"},g.createElement("i",{className:"placeholderIcon"})))));}});e.exports=m;},null);
__d("Date.react",["React","formatDate"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k=g.createClass({displayName:"ReactDate",getDefaultProps:function(){return {options:{}};},propTypes:{date:j.oneOfType([j.number,j.instanceOf(Date)]).isRequired,format:j.oneOfType([j.object,j.string]).isRequired,options:j.object},render:function(){return (g.createElement("span",null,h(this.props.date,this.props.format,this.props.options)));}});e.exports=k;},null);
__d("UFITopicConversationComment.react",["HovercardLink","React","TrackingNodes","UFIConstants","UFICommentAttachment.react","UFICommentAuthorName.react","UFICommentBody.react","UFICommentUtils.react","UFIImageBlock.react","Date.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=h,t=s.PropTypes,u=j.UFIStatus,v=function(x){return x.status===u.FAILED_ADD;},w=h.createClass({displayName:"UFITopicConversationComment",propTypes:{authorProfiles:t.object.isRequired,comment:t.object.isRequired,contextArgs:t.object.isRequired,feedback:t.object.isRequired,focusOnMount:t.bool,isFirst:t.bool,isLast:t.bool,isLocallyComposed:t.bool,viewerIsAuthor:t.bool},shouldComponentUpdate:function(x,y){var z=this.props;return (x.comment!==z.comment||x.isFirst!==z.isFirst||x.isLast!==z.isLast);},render:function(){var x=this.props.comment,y=r(((v(x)?"UFICommentFailed":'')+(' '+"_3lw8"))),z=this.renderComment();return (h.createElement("li",{className:y},z));},renderComment:function(){var x=this.props,y=x.feedback,z=x.comment,aa=z.body.text,ba=n.shallowCopyRanges(z.body.ranges),ca=x.authorProfiles[z.author];aa=n.getCommentTextWithTruncatedURIs(ba,aa);var da=i.getTrackingInfo(i.types.SMALL_ACTOR_PHOTO),ea=h.createElement(m,{socialContext:z.socialcontext,commentText:aa,commentRanges:ba,groupOrEventID:y.grouporeventid,useWhitespacesRender:this.props.contextArgs.useWhitespacesRender,maxLength:1000,maxLines:10}),fa=x.contextArgs.viewas?null:g.constructEndpointWithGroupAndLocation(ca,y.grouporeventid,'ufi',z.isauthorweakreference).toString(),ga=h.createElement(l,{author:ca,authorProfiles:x.authorProfiles,showHovercard:!!fa,isAuthorWeakReference:z.isauthorweakreference,focusOnMount:x.focusOnMount,groupOrEventID:y.grouporeventid,isFeatured:x.isFeatured,socialContext:z.socialcontext,useFirstName:ca.type==='friend'}),ha=null;if(z.photo_comment_status)ha=h.createElement("div",{className:"_50f8"},z.photo_comment_status);var ia=null;if(z.sticker_attachment_status)ia=h.createElement("div",{className:"_50f8"},z.sticker_attachment_status);return (h.createElement(o,{spacing:"medium"},h.createElement("a",{href:ca.uri,"data-hovercard":fa,"data-ft":da},h.createElement("img",{src:ca.thumbSrc,className:"_3mnu",alt:""})),h.createElement("div",{className:"UFICommentContentBlock"},h.createElement("div",{className:"UFICommentContent"},h.createElement("div",null,ga),h.createElement("span",null,h.createElement("span",null,h.createElement("div",{className:"_50q4"},ea),h.createElement(k,{comment:x.comment})))),ia,h.createElement("div",{className:"_3lw9"},h.createElement(p,{date:new Date(z.timestamp.time*1000),format:{today:'g:ia',thisYear:'m\/d',older:'m\/d\/y'}})))));}});e.exports=w;},null);
__d("UFI.react",["CommentPrelude","DOMScroll","Event","LogHistory","NumberFormat","React","ReactFragment","ScrollableArea.react","ScrollAwareDOM","SearchableEntry","ShareDialog.react","ShareDialogController","ShareNowController","TrackingNodes","UFIAddCommentController","UFIAddCommentLink.react","UFIComment.react","UFIConstants","UFIContainer.react","UFIInstanceState","UFILikeSentence.react","UFIPager.react","UFIPagerLabel","UFIReplySocialSentence.react","UFIShareRow.react","UFISpamPlaceholder.react","UFITopicConversationComment.react","URI","Vector","copyProperties","getUnboundedScrollPosition","isEmpty","focusWithinLayer","throttle","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa){b.__markCompiled&&b.__markCompiled();'use strict';var pa={TOP:'top',BOTTOM:'bottom',ALL:'all'},qa=l.createClass({displayName:"UFI",getInitialState:function(){return {repliesExpandedMap:this.props.initialRepliesExpandMap?this.props.initialRepliesExpandMap:{},loadingSpamIDs:{},isActiveLoading:{},commentIDToFocusOnMount:null,replyComposerIDToFocusOnMount:null,hasPagedToplevel:false};},getDefaultProps:function(){return {inlineShare:{}};},componentDidMount:function(){this.suppressScrolls=0;this.scrollSubscription=o.subscribe('scroll',function(){if(this.suppressScrolls>0){this.suppressScrolls--;return false;}return true;}.bind(this));if(this.props.feedback.isqanda&&this.props.feedback.infinitescroll){var ra=na(this.loadMoreComments,20);this._scrollEventListener=i.listen(window,'scroll',ra);this._resizeEventListener=i.listen(window,'resize',ra);}},componentWillUnmount:function(){if(this.scrollSubscription){o.unsubscribe(this.scrollSubscription);this.scrollSubscription=null;}if(this._scrollEventListener)this._scrollEventListener.remove();if(this._resizeEventListener)this._resizeEventListener.remove();},componentWillReceiveProps:function(ra){var sa=ja({},this.state.isActiveLoading),ta;for(ta in this.state.isActiveLoading){var ua=this.props.ranges[this.props.id],va=ra.ranges[this.props.id];if(ua.getOffset()!=va.getOffset()||ua.getLength()!=va.getLength()){var wa=(va.getOffset()<ua.getOffset())?0:ua.getLength();if(wa<ra.availableComments.length)this.setState({commentIDToFocusOnMount:ra.availableComments[wa].id});}delete sa[ta];}this.setState({isActiveLoading:sa});},componentDidUpdate:function(ra,sa,ta){if(this.props.inlineShare.toggling){var ua=!ra.inlineShare.active&&!this.props.inlineShare.active;g.click(l.findDOMNode(this),ua);var va=this.props.inlineShare.active;if(va)ma(l.findDOMNode(this.refs.inlineShare));z.updateStateField(this.props.instanceid,'inlineShare','toggling',false);}var wa=this.state.replyComposerIDToFocusOnMount;if(this.refs&&wa in this.refs){this.refs[wa].focus();this.setState({replyComposerIDToFocusOnMount:null});}},componentWillUpdate:function(ra,sa,ta){var ua,va;for(ua in this.state.isActiveLoading){va=this.state.isActiveLoading[ua];if(va!==pa.TOP)this.suppressScrolls++;}},render:function(){var ra=this.props,sa=ra.feedback,ta=ra.contextArgs,ua=ra.source!=x.UFIFeedbackSourceType.ADS,va=!ra.hideOrderingModeSelector&&sa.orderingmodes&&ra.commentCounts[ra.id]>=x.minCommentsForOrderingModeSelector,wa=(!la(sa.likesentences.current)||(sa.seencount>0&&!ta.entstream)||va)&&ta.search!==true&&ua,xa=null;if(wa)xa=l.createElement(aa,{contextArgs:ta,feedback:sa,onTargetLikeToggle:ra.onTargetLikeToggle,onOrderingModeChange:ra.onOrderingModeChange,orderingMode:ra.orderingMode,showOrderingModeSelector:va});var ya=ra.availableComments&&ra.availableComments.length&&ua,za=null;if(ya)za=this.renderCommentMap(ra.availableComments,ra.ranges[ra.id].getOffset());var ab=null,bb=sa.cancomment,cb=bb&&ta.showaddcomment&&sa.actorforpost&&ra.canAddCommentMap[ra.id];if(cb){ta.orderingmodes=sa.orderingmodes;var db=new u(null,ra.id,null,ta),eb=ra.authorProfiles[sa.actorforpost];ab=db.renderAddComment(eb,sa.ownerid,sa.mentionsdatasource,sa.showsendonentertip,'toplevelcomposer',null,sa.subtitle,sa.allowphotoattachments,sa.allowstickerattachments,sa.isqanda);}var fb=null,gb=ta.showshares&&sa.sharecount&&ua;if(gb&&!ta.entstream)fb=l.createElement(ea,{targetID:sa.targetfbid,shareCount:sa.sharecount,contextArgs:ta});var hb=wa||gb||ya||bb,ib=this.renderPagers(ra.id,ra.ranges[ra.id].getOffset(),ra.ranges[ra.id].getLength());this.applyToUFIComponents([ib.topPager],za,[ib.bottomPager],{isFirstCommentComponent:true},{isLastCommentComponent:true});var jb=sa.isranked?ab:null,kb=sa.isranked?null:ab,lb=null;if(cb&&sa.isranked&&this.state.hasPagedToplevel)lb=l.createElement(v,{onClick:this.onComment,isQAndA:sa.isqanda});this.applyToUFIComponents([xa,fb,jb,ib.topPager],za,[ib.bottomPager,kb,lb],{isFirstComponent:true},{isLastComponent:true});var mb=[ib.topPager,za&&m.create(za),ib.bottomPager];if(ta.scrollcomments&&ta.scrollwidth)mb=l.createElement("li",null,l.createElement(n,{width:ta.scrollwidth},l.createElement("ul",null,mb)));if(this.props.inlineShare.active){return (l.createElement(y,{hasNub:false},l.createElement(q,l.__spread({},this.props.inlineShare.props,{onPost:function(nb){r.onPost(nb,this._beforePostInlineShare,this._onInlineShareSuccess,this._onInlineShareError);}.bind(this),ref:"inlineShare",renderInline:true,status:this.props.inlineShare.status}))));}else return (l.createElement(y,{hasNub:ta.shownub&&hb},xa,fb,jb,mb,kb,lb));},applyToUFIComponents:function(ra,sa,ta,ua,va){var wa=Object.keys(sa||{}).map(function(ya){return sa[ya];}).filter(function(ya){return (ya&&ya.props.comment&&this._shouldRenderComment(ya.props.comment));}.bind(this)),xa=[].concat(ra,wa,ta);this._applyToFirstComponent(xa,ua);xa.reverse();this._applyToFirstComponent(xa,va);},_shouldRenderComment:function(ra){return ra.status!==x.UFIStatus.DELETED;},_applyToFirstComponent:function(ra,sa){for(var ta=0;ta<(ra||[]).length;ta++)if(ra[ta]){ja(ra[ta].props,sa);return;}},renderCommentMap:function(ra,sa){var ta=this.props,ua={},va=ra.length;if(!va)return ua;var wa=ra[0].parentcommentid,xa=[],ya=function(){if(xa.length>0){var kb=function(lb,mb){this.state.loadingSpamIDs[lb[0]]=true;this.forceUpdate();ta.onSpamFetch(lb,mb);}.bind(this,xa,wa);ua['spam'+xa[0]]=l.createElement(fa,{onClick:kb,numHidden:xa.length,isLoading:!!this.state.loadingSpamIDs[xa[0]]});xa=[];}}.bind(this),za=ta.instanceid,ab=z.getKeyForInstance(za,'editcommentid'),bb=!!ra[0].parentcommentid;for(var cb=0;cb<va;cb++)if(ra[cb].status==x.UFIStatus.SPAM){xa.push(ra[cb].id);}else{ya();var db=Math.max(ta.loggingOffset-cb-sa,0),eb=ra[cb],fb;if(eb.id==ab){fb=this.renderEditCommentBox(eb);}else{var gb=cb===0,hb=cb===va-1,ib=!bb,jb=bb&&!gb;fb=this.renderComment(eb,db,gb,hb,ib,jb);}ua['comment'+eb.id]=fb;if(eb.status!==x.UFIStatus.DELETED)ua['replies'+eb.id]=this.renderReplyContainer(eb);}ya();return ua;},renderReplyContainer:function(ra){var sa=this.props,ta=sa.commentCounts[ra.id],ua=this.state.repliesExpandedMap[ra.id],va=!ua&&ra.interestingReplyId,wa,xa;if(ua||ra.interestingReplyId){wa=sa.repliesMap[ra.id];xa=sa.ranges[ra.id].getOffset();if(va){var ya=wa.filter(function(qb){return qb.id===ra.interestingReplyId;});if(ya.length!==1){j.getInstance('ufi').error('comment '+ra.id+' claims to have an interesting reply, '+'but there is not exactly 1 comment with that id in the reply '+'list.');wa=null;}else{wa=ya;xa=ra.interestingReplyOffset;}}}var za,ab,bb;if(wa){var cb=sa.ranges[ra.id].getOffset(),db=sa.ranges[ra.id].getLength();if(va){cb=xa;db=1;}var eb=this.renderPagers(ra.id,cb,db);za=eb.topPager;ab=eb.bottomPager;bb=this.renderCommentMap(wa,xa);}var fb=Math.max(ta-ra.spamreplycount,0),gb;if(fb&&((ua&&fb>this.props.replySocialSentenceMaxReplies)||(!ua&&!wa))){var hb=ua&&(this.isLoadingPrev(ra.id)||this.isLoadingNext(ra.id)),ib=null;if(ra.replyauthors&&ra.replyauthors.length)ib=sa.authorProfiles[ra.replyauthors[0]];gb=l.createElement(da,{contextArgs:sa.contextArgs,author:ib,replies:fb,shortenTimestamp:sa.shortenTimestamp,timestamp:ra.recentreplytimestamp,onClick:this.onToggleReplies.bind(this,ra.id),isLoading:hb,isExpanded:ua,showVerified:this.props.feedback.showfeaturedreplies,orderingMode:this.props.orderingMode});}var jb;if(ua)if(ra.cancomment&&sa.canAddCommentMap[ra.id]){var kb=false,lb=Object.keys(bb);for(var mb=lb.length-1;mb>=0;mb--){var nb=lb[mb];if(nb&&bb[nb]){kb=bb[nb].props.isAuthorReply;break;}}jb=this.renderReplyComposer(ra,!kb);}var ob;if(gb||za||bb||ab||jb){this.applyToUFIComponents([gb,za],bb,[ab,jb],{isFirstComponent:true},{isLastComponent:true});var pb=ra.status===x.UFIStatus.LIVE_DELETED;ob=l.createElement(y,{isParentLiveDeleted:pb,isReplyList:true},gb,za,bb&&m.create(bb),ab,jb);}return ob;},renderReplyComposer:function(ra,sa){var ta=this.props;return (new u(null,ta.id,ra.id,ta.contextArgs)).renderAddComment(ta.authorProfiles[ta.feedback.actorforpost],ta.feedback.ownerid,ta.feedback.mentionsdatasource,false,'replycomposer-'+ra.id,sa,ta.feedback.subtitle,ta.feedback.allowphotoattachments,ta.feedback.allowstickerattachments,ta.feedback.isqanda);},renderEditCommentBox:function(ra){var sa=new u(null,this.props.id,null,{mentionsinput:this.props.contextArgs.mentionsinput}),ta=sa.renderEditComment(this.props.authorProfiles[this.props.feedback.actorforpost],this.props.feedback.ownerid,ra.id,this.props.feedback.mentionsdatasource,this.props.onEditAttempt.bind(null,ra),this.props.onCancelEdit,this.props.feedback.allowphotoattachments,this.props.feedback.allowstickerattachments,this.props.feedback.isqanda);return ta;},renderComment:function(ra,sa,ta,ua,va,wa){var xa=this.props,ya=xa.feedback,za=ya.actorforpost===ra.author,ab=z.getKeyForInstance(this.props.instanceid,'locallycomposed'),bb=ra.islocal||ab&&ab[ra.id],cb=ya.showremovemenu||(ya.viewerid===ra.author),db=ya.canremoveall&&ya.isownerpage&&!za,eb=xa.source!=x.UFIFeedbackSourceType.INTERN,fb=t.getTrackingInfo(t.types.COMMENT,sa),gb=!!ra.parentcommentid,hb=!!ra.isfeatured;switch(this.props.source){case x.UFIFeedbackSourceType.TOPIC_CONVERSATION:return (l.createElement(ga,{isFirst:ta,isLast:ua,comment:ra,authorProfiles:this.props.authorProfiles,viewerIsAuthor:za,feedback:ya,contextArgs:this.props.contextArgs,focusOnMount:ra.id===this.state.commentIDToFocusOnMount,isLocallyComposed:bb}));default:var ib=ha(xa.commentPermalinks[ra.id]).addQueryData({comment_tracking:fb}).toString();return (l.createElement(w,{isFirst:ta,isLast:ua,showReplyLink:va,hasPartialBorder:wa,comment:ra,authorProfiles:this.props.authorProfiles,viewerIsAuthor:za,feedback:ya,"data-ft":fb,contextArgs:this.props.contextArgs,hideAsSpamForPageAdmin:db,isLocallyComposed:bb,isReply:gb,isFeatured:hb,permalink:ib,shortenTimestamp:xa.shortenTimestamp,showPermalink:eb,showRemoveReportMenu:cb,focusOnMount:ra.id===this.state.commentIDToFocusOnMount,onCommentLikeToggle:xa.onCommentLikeToggle.bind(null,ra),onCommentReply:this.onCommentReply.bind(this,ra),onCommentTranslate:xa.onCommentTranslate.bind(null,ra),onEdit:xa.onCommentEdit.bind(null,ra),onHideAsSpam:xa.onCommentHideAsSpam.bind(null,ra),onInlineBan:xa.onCommentInlineBan.bind(null,ra),onMarkAsNotSpam:xa.onCommentMarkAsNotSpam.bind(null,ra),onPreviewRemove:xa.onPreviewRemove.bind(null,ra),onRemove:xa.onCommentRemove.bind(null,ra),onRetrySubmit:xa.onRetrySubmit.bind(null,ra),onUndoInlineBan:xa.onCommentUndoInlineBan.bind(null,ra)}));}},_toggleReplyExpandedState:function(ra){var sa=this.state.repliesExpandedMap[ra],ta=this.state.repliesExpandedMap;ta[ra]=!sa;this.setState({repliesExpandedMap:ta,replyComposerIDToFocusOnMount:!sa?'replycomposer-'+ra:null});},onToggleReplies:function(ra){this._toggleReplyExpandedState(ra);var sa=this.state.repliesExpandedMap[ra],ta=this.props.ranges[ra].getRequestedLength();ta-=this.props.deletedCounts[ra];if(sa&&ta===0){var ua=this.props.commentCounts[ra],va=Math.min(ua,this.props.pageSize),wa=ua-va;this.onPage(ra,pa.BOTTOM,{offset:wa,length:va});}},onPage:function(ra,sa,ta){var ua=this.state.hasPagedToplevel||ra===this.props.id;if(ra!==this.props.id&&!this.state.repliesExpandedMap[ra]){var va=this.state.repliesExpandedMap;va[ra]=true;this.setState({repliesExpandedMap:va});}var wa=ja({},this.state.isActiveLoading);wa[ra]=sa;this.setState({isActiveLoading:wa,hasPagedToplevel:ua});this.props.onChangeRange(ra,ta);},isLoadingPrev:function(ra){var sa=this.props;ra=ra||sa.id;var ta=sa.ranges[ra].getRequestedOffset(),ua=sa.ranges[ra].getOffset();return ta<ua;},isLoadingNext:function(ra){var sa=this.props;ra=ra||sa.id;var ta=sa.ranges[ra].getRequestedOffset(),ua=sa.ranges[ra].getRequestedLength(),va=sa.ranges[ra].getOffset(),wa=sa.ranges[ra].getLength();return ta+ua>va+wa;},renderPagers:function(ra,sa,ta){var ua=this.props,va=ua.deletedCounts[ra],wa=ua.commentCounts[ra],xa=wa-va,ya=ta-va,za=ua.contextArgs.numberdelimiter||',',ab=ra!==ua.id,bb,cb={topPager:null,bottomPager:null};if(ua.source==x.UFIFeedbackSourceType.ADS)return cb;var db=this.isLoadingPrev(ra),eb=this.isLoadingNext(ra);if(ta==wa)return cb;var fb={delimiter:za},gb=ua.feedback.commentsentenceinfo;if(gb){fb.commenters=gb.explicit_commenter_names;fb.othersCount=gb.other_commenter_count;}var hb=(sa+ta)==wa;if((wa<ua.pageSize&&hb)||ya===0){bb=Math.min(wa,ua.pageSize);var ib=this.onPage.bind(this,ra,ua.feedback.isranked&&!ab?pa.BOTTOM:pa.TOP,{offset:wa-bb,length:bb}),jb;if(ya===0){if(xa==1){jb=ca.VIEW_ONE;}else{fb.count=xa;jb=ca.VIEW_ALL;}}else if(xa-ya==1){jb=ca.VIEW_ONE_MORE;}else{jb=ca.VIEW_MORE_EXPLICIT;fb.count=xa-ya;}var kb=t.getTrackingInfo(t.types.VIEW_ALL_COMMENTS),lb=ca.getLabel(jb,ab,ua.feedback.isqanda,fb),mb=ua.feedback.isranked&&!ab,nb=l.createElement(ba,{key:"allPager"+ra,ref:mb?"topLevelBottomPager":null,contextArgs:ua.contextArgs,isUnseen:ua.feedback.hasunseencollapsed,isLoading:db,pagerLabel:lb,onPagerClick:ib,"data-ft":kb});if(mb){cb.bottomPager=nb;}else cb.topPager=nb;return cb;}var ob=ca.getLabel(ca.VIEW_MORE,ab,ua.feedback.isqanda,fb),pb=ca.getLabel(ca.VIEW_PREVIOUS,ab,ua.feedback.isqanda,fb);if(sa>0){var qb=Math.max(sa-ua.pageSize,0);bb=sa+ta-qb;var rb;if(ab&&ya>1){var sb=k.formatIntegerWithDelimiter(ya,za),tb=k.formatIntegerWithDelimiter(xa,za);rb=oa._("{countshown}\/{totalcount}",[oa.param("countshown",sb),oa.param("totalcount",tb)]);}var ub;if(ua.feedback.isranked&&!ab){ub=this.onPage.bind(this,ra,pa.BOTTOM,{offset:qb,length:bb});cb.bottomPager=l.createElement(ba,{key:"bottomPager"+ra,ref:!ab?"topLevelBottomPager":null,contextArgs:ua.contextArgs,isLoading:db,pagerLabel:ob,onPagerClick:ub,countSentence:rb});}else{ub=this.onPage.bind(this,ra,pa.TOP,{offset:qb,length:bb});cb.topPager=l.createElement(ba,{key:"topPager"+ra,contextArgs:ua.contextArgs,isLoading:db,pagerLabel:pb,onPagerClick:ub,countSentence:rb});}}if(sa+ta<wa){bb=Math.min(ta+ua.pageSize,wa-sa);var vb;if(ua.feedback.isranked&&!ab){vb=this.onPage.bind(this,ra,pa.TOP,{offset:sa,length:bb});cb.topPager=l.createElement(ba,{key:"topPager"+ra,contextArgs:ua.contextArgs,isLoading:eb,pagerLabel:pb,onPagerClick:vb});}else{vb=this.onPage.bind(this,ra,pa.BOTTOM,{offset:sa,length:bb});cb.bottomPager=l.createElement(ba,{key:"bottomPager",ref:!ab?"topLevelBottomPager":null,contextArgs:ua.contextArgs,isLoading:eb,pagerLabel:ob,onPagerClick:vb});}}return cb;},loadMoreComments:function(){if(this.scrollSubscription&&this.refs.topLevelBottomPager&&!(this.props.id in this.state.isActiveLoading)){var ra=l.findDOMNode(this.refs.topLevelBottomPager),sa=ka(window).y,ta=sa+document.documentElement.clientHeight+x.infiniteScrollRangeForQANDAPermalinks;if(ra.offsetHeight&&ra.offsetTop<ta)this.refs.topLevelBottomPager.props.onPagerClick();}},_scrollToAddComment:function(){if(this.refs.toplevelcomposer){var ra=l.findDOMNode(this.refs.toplevelcomposer),sa=80,ta=ra.getBoundingClientRect().top;if(ta<sa||ta>ia.getViewportDimensions().y-sa)h.scrollTo(ra,true,false,sa);}},onCommentReply:function(ra){var sa=ra.parentcommentid||ra.id;if(this.props.feedback.isthreaded&&ra.cancomment){if(!this.state.repliesExpandedMap[sa]){this.onToggleReplies(ra.id);}else if(this.refs&&this.refs['replycomposer-'+sa])this.refs['replycomposer-'+sa].focus();}else if(this.props.contextArgs.simplereply&&ra.author&&this.refs.toplevelcomposer&&this.refs.toplevelcomposer.insertMention){var ta=this.props.authorProfiles[ra.author].type,ua=new p({uniqueID:ra.author,title:this.props.authorProfiles[ra.author].name,type:ta==='friend'?'user':ta});this.refs.toplevelcomposer.insertMention(ua);this._scrollToAddComment();}},onComment:function(){if(this.refs&&this.refs.toplevelcomposer){this.refs.toplevelcomposer.focus();var ra=l.findDOMNode(this.refs.toplevelcomposer),sa=60;if(ra.getBoundingClientRect().top<sa)h.scrollTo(ra,true,true);}},_beforePostInlineShare:function(){z.updateStateField(this.props.instanceid,'inlineShare','status',{type:'posting'});},_onInlineShareSuccess:function(ra){this._resetInlineShare();s.showSuccess(ra.payload.message);},_onInlineShareError:function(ra){this._resetInlineShare();s.showError(ra.errorDescription);},_resetInlineShare:function(){z.updateState(this.props.instanceid,'inlineShare',{});}});e.exports=qa;},null);
__d("UFIFeaturedReplyCommentList",["UFIReplyCommentList"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;j.getCommentList=function(k,l){};function j(k,l,m,n){g.call(this,k,l);var o=0,p=m.length;this.updateCommentCount(p);this.addCommentIDs(o,p,m);var q={};n.forEach(function(r){q[r.id]=r;});m.forEach(function(r){var s=q[r];this.addComment(s.id,s.clientid,s.legacyid);}.bind(this));}j.prototype.fetchComments=function(k,l,m){};e.exports=j;},null);
__d("UFIFeaturedToplevelCommentList",["UFIConstants","UFIToplevelCommentList"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;k.getCommentList=function(l,m){};k.getCommentListsForFeedbackTargetID=function(l){};k.getCommentListForFeedbackTargetID_UNSAFE=function(l){};k.resetCommentListsForFeedbackTargetID=function(l){};function k(l,m,n){h.call(this,l,g.UFICommentOrderingMode.FEATURED);var o=0,p=m.length;this.updateCommentCount(p);this.addCommentIDs(o,p,m);var q={};n.forEach(function(r){q[r.id]=r;});m.forEach(function(r){var s=q[r];this.addComment(s.id,s.clientid,s.legacyid);}.bind(this));}k.prototype.fetchComments=function(l,m,n){};e.exports=k;},null);
__d("UFIRange",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';function g(h,i){this.offset=h||0;this.length=i||0;this.requestedOffset=this.offset;this.requestedLength=this.length;}g.prototype.getOffset=function(){return this.offset;};g.prototype.getLength=function(){return this.length;};g.prototype.updateRange=function(h,i){this.offset=h;this.length=i;if(this.requestedLength>0){var j=Math.min(this.offset,this.requestedOffset),k=Math.max(this.offset+this.length,this.requestedOffset+this.requestedLength);this.requestedOffset=j;this.requestedLength=k-j;}else{this.requestedOffset=this.offset;this.requestedLength=this.length;}};g.prototype.getRequestedOffset=function(){return this.requestedOffset;};g.prototype.getRequestedLength=function(){return this.requestedLength;};g.prototype.updateRequestedRange=function(h,i){this.requestedOffset=h;this.requestedLength=i;};e.exports=g;},null);
__d("UFIController",["Arbiter","Bootloader","CSS","DOM","LayerRemoveOnHide","LiveTimer","PageAdminSignatureSettings","Parent","React","ReactMount","ShortProfiles","UFI.react","UFIActionLinkController","UFICentralUpdates","UFIFeaturedReplyCommentList","UFIFeaturedToplevelCommentList","UFICommentTemplates","UFIConstants","UFIFeedbackTargets","UFIInstanceState","UFIRange","UFIReplyCommentList","UFIToplevelCommentList","UFIUserActions","URI","isEmpty","onEnclosingPageletDestroy","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){b.__markCompiled&&b.__markCompiled();'use strict';var ia=function(ma,na,oa,pa,qa){var ra=ma+na===oa;return {offset:ma,length:(ra&&ja(qa))?pa-ma:na};},ja=function(ma){return ma==x.UFIPayloadSourceType.USER_ACTION||ma==x.UFIPayloadSourceType.LIVE_SEND;},ka=function(ma,na){for(var oa=0;oa<na.length;oa++){var pa=na[oa];if(pa.author)ma.push(pa.author);if(pa.socialcontext)ma.push(pa.socialcontext.topmutualid);if(pa.replyauthors&&pa.replyauthors.length)for(var qa=0;qa<pa.replyauthors.length;qa++)ma.push(pa.replyauthors[qa]);}};function la(ma,na,oa){this.root=ma;this.id=na.ftentidentifier;this.source=na.source;this.$UFIController0=na.instanceid;this.featuredToplevelCommentList=null;this.featuredReplyCommentLists={};this.$UFIController1=na;this.$UFIController1.rootid=this.root.id;this.$UFIController1.pagesAdminSignatureSettings=new m(this.$UFIController1.initAdminSignatureContext);this.$UFIController2=false;var pa=oa.feedbacktargets[0];this.actionLink=new s(ma,this.$UFIController1,pa,this.$UFIController0);this.orderingMode=pa.defaultcommentorderingmode;var qa=null;if(oa.featuredcommentlists&&oa.featuredcommentlists.comments&&oa.featuredcommentlists.comments[this.id]){qa=oa.featuredcommentlists.comments[this.id];this.featuredToplevelCommentList=new v(this.id,qa.values,oa.comments);}else qa=oa.commentlists.comments[this.id][this.orderingMode];this.ranges={};this.replyRanges={};this.repliesMap={};this.shortenTimestamp=na.shortenTimestamp;this.commentcounts={};this.commentcounts[this.id]=this.getToplevelCommentList().getCommentCount();var ra=pa.orderingmodes||[{value:this.orderingMode}];ra.forEach(function(va){this.ranges[va.value]=new aa(qa.range.offset,qa.range.length);}.bind(this));var sa,ta,ua;if(oa.commentlists.replies)for(sa=0;sa<qa.values.length;sa++){ta=qa.values[sa];ua=oa.commentlists.replies[ta];if(ua){this.commentcounts[ta]=this.getReplyCommentList(ta).getCommentCount();this.getReplyRange(ta).updateRange(ua.range.offset,ua.range.length);}}if(oa.featuredcommentlists)if(oa.featuredcommentlists.replies)for(sa=0;sa<qa.values.length;sa++){ta=qa.values[sa];ua=oa.featuredcommentlists.replies[ta];if(ua){this.featuredReplyCommentLists[ta]=new u(this.id,ta,ua.values,oa.comments);this.commentcounts[ta]=this.getReplyCommentList(ta).getCommentCount();this.getReplyRange(ta).updateRange(ua.range.offset,ua.range.length);}}this.$UFIController3=null;this.$UFIController4=null;this.ufiCentralUpdatesSubscriptions=[t.subscribe('feedback-updated',function(va,wa){var xa=wa.updates,ya=wa.payloadSource;if(ya!=x.UFIPayloadSourceType.COLLAPSED_UFI&&this.id in xa)this.fetchAndUpdate(this.render.bind(this),ya);}.bind(this)),t.subscribe('feedback-id-changed',function(va,wa){var xa=wa.updates;if(this.id in xa)this.id=xa[this.id];}.bind(this)),t.subscribe('instance-updated',function(va,wa){var xa=wa.updates;if(this.$UFIController0 in xa){var ya=xa[this.$UFIController0];if(ya.editcommentid||ya.inlineShare)this.render(wa.payloadSource);}}.bind(this))];this.clearPageletSubscription=ga(this.root,this.$UFIController6.bind(this));this.clearPageSubscription=g.subscribe('ufi/page_cleared',this.$UFIController7.bind(this));t.handleUpdate(x.UFIPayloadSourceType.INITIAL_SERVER,oa);if(this.$UFIController1.viewas)this.viewasUFICleanSubscription=g.subscribe('pre_page_transition',function(va,wa){if(this.$UFIController1.viewas!==ea(wa.to).getQueryData('viewas'))ca.resetCommentListsForFeedbackTargetID(this.id);}.bind(this));h.loadModules(["ScrollAwareDOM"],function(va){p.scrollMonitor=va.monitor;});g.inform('notifStory/ufiLoaded');}la.prototype.$UFIController8=function(){if(!this.$UFIController9)this.$UFIController9=n.byTag(this.root,'form');return this.$UFIController9;};la.prototype.$UFIControllera=function(event){var ma=!this.feedback.hasviewerliked;da.changeLike(this.id,ma,{source:this.source,target:event.target,rootid:this.$UFIController1.rootid});event.preventDefault();};la.prototype.$UFIControllerb=function(ma,event){var na=!ma.hasviewerliked;da.changeCommentLike(ma.id,na,{source:this.source,target:event.target});};la.prototype.$UFIControllerc=function(ma){z.updateState(this.$UFIController0,'isediting',true);z.updateState(this.$UFIController0,'editcommentid',ma.id);};la.prototype.$UFIControllerd=function(ma,na,event){if(!na.visibleValue&&!na.attachedPhoto&&!na.attachedSticker){this.$UFIControllere(ma,event);}else da.editComment(ma.id,na.visibleValue,na.encodedValue,{source:this.$UFIController1.source,target:event.target,attachedPhoto:na.attachedPhoto,attachedSticker:na.attachedSticker});z.updateStateField(this.$UFIController0,'locallycomposed',ma.id,true);this.$UFIControllerf();};la.prototype.$UFIControllerf=function(){z.updateState(this.$UFIController0,'isediting',false);z.updateState(this.$UFIController0,'editcommentid',null);};la.prototype.$UFIControllere=function(ma,event,na){this.$UFIControllerg(ma,false,event,na);};la.prototype.$UFIControllerg=function(ma,na,event,oa){var pa=w[':fb:ufi:hide-dialog-template'].build();j.setContent(pa.getNode('body'),ha._("Souhaitez-vous vraiment supprimer ce commentaire\u00a0?"));j.setContent(pa.getNode('title'),ha._("Supprimer le commentaire"));h.loadModules(["DialogX"],function(qa){var ra=new qa({modal:true,width:465,addedBehaviors:[k]},pa.getRoot());ra.subscribe('confirm',function(){da.removeComment(ma.id,{source:this.source,oneclick:na,target:event.target,timelinelogdata:this.$UFIController1.timelinelogdata});if(oa)oa.setState({isInlinePageDeleted:true});ra.hide();}.bind(this));ra.show();}.bind(this));};la.prototype.$UFIControllerh=function(ma,event){da.setHideAsSpam(ma.id,true,{source:this.source,target:event.target});};la.prototype.$UFIControlleri=function(ma,event){da.setHideAsSpam(ma.id,false,{source:this.source,target:event.target});};la.prototype.$UFIControllerj=function(ma,event){da.translateComment(ma,{source:this.source,target:event.target});};la.prototype.$UFIControllerk=function(ma,na,event){da.banUser(ma,this.feedback.ownerid,na,{source:this.source,target:event.target});};la.prototype.$UFIControllerl=function(ma,event){this.$UFIControllerk(ma,true,event);};la.prototype.$UFIControllerm=function(ma,event){this.$UFIControllerk(ma,false,event);};la.prototype.$UFIControllern=function(ma,na){da.fetchSpamComments(this.id,ma,na,this.$UFIController1.viewas);};la.prototype.$UFIControllero=function(ma,event){da.removePreview(ma,{source:this.source,target:event.target});};la.prototype.$UFIControllerp=function(ma){h.loadModules(["UFIRetryActions"],function(na){na.retrySubmit(ma,{source:this.source});}.bind(this));};la.prototype.$UFIControllerq=function(){if(this.$UFIController2)return;var ma=n.byTag(this.root,'form');if(ma){i.removeClass(ma,'collapsed_comments');this.$UFIController2=true;}};la.prototype.setRange=function(ma){this.getRange().updateRange(ma.offset,ma.length);};la.prototype.setReplyRange=function(ma,na){this.getReplyRange(ma).updateRange(na.offset,na.length);};la.prototype.render=function(ma){var na=z.getKeyForInstance(this.$UFIController0,'inlineShare'),oa=this.comments.length||!fa(this.feedback.likesentences.current);if(oa&&ja(ma))this.$UFIControllerq();var pa=this.getRange();if(this.$UFIController3===null)this.$UFIController3=pa.getOffset()+pa.getLength()-1;var qa=this.feedback.replysocialsentencemaxreplies||-1,ra={};ra[this.id]=this.getToplevelCommentList().getDeletedCount();var sa={},ta={},ua={};ta[this.id]=!this.featuredToplevelCommentList;this.comments.forEach(function(za){var ab=za.id;ra[ab]=this.getReplyCommentList(ab).getDeletedCount();sa[ab]=this.getToplevelCommentList().getPermalinkForComment(ab);ta[ab]=!this.featuredReplyCommentLists[ab];if(this.repliesMap[ab]){ua[ab]=this.repliesMap[ab].length>0;this.repliesMap[ab].forEach(function(bb){var cb=bb.id;sa[cb]=ba.getCommentList(this.id,ab).getPermalinkForComment(cb);}.bind(this));}}.bind(this));var va={};va[this.id]=pa;for(var wa in this.replyRanges)va[wa]=this.replyRanges[wa];var xa=!!this.featuredToplevelCommentList,ya=o.createElement(r,{feedback:this.feedback,id:this.id,onTargetLikeToggle:this.$UFIControllera.bind(this),onCommentLikeToggle:this.$UFIControllerb.bind(this),onCommentRemove:this.$UFIControllere.bind(this),onCommentHideAsSpam:this.$UFIControllerh.bind(this),onCommentMarkAsNotSpam:this.$UFIControlleri.bind(this),onCommentEdit:this.$UFIControllerc.bind(this),onCommentTranslate:this.$UFIControllerj.bind(this),onCommentInlineBan:this.$UFIControllerl.bind(this),onCommentUndoInlineBan:this.$UFIControllerm.bind(this),onEditAttempt:this.$UFIControllerd.bind(this),onCancelEdit:this.$UFIControllerf.bind(this),onChangeRange:this.$UFIControllerr.bind(this),onSpamFetch:this.$UFIControllern.bind(this),onPreviewRemove:this.$UFIControllero.bind(this),onRetrySubmit:this.$UFIControllerp.bind(this),onOrderingModeChange:this.$UFIControllers.bind(this),contextArgs:this.$UFIController1,repliesMap:this.repliesMap,shortenTimestamp:this.shortenTimestamp,commentCounts:this.commentcounts,deletedCounts:ra,availableComments:this.comments,source:this.source,ranges:va,pageSize:x.defaultPageSize,authorProfiles:this.authorProfiles,instanceid:this.$UFIController0,loggingOffset:this.$UFIController3,replySocialSentenceMaxReplies:qa,orderingMode:this.orderingMode,hideOrderingModeSelector:xa,commentPermalinks:sa,canAddCommentMap:ta,inlineShare:na,initialRepliesExpandMap:ua});this.$UFIController4=o.render(ya,this.root);l.updateTimeStamps();if(this.$UFIController8())g.inform('ufi/changed',{form:this.$UFIController8()});if(ma!=x.UFIPayloadSourceType.INITIAL_SERVER&&ma!=x.UFIPayloadSourceType.COLLAPSED_UFI)g.inform('reflow');};la.prototype.deferredCallback=function(ma,na,oa,pa){ma.callbackCount++;if(ma.callbackCount<ma.expectedCallbackCount)return;q.getMulti(na,function(qa){this.authorProfiles=qa;pa(oa);if(oa==x.UFIPayloadSourceType.ENDPOINT_COMMENT_FETCH)g.inform('CommentUFI.Pager');}.bind(this));};la.prototype.fetchAndUpdate=function(ma,na){y.getFeedbackTarget(this.id,function(oa){this.feedback=oa;var pa=this.getToplevelCommentList(this.orderingMode).getCommentCount(),qa=this.getRange(),ra=ia(qa.getRequestedOffset(),qa.getRequestedLength(),this.commentcounts[this.id],pa,na),sa=[];if(this.feedback.actorforpost)sa.push(this.feedback.actorforpost);var ta={expectedCallbackCount:0,callbackCount:0},ua=ra.offset,va=ra.length,wa={viewAs:this.$UFIController1.viewas+'',feedContext:this.$UFIController1.feedcontext};this.getToplevelCommentList().getComments(ua,va,wa,function(xa,ya,za){this.commentcounts[this.id]=ya;this.setRange(xa);this.comments=[];for(var ab in za)this.comments.push(za[ab]);ka(sa,this.comments);if(this.feedback.isthreaded&&this.comments.length){ta.expectedCallbackCount=this.comments.length;}else ta.expectedCallbackCount=1;for(var bb in za){var cb=za[bb],db=cb.id;if(this.feedback.isthreaded){var eb=this.getReplyCommentList(db).getCommentCount(),fb;if(this.replyRanges[db]){var gb=this.getReplyRange(db);fb=ia(gb.getRequestedOffset(),gb.getRequestedLength(),this.commentcounts[db],eb,na);}else if(cb.interestingReplyOffset!==(void 0)){fb={offset:cb.interestingReplyOffset,length:1};}else{var hb=this.feedback.isranked?0:Math.min(eb,2);fb={offset:0,length:hb};}var ib=fb.offset,jb=fb.length;this.getReplyCommentList(db).getComments(ib,jb,wa,function(kb,lb,mb,nb){this.commentcounts[kb]=mb;this.setReplyRange(kb,lb);this.repliesMap[kb]=[];for(var ob in nb)this.repliesMap[kb].push(nb[ob]);ka(sa,this.repliesMap[kb]);this.deferredCallback(ta,sa,na,ma);}.bind(this,db,fb,eb));}}if(!this.feedback.isthreaded||!this.comments.length)this.deferredCallback(ta,sa,na,ma);}.bind(this,ra,pa));}.bind(this));};la.prototype.getToplevelCommentList=function(){if(this.featuredToplevelCommentList)return this.featuredToplevelCommentList;return ca.getCommentList(this.id,this.orderingMode);};la.prototype.getReplyCommentList=function(ma){if(ma in this.featuredReplyCommentLists)return this.featuredReplyCommentLists[ma];return ba.getCommentList(this.id,ma);};la.prototype.getRange=function(){if(!(this.orderingMode in this.ranges))this.ranges[this.orderingMode]=new aa();return this.ranges[this.orderingMode];};la.prototype.getReplyRange=function(ma){if(!(ma in this.replyRanges))this.replyRanges[ma]=new aa();return this.replyRanges[ma];};la.prototype.$UFIControllerr=function(ma,na){if(ma==this.id){this.getRange().updateRequestedRange(na.offset,na.length);}else this.replyRanges[ma].updateRequestedRange(na.offset,na.length);this.fetchAndUpdate(this.render.bind(this),x.UFIPayloadSourceType.USER_ACTION);};la.prototype.$UFIController6=function(){o.unmountComponentAtNode(this.root);this.ufiCentralUpdatesSubscriptions.forEach(t.unsubscribe.bind(t));g.unsubscribe(this.clearPageSubscription);this.viewasUFICleanSubscription&&g.unsubscribe(this.viewasUFICleanSubscription);};la.prototype.$UFIController7=function(){this.$UFIController6();g.unsubscribe(this.clearPageletSubscription);};la.prototype.$UFIControllers=function(ma){this.orderingMode=ma;this.fetchAndUpdate(this.render.bind(this),x.UFIPayloadSourceType.USER_ACTION);};e.exports=la;},null);
__d("cssURL",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){return "url('"+h.replace(/(\\|\s|\(|\)|'|\")/g,'\\$1')+"')";}e.exports=g;},null);
__d("MentionsTypeaheadViewItem.react",["Badge.react","ImageBlock.react","React","TypeaheadViewItem","cssURL","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=i,n=m.PropTypes,o=i.createClass({displayName:"MentionsTypeaheadViewItem",mixins:[j.Mixin],propTypes:Object.assign({},j.propTypes,{ariaDescribedBy:n.string}),render:function(){var p=this.props.entry,q=p.getAuxiliaryData(),r=null;if(q)if(q.verified){r=i.createElement(g,{type:"verified",size:"xsmall"});}else if(q.workUser)r=i.createElement(g,{type:"work",size:"xsmall"});var s=p.getPhoto()?i.createElement("span",{className:"_5u93",style:{backgroundImage:k(p.getPhoto())}}):i.createElement("span",null),t=null;if(p.getSubtitle())t=i.createElement("div",{className:"_5u95"},p.getSubtitle());var u=(("_5u91")+(this.props.highlighted?' '+"_5u92":''));return (i.createElement("li",{role:"option",className:u,"aria-label":p.getTitle(),"aria-selected":this.props.highlighted,"aria-describedby":this.props.ariaDescribedBy,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight},i.createElement(h,{spacing:"medium"},s,i.createElement("div",null,i.createElement("div",{className:"_5u94"},p.getTitle(),r),t))));}});e.exports=o;},null);
__d("GroupMentionsTypeaheadView.react",["Image.react","MentionsTypeaheadViewItem.react","React","cx","extendArray","fbt","ix","uniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=i,p=o.PropTypes,q=l._("Aucun r\u00e9sultat"),r=i.createClass({displayName:"GroupMentionsTypeaheadView",propTypes:{id:p.string,viewProps:p.object,highlightedEntry:p.object,entries:p.array.isRequired,onSelect:p.func.isRequired,onHighlight:p.func,onRenderHighlight:p.func},getInitialState:function(){return {membersHeaderID:n(),nonMembersHeaderID:n()};},_renderItem:function(s,t){var u=s===this.props.highlightedEntry;return (i.createElement(h,{key:s.getUniqueID(),ariaDescribedBy:t,entry:s,highlighted:u,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this._onRenderHighlight}));},_renderMembers:function(s){var t=null;if(s.length){t=s.map(function(w,x){var y=x===0?this.state.membersHeaderID:null;return this._renderItem(w,y);}.bind(this));}else t=[i.createElement("li",{className:"_2ph-",role:"option","aria-describedby":this.state.membersHeaderID,"aria-label":q},q)];var u=null;if(this.props.viewProps.member.aux)u=i.createElement("span",{className:"_1knr"},' \u00b7 ',this.props.viewProps.member.aux);var v=[i.createElement("li",{id:this.state.membersHeaderID,className:"_1kns"},this.props.viewProps.member.title,u)];return k(v,t);},_renderNonMembers:function(s){if(!s.length)return null;var t=null;if(this.props.viewProps.nonMember.aux)t=i.createElement("span",{className:"_1knr"},' \u00b7 ',this.props.viewProps.nonMember.aux);var u=[i.createElement("li",{id:this.state.nonMembersHeaderID,className:"_1kns"},i.createElement(g,{src:m('/images/groups/secret-tag.png'),className:"_1knt"}),this.props.viewProps.nonMember.title,t)];return k(u,s.map(function(v,w){var x=w===0?this.state.nonMembersHeaderID:null;return this._renderItem(v,x);}.bind(this)));},render:function(){var s=[],t=[];this.props.entries.forEach(function(v){var w=v.getAuxiliaryData();if(w.renderType==='member'){s.push(v);}else t.push(v);});var u=(("_5u8_")+(!s.length&&!t.length?' '+"_5u90":''));return (i.createElement("ul",{className:u,role:"listbox",id:this.props.id},this._renderMembers(s),this._renderNonMembers(t)));}});e.exports=r;},null);
__d("XUFIActorSelectorNuxSeenController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/ufi\/actor_selector\/nux\/seen\/",{is_covered:{type:"Bool",defaultValue:false},is_timeline:{type:"Bool",defaultValue:false}});},null);
__d("UFIActorSelector.react",["ActorSelector.react","Arbiter","AsyncRequest","Parent","React","SubscriptionsHandler","UFICentralUpdates","UFIFeedbackTargets","UFIUserActions","XUFIActorSelectorNuxSeenController","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=k,s=r.PropTypes,t='ufi_actor_selector_nux_disabled_event',u=k.createClass({displayName:"UFIActorSelector",propTypes:{actorIDs:s.array.isRequired,ftEntIdentifier:s.string.isRequired,isTimeline:s.bool,nuxEnabledCovered:s.bool,nuxEnabledUncovered:s.bool,nuxHoverContext:s.object,settingsURI:s.string},getInitialState:function(){var v=j.byClass(this.props.nuxHoverContext,'timelineUnitContainer');return {loading:false,nuxEnabledCovered:this.props.nuxEnabledCovered,nuxEnabledUncovered:this.props.nuxEnabledUncovered,nuxHoverContext:v?v:this.props.nuxHoverContext,selectedActorID:null};},render:function(){return (k.createElement(g,{actorIDs:this.props.actorIDs,coverEnabled:true,loading:this.state.loading,nuxBody:this._getNUXBody(),nuxEnabledCovered:this.state.nuxEnabledCovered,nuxEnabledUncovered:this.state.nuxEnabledUncovered,nuxHoverContext:this.state.nuxHoverContext,onChange:this._onChange,onCompleteNux:this._onCompleteNux,selectedActorID:this.state.selectedActorID,settingsURI:this.props.settingsURI,tooltipConstructor:this._getTooltipForActorName,tooltipConstructorCovered:this._getCoveredTooltip}));},componentDidMount:function(){this._updateSelectedActorIDFromFeedbackTarget();this._subscriptions=new l();this._subscriptions.addSubscriptions(m.subscribe('feedback-updated',function(v,w){if(this.props.ftEntIdentifier in w.updates)this._updateSelectedActorIDFromFeedbackTarget();}.bind(this)),h.subscribe(t,function(){this.setState({nuxEnabledCovered:false,nuxEnabledUncovered:false});}.bind(this)));},componentWillUnmount:function(){this._subscriptions.release();},_updateSelectedActorIDFromFeedbackTarget:function(){n.getFeedbackTarget(this.props.ftEntIdentifier,function(v){this.setState({loading:false,selectedActorID:v.actorforpost});}.bind(this));},_getNUXBody:function(){return (q._("Choisissez d\u2019aimer ou de commenter en votre nom propre ou en tant que l\u2019une des Pages que vous g\u00e9rez."));},_getTooltipForActorName:function(v){return (q._("Vous aimez et commentez en tant que {actorName}",[q.param("actorName",v)]));},_getCoveredTooltip:function(){return (q._("Aimez ou commentez en tant que l\u2019une des Pages que vous g\u00e9rez."));},_onChange:function(v){this.setState({loading:true});o.changeActor(this.props.ftEntIdentifier,v.value);},_onCompleteNux:function(v){var w=v.isCovered,x=p.getURIBuilder().setBool('is_covered',w).setBool('is_timeline',this.props.isTimeline).getURI();new i().setURI(x).send();h.inform(t);}});e.exports=u;},null);
__d("UFIMentionsInputProxy.react",["Bootloader","immutable","React","cx","emptyFunction","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=i.createClass({displayName:"UFIMentionsInputProxy",getInitialState:function(){return {cmdBuffer:h.List(),component:null};},componentDidMount:function(){if(this.props.initialData)this._bootload();},hasEnteredText:function(){return this._fillCmdBuffer({fn:'hasEnteredText',args:[]});},setSignature:function(n){this._fillCmdBuffer({fn:'setSignature',args:[n]});},focus:function(){this._fillCmdBuffer({fn:'focus',args:[]});},submitComment:function(event){this._fillCmdBuffer({fn:'submitComment',args:[event]});},insertMention:function(n){this._fillCmdBuffer({fn:'insertMention',args:[n]});},insertEmoticon:function(n){this._fillCmdBuffer({fn:'insertEmoticon',args:[n]});},_bootload:function(){g.loadModules(["UFIMentionsInput.react"],function(n){return this.setState({component:n});}.bind(this));},_focusAndLoad:function(){this._bootload();this.focus();},_hasBufferedCommands:function(){return this.state.cmdBuffer.size>0;},_fillCmdBuffer:function(n){if(this.refs.mentionsinputchild){return this._execCmd(n);}else this.setState({cmdBuffer:this.state.cmdBuffer.push(n)});},_drainFnBuffer:function(){var n=this.state.cmdBuffer.first();this.setState({cmdBuffer:this.state.cmdBuffer.shift()});return n;},_execCmd:function(n){var o=this.refs.mentionsinputchild;return o[n.fn].apply(o,n.args);},_renderProxyInput:function(){var n="_1osa mentionsHidden";return (i.createElement("input",{className:n,name:"add_comment_text",ref:"proxyInput",onFocus:this._focusAndLoad,tabIndex:"-1"}));},_renderDummy:function(){var n="UFIAddCommentInput _1osb _1osc";return (i.createElement("div",{onFocus:this._focusAndLoad,onClick:this._focusAndLoad,onTouchStart:k,onMouseOver:this._bootload},i.createElement("div",{className:n},this._renderProxyInput(),this.props.placeholder)));},render:function(){var n=this.state.component;if(!n)return this._renderDummy();if(this._hasBufferedCommands())l(function(){return this._execCmd(this._drainFnBuffer());}.bind(this));return (i.createElement(n,i.__spread({key:"mentionsinputchild",ref:"mentionsinputchild"},this.props),this.props.children));}});e.exports=m;},null);